{"ast":null,"code":"'use strict';\n\nconst pReflect = require('p-reflect');\n\nconst pLimit = require('p-limit');\n\nmodule.exports = async function (array) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    concurrency = Infinity\n  } = options;\n  const limit = pLimit(concurrency);\n  return Promise.all(array.map(element => {\n    if (element && typeof element.then === 'function') {\n      // eslint-disable-line promise/prefer-await-to-then\n      return pReflect(element);\n    }\n\n    if (typeof element === 'function') {\n      return pReflect(limit(() => element()));\n    }\n\n    return pReflect(Promise.resolve(element));\n  }));\n};","map":{"version":3,"names":["pReflect","require","pLimit","module","exports","array","options","concurrency","Infinity","limit","Promise","all","map","element","then","resolve"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/p-settle/index.js"],"sourcesContent":["'use strict';\nconst pReflect = require('p-reflect');\nconst pLimit = require('p-limit');\n\nmodule.exports = async (array, options = {}) => {\n\tconst {concurrency = Infinity} = options;\n\tconst limit = pLimit(concurrency);\n\n\treturn Promise.all(array.map(element => {\n\t\tif (element && typeof element.then === 'function') { // eslint-disable-line promise/prefer-await-to-then\n\t\t\treturn pReflect(element);\n\t\t}\n\n\t\tif (typeof element === 'function') {\n\t\t\treturn pReflect(limit(() => element()));\n\t\t}\n\n\t\treturn pReflect(Promise.resolve(element));\n\t}));\n};\n"],"mappings":"AAAA;;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,SAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,gBAAOC,KAAP,EAA+B;EAAA,IAAjBC,OAAiB,uEAAP,EAAO;EAC/C,MAAM;IAACC,WAAW,GAAGC;EAAf,IAA2BF,OAAjC;EACA,MAAMG,KAAK,GAAGP,MAAM,CAACK,WAAD,CAApB;EAEA,OAAOG,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACO,GAAN,CAAUC,OAAO,IAAI;IACvC,IAAIA,OAAO,IAAI,OAAOA,OAAO,CAACC,IAAf,KAAwB,UAAvC,EAAmD;MAAE;MACpD,OAAOd,QAAQ,CAACa,OAAD,CAAf;IACA;;IAED,IAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;MAClC,OAAOb,QAAQ,CAACS,KAAK,CAAC,MAAMI,OAAO,EAAd,CAAN,CAAf;IACA;;IAED,OAAOb,QAAQ,CAACU,OAAO,CAACK,OAAR,CAAgBF,OAAhB,CAAD,CAAf;EACA,CAVkB,CAAZ,CAAP;AAWA,CAfD"},"metadata":{},"sourceType":"script"}