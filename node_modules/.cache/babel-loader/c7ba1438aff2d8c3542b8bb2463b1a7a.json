{"ast":null,"code":"'use strict';\n\nconst Envelope = require('./envelope');\n\nconst PeerRecord = require('./peer-record');\n/**\n * @typedef {import('../')} Libp2p\n */\n\n/**\n * Create (or update if existing) self peer record and store it in the AddressBook.\n *\n * @param {Libp2p} libp2p\n * @returns {Promise<void>}\n */\n\n\nasync function updateSelfPeerRecord(libp2p) {\n  const peerRecord = new PeerRecord({\n    peerId: libp2p.peerId,\n    multiaddrs: libp2p.multiaddrs\n  });\n  const envelope = await Envelope.seal(peerRecord, libp2p.peerId);\n  libp2p.peerStore.addressBook.consumePeerRecord(envelope);\n}\n\nmodule.exports.updateSelfPeerRecord = updateSelfPeerRecord;","map":{"version":3,"names":["Envelope","require","PeerRecord","updateSelfPeerRecord","libp2p","peerRecord","peerId","multiaddrs","envelope","seal","peerStore","addressBook","consumePeerRecord","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/libp2p/src/record/utils.js"],"sourcesContent":["'use strict'\n\nconst Envelope = require('./envelope')\nconst PeerRecord = require('./peer-record')\n\n/**\n * @typedef {import('../')} Libp2p\n */\n\n/**\n * Create (or update if existing) self peer record and store it in the AddressBook.\n *\n * @param {Libp2p} libp2p\n * @returns {Promise<void>}\n */\nasync function updateSelfPeerRecord (libp2p) {\n  const peerRecord = new PeerRecord({\n    peerId: libp2p.peerId,\n    multiaddrs: libp2p.multiaddrs\n  })\n  const envelope = await Envelope.seal(peerRecord, libp2p.peerId)\n  libp2p.peerStore.addressBook.consumePeerRecord(envelope)\n}\n\nmodule.exports.updateSelfPeerRecord = updateSelfPeerRecord\n"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,eAAD,CAA1B;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAeE,oBAAf,CAAqCC,MAArC,EAA6C;EAC3C,MAAMC,UAAU,GAAG,IAAIH,UAAJ,CAAe;IAChCI,MAAM,EAAEF,MAAM,CAACE,MADiB;IAEhCC,UAAU,EAAEH,MAAM,CAACG;EAFa,CAAf,CAAnB;EAIA,MAAMC,QAAQ,GAAG,MAAMR,QAAQ,CAACS,IAAT,CAAcJ,UAAd,EAA0BD,MAAM,CAACE,MAAjC,CAAvB;EACAF,MAAM,CAACM,SAAP,CAAiBC,WAAjB,CAA6BC,iBAA7B,CAA+CJ,QAA/C;AACD;;AAEDK,MAAM,CAACC,OAAP,CAAeX,oBAAf,GAAsCA,oBAAtC"},"metadata":{},"sourceType":"script"}