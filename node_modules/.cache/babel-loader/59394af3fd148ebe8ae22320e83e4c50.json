{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _asyncToGenerator = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar cid = require('multiformats/cid');\n\nvar dagPb = require('@ipld/dag-pb');\n\nvar sha2 = require('multiformats/hashes/sha2');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function get() {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar dagPb__namespace = /*#__PURE__*/_interopNamespace(dagPb);\n\nvar persist = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(buffer, blockstore, options) {\n    var multihash, cid$1;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!options.codec) {\n              options.codec = dagPb__namespace;\n            }\n\n            if (!options.hasher) {\n              options.hasher = sha2.sha256;\n            }\n\n            if (options.cidVersion === undefined) {\n              options.cidVersion = 1;\n            }\n\n            if (options.codec === dagPb__namespace && options.hasher !== sha2.sha256) {\n              options.cidVersion = 1;\n            }\n\n            _context.next = 6;\n            return options.hasher.digest(buffer);\n\n          case 6:\n            multihash = _context.sent;\n            cid$1 = cid.CID.create(options.cidVersion, options.codec.code, multihash);\n\n            if (options.onlyHash) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 11;\n            return blockstore.put(cid$1, buffer, {\n              signal: options.signal\n            });\n\n          case 11:\n            return _context.abrupt(\"return\", cid$1);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function persist(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = persist;","map":{"version":3,"names":["cid","require","dagPb","sha2","_interopNamespace","e","__esModule","n","Object","create","keys","forEach","k","d","getOwnPropertyDescriptor","defineProperty","get","enumerable","freeze","dagPb__namespace","persist","buffer","blockstore","options","codec","hasher","sha256","cidVersion","undefined","digest","multihash","cid$1","CID","code","onlyHash","put","signal","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-unixfs-importer/cjs/src/utils/persist.js"],"sourcesContent":["'use strict';\n\nvar cid = require('multiformats/cid');\nvar dagPb = require('@ipld/dag-pb');\nvar sha2 = require('multiformats/hashes/sha2');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar dagPb__namespace = /*#__PURE__*/_interopNamespace(dagPb);\n\nconst persist = async (buffer, blockstore, options) => {\n  if (!options.codec) {\n    options.codec = dagPb__namespace;\n  }\n  if (!options.hasher) {\n    options.hasher = sha2.sha256;\n  }\n  if (options.cidVersion === undefined) {\n    options.cidVersion = 1;\n  }\n  if (options.codec === dagPb__namespace && options.hasher !== sha2.sha256) {\n    options.cidVersion = 1;\n  }\n  const multihash = await options.hasher.digest(buffer);\n  const cid$1 = cid.CID.create(options.cidVersion, options.codec.code, multihash);\n  if (!options.onlyHash) {\n    await blockstore.put(cid$1, buffer, { signal: options.signal });\n  }\n  return cid$1;\n};\n\nmodule.exports = persist;\n"],"mappings":"AAAA;;;;;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,kBAAD,CAAjB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,0BAAD,CAAlB;;AAEA,SAASG,iBAAT,CAA2BC,CAA3B,EAA8B;EAC5B,IAAIA,CAAC,IAAIA,CAAC,CAACC,UAAX,EAAuB,OAAOD,CAAP;EACvB,IAAIE,CAAC,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAR;;EACA,IAAIJ,CAAJ,EAAO;IACLG,MAAM,CAACE,IAAP,CAAYL,CAAZ,EAAeM,OAAf,CAAuB,UAAUC,CAAV,EAAa;MAClC,IAAIA,CAAC,KAAK,SAAV,EAAqB;QACnB,IAAIC,CAAC,GAAGL,MAAM,CAACM,wBAAP,CAAgCT,CAAhC,EAAmCO,CAAnC,CAAR;QACAJ,MAAM,CAACO,cAAP,CAAsBR,CAAtB,EAAyBK,CAAzB,EAA4BC,CAAC,CAACG,GAAF,GAAQH,CAAR,GAAY;UACtCI,UAAU,EAAE,IAD0B;UAEtCD,GAAG,EAAE,eAAY;YAAE,OAAOX,CAAC,CAACO,CAAD,CAAR;UAAc;QAFK,CAAxC;MAID;IACF,CARD;EASD;;EACDL,CAAC,CAAC,SAAD,CAAD,GAAeF,CAAf;EACA,OAAOG,MAAM,CAACU,MAAP,CAAcX,CAAd,CAAP;AACD;;AAED,IAAIY,gBAAgB,GAAG,aAAaf,iBAAiB,CAACF,KAAD,CAArD;;AAEA,IAAMkB,OAAO;EAAA,sEAAG,iBAAOC,MAAP,EAAeC,UAAf,EAA2BC,OAA3B;IAAA;IAAA;MAAA;QAAA;UAAA;YACd,IAAI,CAACA,OAAO,CAACC,KAAb,EAAoB;cAClBD,OAAO,CAACC,KAAR,GAAgBL,gBAAhB;YACD;;YACD,IAAI,CAACI,OAAO,CAACE,MAAb,EAAqB;cACnBF,OAAO,CAACE,MAAR,GAAiBtB,IAAI,CAACuB,MAAtB;YACD;;YACD,IAAIH,OAAO,CAACI,UAAR,KAAuBC,SAA3B,EAAsC;cACpCL,OAAO,CAACI,UAAR,GAAqB,CAArB;YACD;;YACD,IAAIJ,OAAO,CAACC,KAAR,KAAkBL,gBAAlB,IAAsCI,OAAO,CAACE,MAAR,KAAmBtB,IAAI,CAACuB,MAAlE,EAA0E;cACxEH,OAAO,CAACI,UAAR,GAAqB,CAArB;YACD;;YAZa;YAAA,OAaUJ,OAAO,CAACE,MAAR,CAAeI,MAAf,CAAsBR,MAAtB,CAbV;;UAAA;YAaRS,SAbQ;YAcRC,KAdQ,GAcA/B,GAAG,CAACgC,GAAJ,CAAQvB,MAAR,CAAec,OAAO,CAACI,UAAvB,EAAmCJ,OAAO,CAACC,KAAR,CAAcS,IAAjD,EAAuDH,SAAvD,CAdA;;YAAA,IAeTP,OAAO,CAACW,QAfC;cAAA;cAAA;YAAA;;YAAA;YAAA,OAgBNZ,UAAU,CAACa,GAAX,CAAeJ,KAAf,EAAsBV,MAAtB,EAA8B;cAAEe,MAAM,EAAEb,OAAO,CAACa;YAAlB,CAA9B,CAhBM;;UAAA;YAAA,iCAkBPL,KAlBO;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAPX,OAAO;IAAA;EAAA;AAAA,GAAb;;AAqBAiB,MAAM,CAACC,OAAP,GAAiBlB,OAAjB"},"metadata":{},"sourceType":"script"}