{"ast":null,"code":"'use strict';\n\nfunction difference(a, b, key) {\n  // Indices for quick lookups\n  var processed = {};\n  var existing = {}; // Create an index of the first collection\n\n  var addToIndex = function addToIndex(e) {\n    return existing[key ? e[key] : e] = true;\n  };\n\n  a.forEach(addToIndex); // Reduce to entries that are not in the first collection\n\n  var reducer = function reducer(res, entry) {\n    var isInFirst = existing[key ? entry[key] : entry] !== undefined;\n    var hasBeenProcessed = processed[key ? entry[key] : entry] !== undefined;\n\n    if (!isInFirst && !hasBeenProcessed) {\n      res.push(entry);\n      processed[key ? entry[key] : entry] = true;\n    }\n\n    return res;\n  };\n\n  return b.reduce(reducer, []);\n}\n\nmodule.exports = difference;","map":{"version":3,"names":["difference","a","b","key","processed","existing","addToIndex","e","forEach","reducer","res","entry","isInFirst","undefined","hasBeenProcessed","push","reduce","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-log/src/utils/difference.js"],"sourcesContent":["'use strict'\n\nfunction difference (a, b, key) {\n  // Indices for quick lookups\n  const processed = {}\n  const existing = {}\n\n  // Create an index of the first collection\n  const addToIndex = e => (existing[key ? e[key] : e] = true)\n  a.forEach(addToIndex)\n\n  // Reduce to entries that are not in the first collection\n  const reducer = (res, entry) => {\n    const isInFirst = existing[key ? entry[key] : entry] !== undefined\n    const hasBeenProcessed = processed[key ? entry[key] : entry] !== undefined\n    if (!isInFirst && !hasBeenProcessed) {\n      res.push(entry)\n      processed[key ? entry[key] : entry] = true\n    }\n    return res\n  }\n\n  return b.reduce(reducer, [])\n}\n\nmodule.exports = difference\n"],"mappings":"AAAA;;AAEA,SAASA,UAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2BC,GAA3B,EAAgC;EAC9B;EACA,IAAMC,SAAS,GAAG,EAAlB;EACA,IAAMC,QAAQ,GAAG,EAAjB,CAH8B,CAK9B;;EACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,CAAC;IAAA,OAAKF,QAAQ,CAACF,GAAG,GAAGI,CAAC,CAACJ,GAAD,CAAJ,GAAYI,CAAhB,CAAR,GAA6B,IAAlC;EAAA,CAApB;;EACAN,CAAC,CAACO,OAAF,CAAUF,UAAV,EAP8B,CAS9B;;EACA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAMC,KAAN,EAAgB;IAC9B,IAAMC,SAAS,GAAGP,QAAQ,CAACF,GAAG,GAAGQ,KAAK,CAACR,GAAD,CAAR,GAAgBQ,KAApB,CAAR,KAAuCE,SAAzD;IACA,IAAMC,gBAAgB,GAAGV,SAAS,CAACD,GAAG,GAAGQ,KAAK,CAACR,GAAD,CAAR,GAAgBQ,KAApB,CAAT,KAAwCE,SAAjE;;IACA,IAAI,CAACD,SAAD,IAAc,CAACE,gBAAnB,EAAqC;MACnCJ,GAAG,CAACK,IAAJ,CAASJ,KAAT;MACAP,SAAS,CAACD,GAAG,GAAGQ,KAAK,CAACR,GAAD,CAAR,GAAgBQ,KAApB,CAAT,GAAsC,IAAtC;IACD;;IACD,OAAOD,GAAP;EACD,CARD;;EAUA,OAAOR,CAAC,CAACc,MAAF,CAASP,OAAT,EAAkB,EAAlB,CAAP;AACD;;AAEDQ,MAAM,CAACC,OAAP,GAAiBlB,UAAjB"},"metadata":{},"sourceType":"script"}