{"ast":null,"code":"'use strict';\n\nconst webcrypto = require('../webcrypto');\n\nconst lengths = require('./lengths');\n\nconst hashTypes = {\n  SHA1: 'SHA-1',\n  SHA256: 'SHA-256',\n  SHA512: 'SHA-512'\n};\n\nconst sign = async (key, data) => {\n  const buf = await webcrypto.get().subtle.sign({\n    name: 'HMAC'\n  }, key, data);\n  return new Uint8Array(buf, buf.byteOffset, buf.byteLength);\n};\n\nexports.create = async function (hashType, secret) {\n  const hash = hashTypes[hashType];\n  const key = await webcrypto.get().subtle.importKey('raw', secret, {\n    name: 'HMAC',\n    hash: {\n      name: hash\n    }\n  }, false, ['sign']);\n  return {\n    async digest(data) {\n      // eslint-disable-line require-await\n      return sign(key, data);\n    },\n\n    length: lengths[hashType]\n  };\n};","map":{"version":3,"names":["webcrypto","require","lengths","hashTypes","SHA1","SHA256","SHA512","sign","key","data","buf","get","subtle","name","Uint8Array","byteOffset","byteLength","exports","create","hashType","secret","hash","importKey","digest","length"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/libp2p-delegated-content-routing/node_modules/libp2p-crypto/src/hmac/index-browser.js"],"sourcesContent":["'use strict'\n\nconst webcrypto = require('../webcrypto')\nconst lengths = require('./lengths')\n\nconst hashTypes = {\n  SHA1: 'SHA-1',\n  SHA256: 'SHA-256',\n  SHA512: 'SHA-512'\n}\n\nconst sign = async (key, data) => {\n  const buf = await webcrypto.get().subtle.sign({ name: 'HMAC' }, key, data)\n  return new Uint8Array(buf, buf.byteOffset, buf.byteLength)\n}\n\nexports.create = async function (hashType, secret) {\n  const hash = hashTypes[hashType]\n\n  const key = await webcrypto.get().subtle.importKey(\n    'raw',\n    secret,\n    {\n      name: 'HMAC',\n      hash: { name: hash }\n    },\n    false,\n    ['sign']\n  )\n\n  return {\n    async digest (data) { // eslint-disable-line require-await\n      return sign(key, data)\n    },\n    length: lengths[hashType]\n  }\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AAEA,MAAME,SAAS,GAAG;EAChBC,IAAI,EAAE,OADU;EAEhBC,MAAM,EAAE,SAFQ;EAGhBC,MAAM,EAAE;AAHQ,CAAlB;;AAMA,MAAMC,IAAI,GAAG,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;EAChC,MAAMC,GAAG,GAAG,MAAMV,SAAS,CAACW,GAAV,GAAgBC,MAAhB,CAAuBL,IAAvB,CAA4B;IAAEM,IAAI,EAAE;EAAR,CAA5B,EAA8CL,GAA9C,EAAmDC,IAAnD,CAAlB;EACA,OAAO,IAAIK,UAAJ,CAAeJ,GAAf,EAAoBA,GAAG,CAACK,UAAxB,EAAoCL,GAAG,CAACM,UAAxC,CAAP;AACD,CAHD;;AAKAC,OAAO,CAACC,MAAR,GAAiB,gBAAgBC,QAAhB,EAA0BC,MAA1B,EAAkC;EACjD,MAAMC,IAAI,GAAGlB,SAAS,CAACgB,QAAD,CAAtB;EAEA,MAAMX,GAAG,GAAG,MAAMR,SAAS,CAACW,GAAV,GAAgBC,MAAhB,CAAuBU,SAAvB,CAChB,KADgB,EAEhBF,MAFgB,EAGhB;IACEP,IAAI,EAAE,MADR;IAEEQ,IAAI,EAAE;MAAER,IAAI,EAAEQ;IAAR;EAFR,CAHgB,EAOhB,KAPgB,EAQhB,CAAC,MAAD,CARgB,CAAlB;EAWA,OAAO;IACL,MAAME,MAAN,CAAcd,IAAd,EAAoB;MAAE;MACpB,OAAOF,IAAI,CAACC,GAAD,EAAMC,IAAN,CAAX;IACD,CAHI;;IAILe,MAAM,EAAEtB,OAAO,CAACiB,QAAD;EAJV,CAAP;AAMD,CApBD"},"metadata":{},"sourceType":"script"}