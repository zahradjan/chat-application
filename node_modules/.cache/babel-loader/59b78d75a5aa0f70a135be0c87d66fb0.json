{"ast":null,"code":"'use strict';\n\nconst {\n  createRepo\n} = require('ipfs-repo');\n\nconst DatastoreLevel = require('datastore-level');\n\nconst BlockstoreDatastoreAdapter = require('blockstore-datastore-adapter');\n/**\n * @typedef {import('ipfs-repo-migrations').ProgressCallback} MigrationProgressCallback\n */\n\n/**\n * @param {import('../types').Print} print\n * @param {import('ipfs-core-utils/src/multicodecs')} codecs\n * @param {object} options\n * @param {string} [options.path]\n * @param {boolean} [options.autoMigrate]\n * @param {MigrationProgressCallback} [options.onMigrationProgress]\n */\n\n\nmodule.exports = (print, codecs, options) => {\n  const repoPath = options.path || 'ipfs';\n  return createRepo(repoPath, codeOrName => codecs.getCodec(codeOrName), {\n    root: new DatastoreLevel(repoPath, {\n      prefix: '',\n      version: 2\n    }),\n    blocks: new BlockstoreDatastoreAdapter(new DatastoreLevel(`${repoPath}/blocks`, {\n      prefix: '',\n      version: 2\n    })),\n    datastore: new DatastoreLevel(`${repoPath}/datastore`, {\n      prefix: '',\n      version: 2\n    }),\n    keys: new DatastoreLevel(`${repoPath}/keys`, {\n      prefix: '',\n      version: 2\n    }),\n    pins: new DatastoreLevel(`${repoPath}/pins`, {\n      prefix: '',\n      version: 2\n    })\n  }, {\n    autoMigrate: options.autoMigrate,\n    onMigrationProgress: options.onMigrationProgress || print\n  });\n};","map":{"version":3,"names":["createRepo","require","DatastoreLevel","BlockstoreDatastoreAdapter","module","exports","print","codecs","options","repoPath","path","codeOrName","getCodec","root","prefix","version","blocks","datastore","keys","pins","autoMigrate","onMigrationProgress"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-core/src/runtime/repo-browser.js"],"sourcesContent":["'use strict'\n\nconst { createRepo } = require('ipfs-repo')\nconst DatastoreLevel = require('datastore-level')\nconst BlockstoreDatastoreAdapter = require('blockstore-datastore-adapter')\n\n/**\n * @typedef {import('ipfs-repo-migrations').ProgressCallback} MigrationProgressCallback\n */\n\n/**\n * @param {import('../types').Print} print\n * @param {import('ipfs-core-utils/src/multicodecs')} codecs\n * @param {object} options\n * @param {string} [options.path]\n * @param {boolean} [options.autoMigrate]\n * @param {MigrationProgressCallback} [options.onMigrationProgress]\n */\nmodule.exports = (print, codecs, options) => {\n  const repoPath = options.path || 'ipfs'\n\n  return createRepo(repoPath, (codeOrName) => codecs.getCodec(codeOrName), {\n    root: new DatastoreLevel(repoPath, {\n      prefix: '',\n      version: 2\n    }),\n    blocks: new BlockstoreDatastoreAdapter(\n      new DatastoreLevel(`${repoPath}/blocks`, {\n        prefix: '',\n        version: 2\n      })\n    ),\n    datastore: new DatastoreLevel(`${repoPath}/datastore`, {\n      prefix: '',\n      version: 2\n    }),\n    keys: new DatastoreLevel(`${repoPath}/keys`, {\n      prefix: '',\n      version: 2\n    }),\n    pins: new DatastoreLevel(`${repoPath}/pins`, {\n      prefix: '',\n      version: 2\n    })\n  }, {\n    autoMigrate: options.autoMigrate,\n    onMigrationProgress: options.onMigrationProgress || print\n  })\n}\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA;AAAF,IAAiBC,OAAO,CAAC,WAAD,CAA9B;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,iBAAD,CAA9B;;AACA,MAAME,0BAA0B,GAAGF,OAAO,CAAC,8BAAD,CAA1C;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAG,MAAM,CAACC,OAAP,GAAiB,CAACC,KAAD,EAAQC,MAAR,EAAgBC,OAAhB,KAA4B;EAC3C,MAAMC,QAAQ,GAAGD,OAAO,CAACE,IAAR,IAAgB,MAAjC;EAEA,OAAOV,UAAU,CAACS,QAAD,EAAYE,UAAD,IAAgBJ,MAAM,CAACK,QAAP,CAAgBD,UAAhB,CAA3B,EAAwD;IACvEE,IAAI,EAAE,IAAIX,cAAJ,CAAmBO,QAAnB,EAA6B;MACjCK,MAAM,EAAE,EADyB;MAEjCC,OAAO,EAAE;IAFwB,CAA7B,CADiE;IAKvEC,MAAM,EAAE,IAAIb,0BAAJ,CACN,IAAID,cAAJ,CAAoB,GAAEO,QAAS,SAA/B,EAAyC;MACvCK,MAAM,EAAE,EAD+B;MAEvCC,OAAO,EAAE;IAF8B,CAAzC,CADM,CAL+D;IAWvEE,SAAS,EAAE,IAAIf,cAAJ,CAAoB,GAAEO,QAAS,YAA/B,EAA4C;MACrDK,MAAM,EAAE,EAD6C;MAErDC,OAAO,EAAE;IAF4C,CAA5C,CAX4D;IAevEG,IAAI,EAAE,IAAIhB,cAAJ,CAAoB,GAAEO,QAAS,OAA/B,EAAuC;MAC3CK,MAAM,EAAE,EADmC;MAE3CC,OAAO,EAAE;IAFkC,CAAvC,CAfiE;IAmBvEI,IAAI,EAAE,IAAIjB,cAAJ,CAAoB,GAAEO,QAAS,OAA/B,EAAuC;MAC3CK,MAAM,EAAE,EADmC;MAE3CC,OAAO,EAAE;IAFkC,CAAvC;EAnBiE,CAAxD,EAuBd;IACDK,WAAW,EAAEZ,OAAO,CAACY,WADpB;IAEDC,mBAAmB,EAAEb,OAAO,CAACa,mBAAR,IAA+Bf;EAFnD,CAvBc,CAAjB;AA2BD,CA9BD"},"metadata":{},"sourceType":"script"}