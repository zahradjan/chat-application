{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\n\nvar _regeneratorRuntime = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _asyncToGenerator = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar _objectSpread = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\n\nvar _classCallCheck = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _inherits = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/inherits.js\").default;\n\nvar _createSuper = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/createSuper.js\").default;\n\nvar _require = require('interface-datastore'),\n    Key = _require.Key,\n    Errors = _require.Errors,\n    Adapter = _require.Adapter,\n    sortAll = _require.utils.sortAll;\n\nvar filter = require('it-filter');\n\nvar map = require('it-map');\n\nvar take = require('it-take');\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} QueryOptions\n */\n\n/**\n * A datastore backed by leveldb.\n *\n * @implements {Datastore}\n */\n\n\nvar LevelDatastore = /*#__PURE__*/function (_Adapter) {\n  _inherits(LevelDatastore, _Adapter);\n\n  var _super = _createSuper(LevelDatastore);\n\n  /**\n   * @param {any} path\n   * @param {Object} [opts]\n   * @param {any} [opts.db] - level db reference\n   * @param {boolean} [opts.createIfMissing]\n   * @param {boolean} [opts.errorIfExists]\n   * @param {string} [opts.prefix] - level-js option\n   * @param {number} [opts.version] - level-js option\n   * @param {number} [opts.cacheSize] - leveldown option\n   * @param {number} [opts.writeBufferSize] - leveldown option\n   * @param {number} [opts.blockSize] - leveldown option\n   * @param {number} [opts.maxOpenFiles] - leveldown option\n   * @param {number} [opts.blockRestartInterval] - leveldown option\n   * @param {number} [opts.maxFileSize] - leveldown option\n   */\n  function LevelDatastore(path, opts) {\n    var _this;\n\n    _classCallCheck(this, LevelDatastore);\n\n    _this = _super.call(this);\n    _this.path = path;\n    _this.opts = opts;\n\n    if (opts && opts.db) {\n      _this.database = opts.db;\n      delete opts.db;\n    } else {\n      // @ts-ignore\n      _this.database = require('level');\n    }\n\n    return _this;\n  }\n\n  _createClass(LevelDatastore, [{\n    key: \"_initDb\",\n    value: function _initDb() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this2.db = _this2.database(_this2.path, _objectSpread(_objectSpread({}, _this2.opts), {}, {\n          valueEncoding: 'binary',\n          compression: false // same default as go\n\n        }),\n        /** @param {Error}  [err] */\n        function (err) {\n          if (err) {\n            return reject(err);\n          }\n\n          resolve(_this2.db);\n        });\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function () {\n      var _open = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                if (!this.db) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.db.open();\n\n              case 4:\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.next = 8;\n                return this._initDb();\n\n              case 8:\n                this.db = _context.sent;\n\n              case 9:\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                throw Errors.dbOpenFailedError(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 11]]);\n      }));\n\n      function open() {\n        return _open.apply(this, arguments);\n      }\n\n      return open;\n    }()\n    /**\n     * @param {Key} key\n     * @param {Uint8Array} value\n     */\n\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, value) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return this.db.put(key.toString(), value);\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                throw Errors.dbWriteFailedError(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }));\n\n      function put(_x, _x2) {\n        return _put.apply(this, arguments);\n      }\n\n      return put;\n    }()\n    /**\n     * @param {Key} key\n     * @returns {Promise<Uint8Array>}\n     */\n\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return this.db.get(key.toString());\n\n              case 3:\n                data = _context3.sent;\n                _context3.next = 11;\n                break;\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                if (!_context3.t0.notFound) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                throw Errors.notFoundError(_context3.t0);\n\n              case 10:\n                throw Errors.dbWriteFailedError(_context3.t0);\n\n              case 11:\n                return _context3.abrupt(\"return\", data);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 6]]);\n      }));\n\n      function get(_x3) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n    /**\n     * @param {Key} key\n     * @returns {Promise<boolean>}\n     */\n\n  }, {\n    key: \"has\",\n    value: function () {\n      var _has = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(key) {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.db.get(key.toString());\n\n              case 3:\n                _context4.next = 10;\n                break;\n\n              case 5:\n                _context4.prev = 5;\n                _context4.t0 = _context4[\"catch\"](0);\n\n                if (!_context4.t0.notFound) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", false);\n\n              case 9:\n                throw _context4.t0;\n\n              case 10:\n                return _context4.abrupt(\"return\", true);\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 5]]);\n      }));\n\n      function has(_x4) {\n        return _has.apply(this, arguments);\n      }\n\n      return has;\n    }()\n    /**\n     * @param {Key} key\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(key) {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.db.del(key.toString());\n\n              case 3:\n                _context5.next = 8;\n                break;\n\n              case 5:\n                _context5.prev = 5;\n                _context5.t0 = _context5[\"catch\"](0);\n                throw Errors.dbDeleteFailedError(_context5.t0);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 5]]);\n      }));\n\n      function _delete(_x5) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }, {\n    key: \"close\",\n    value: function close() {\n      return this.db && this.db.close();\n    }\n    /**\n     * @returns {Batch}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function batch() {\n      var _this3 = this;\n\n      /** @type {{ type: string; key: string; value?: Uint8Array; }[]} */\n      var ops = [];\n      return {\n        put: function put(key, value) {\n          ops.push({\n            type: 'put',\n            key: key.toString(),\n            value: value\n          });\n        },\n        delete: function _delete(key) {\n          ops.push({\n            type: 'del',\n            key: key.toString()\n          });\n        },\n        commit: function commit() {\n          return _this3.db.batch(ops);\n        }\n      };\n    }\n    /**\n     * @param {Query} q\n     */\n\n  }, {\n    key: \"query\",\n    value: function query(q) {\n      var it = this._query({\n        values: true,\n        prefix: q.prefix\n      });\n\n      if (Array.isArray(q.filters)) {\n        it = q.filters.reduce(function (it, f) {\n          return filter(it, f);\n        }, it);\n      }\n\n      if (Array.isArray(q.orders)) {\n        it = q.orders.reduce(function (it, f) {\n          return sortAll(it, f);\n        }, it);\n      }\n\n      var offset = q.offset,\n          limit = q.limit;\n\n      if (offset) {\n        var i = 0;\n        it = filter(it, function () {\n          return i++ >= offset;\n        });\n      }\n\n      if (limit) {\n        it = take(it, limit);\n      }\n\n      return it;\n    }\n    /**\n     * @param {KeyQuery} q\n     */\n\n  }, {\n    key: \"queryKeys\",\n    value: function queryKeys(q) {\n      var it = map(this._query({\n        values: false,\n        prefix: q.prefix\n      }), function (_ref) {\n        var key = _ref.key;\n        return key;\n      });\n\n      if (Array.isArray(q.filters)) {\n        it = q.filters.reduce(function (it, f) {\n          return filter(it, f);\n        }, it);\n      }\n\n      if (Array.isArray(q.orders)) {\n        it = q.orders.reduce(function (it, f) {\n          return sortAll(it, f);\n        }, it);\n      }\n\n      var offset = q.offset,\n          limit = q.limit;\n\n      if (offset) {\n        var i = 0;\n        it = filter(it, function () {\n          return i++ >= offset;\n        });\n      }\n\n      if (limit) {\n        it = take(it, limit);\n      }\n\n      return it;\n    }\n    /**\n     * @param {object} opts\n     * @param {boolean} opts.values\n     * @param {string} [opts.prefix]\n     * @returns {AsyncIterable<Pair>}\n     */\n\n  }, {\n    key: \"_query\",\n    value: function _query(opts) {\n      var iteratorOpts = {\n        keys: true,\n        keyAsBuffer: true,\n        values: opts.values\n      }; // Let the db do the prefix matching\n\n      if (opts.prefix != null) {\n        var prefix = opts.prefix.toString(); // Match keys greater than or equal to `prefix` and\n        // @ts-ignore\n\n        iteratorOpts.gte = prefix; // less than `prefix` + \\xFF (hex escape sequence)\n        // @ts-ignore\n\n        iteratorOpts.lt = prefix + '\\xFF';\n      }\n\n      return levelIteratorToIterator(this.db.iterator(iteratorOpts));\n    }\n  }]);\n\n  return LevelDatastore;\n}(Adapter);\n/**\n * @typedef {Object} LevelIterator\n * @property {(cb: (err: Error, key: string | Uint8Array | null, value: any)=> void)=>void} next\n * @property {(cb: (err: Error) => void) => void } end\n */\n\n/**\n * @param {LevelIterator} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\n\n\nfunction levelIteratorToIterator(li) {\n  return _defineProperty({}, Symbol.asyncIterator, function () {\n    return {\n      next: function next() {\n        return new Promise(function (resolve, reject) {\n          li.next(function (err, key, value) {\n            if (err) return reject(err);\n\n            if (key == null) {\n              return li.end(function (err) {\n                if (err) return reject(err);\n                resolve({\n                  done: true,\n                  value: undefined\n                });\n              });\n            }\n\n            resolve({\n              done: false,\n              value: {\n                key: new Key(key, false),\n                value: value\n              }\n            });\n          });\n        });\n      },\n      return: function _return() {\n        return new Promise(function (resolve, reject) {\n          li.end(function (err) {\n            if (err) return reject(err);\n            resolve({\n              done: true,\n              value: undefined\n            });\n          });\n        });\n      }\n    };\n  });\n}\n\nmodule.exports = LevelDatastore;","map":{"version":3,"names":["require","Key","Errors","Adapter","sortAll","utils","filter","map","take","LevelDatastore","path","opts","db","database","Promise","resolve","reject","valueEncoding","compression","err","open","_initDb","dbOpenFailedError","key","value","put","toString","dbWriteFailedError","get","data","notFound","notFoundError","del","dbDeleteFailedError","close","ops","push","type","delete","commit","batch","q","it","_query","values","prefix","Array","isArray","filters","reduce","f","orders","offset","limit","i","iteratorOpts","keys","keyAsBuffer","gte","lt","levelIteratorToIterator","iterator","li","Symbol","asyncIterator","next","end","done","undefined","return","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/datastore-level/src/index.js"],"sourcesContent":["'use strict'\n\nconst {\n  Key, Errors, Adapter,\n  utils: {\n    sortAll\n  }\n} = require('interface-datastore')\nconst filter = require('it-filter')\nconst map = require('it-map')\nconst take = require('it-take')\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} QueryOptions\n */\n\n/**\n * A datastore backed by leveldb.\n *\n * @implements {Datastore}\n */\nclass LevelDatastore extends Adapter {\n  /**\n   * @param {any} path\n   * @param {Object} [opts]\n   * @param {any} [opts.db] - level db reference\n   * @param {boolean} [opts.createIfMissing]\n   * @param {boolean} [opts.errorIfExists]\n   * @param {string} [opts.prefix] - level-js option\n   * @param {number} [opts.version] - level-js option\n   * @param {number} [opts.cacheSize] - leveldown option\n   * @param {number} [opts.writeBufferSize] - leveldown option\n   * @param {number} [opts.blockSize] - leveldown option\n   * @param {number} [opts.maxOpenFiles] - leveldown option\n   * @param {number} [opts.blockRestartInterval] - leveldown option\n   * @param {number} [opts.maxFileSize] - leveldown option\n   */\n  constructor (path, opts) {\n    super()\n    this.path = path\n    this.opts = opts\n\n    if (opts && opts.db) {\n      this.database = opts.db\n      delete opts.db\n    } else {\n      // @ts-ignore\n      this.database = require('level')\n    }\n  }\n\n  _initDb () {\n    return new Promise((resolve, reject) => {\n      this.db = this.database(\n        this.path,\n        {\n          ...this.opts,\n          valueEncoding: 'binary',\n          compression: false // same default as go\n        },\n        /** @param {Error}  [err] */\n        (err) => {\n          if (err) {\n            return reject(err)\n          }\n          resolve(this.db)\n        }\n      )\n    })\n  }\n\n  async open () {\n    try {\n      if (this.db) {\n        await this.db.open()\n      } else {\n        this.db = await this._initDb()\n      }\n    } catch (err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   */\n  async put (key, value) {\n    try {\n      await this.db.put(key.toString(), value)\n    } catch (err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<Uint8Array>}\n   */\n  async get (key) {\n    let data\n    try {\n      data = await this.db.get(key.toString())\n    } catch (err) {\n      if (err.notFound) throw Errors.notFoundError(err)\n      throw Errors.dbWriteFailedError(err)\n    }\n    return data\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<boolean>}\n   */\n  async has (key) {\n    try {\n      await this.db.get(key.toString())\n    } catch (err) {\n      if (err.notFound) return false\n      throw err\n    }\n    return true\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<void>}\n   */\n  async delete (key) {\n    try {\n      await this.db.del(key.toString())\n    } catch (err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  close () {\n    return this.db && this.db.close()\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {{ type: string; key: string; value?: Uint8Array; }[]} */\n    const ops = []\n    return {\n      put: (key, value) => {\n        ops.push({\n          type: 'put',\n          key: key.toString(),\n          value: value\n        })\n      },\n      delete: (key) => {\n        ops.push({\n          type: 'del',\n          key: key.toString()\n        })\n      },\n      commit: () => {\n        return this.db.batch(ops)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   */\n  query (q) {\n    let it = this._query({\n      values: true,\n      prefix: q.prefix\n    })\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   */\n  queryKeys (q) {\n    let it = map(this._query({\n      values: false,\n      prefix: q.prefix\n    }), ({ key }) => key)\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {object} opts\n   * @param {boolean} opts.values\n   * @param {string} [opts.prefix]\n   * @returns {AsyncIterable<Pair>}\n   */\n  _query (opts) {\n    const iteratorOpts = {\n      keys: true,\n      keyAsBuffer: true,\n      values: opts.values\n    }\n\n    // Let the db do the prefix matching\n    if (opts.prefix != null) {\n      const prefix = opts.prefix.toString()\n      // Match keys greater than or equal to `prefix` and\n      // @ts-ignore\n      iteratorOpts.gte = prefix\n      // less than `prefix` + \\xFF (hex escape sequence)\n      // @ts-ignore\n      iteratorOpts.lt = prefix + '\\xFF'\n    }\n\n    return levelIteratorToIterator(this.db.iterator(iteratorOpts))\n  }\n}\n\n/**\n * @typedef {Object} LevelIterator\n * @property {(cb: (err: Error, key: string | Uint8Array | null, value: any)=> void)=>void} next\n * @property {(cb: (err: Error) => void) => void } end\n */\n\n/**\n * @param {LevelIterator} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nfunction levelIteratorToIterator (li) {\n  return {\n    [Symbol.asyncIterator] () {\n      return {\n        next: () => new Promise((resolve, reject) => {\n          li.next((err, key, value) => {\n            if (err) return reject(err)\n            if (key == null) {\n              return li.end(err => {\n                if (err) return reject(err)\n                resolve({ done: true, value: undefined })\n              })\n            }\n            resolve({ done: false, value: { key: new Key(key, false), value } })\n          })\n        }),\n        return: () => new Promise((resolve, reject) => {\n          li.end(err => {\n            if (err) return reject(err)\n            resolve({ done: true, value: undefined })\n          })\n        })\n      }\n    }\n  }\n}\n\nmodule.exports = LevelDatastore\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}