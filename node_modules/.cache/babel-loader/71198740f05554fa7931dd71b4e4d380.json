{"ast":null,"code":"'use strict';\n\nvar encodings = require('./lib/encodings');\n\nvar rangeOptions = new Set(['lt', 'gt', 'lte', 'gte']);\nmodule.exports = Codec;\n\nfunction Codec(opts) {\n  if (!(this instanceof Codec)) {\n    return new Codec(opts);\n  }\n\n  this.opts = opts || {};\n  this.encodings = encodings;\n}\n\nCodec.prototype._encoding = function (encoding) {\n  if (typeof encoding === 'string') encoding = encodings[encoding];\n  if (!encoding) encoding = encodings.id;\n  return encoding;\n};\n\nCodec.prototype._keyEncoding = function (opts, batchOpts) {\n  return this._encoding(batchOpts && batchOpts.keyEncoding || opts && opts.keyEncoding || this.opts.keyEncoding);\n};\n\nCodec.prototype._valueEncoding = function (opts, batchOpts) {\n  return this._encoding(batchOpts && (batchOpts.valueEncoding || batchOpts.encoding) || opts && (opts.valueEncoding || opts.encoding) || this.opts.valueEncoding || this.opts.encoding);\n};\n\nCodec.prototype.encodeKey = function (key, opts, batchOpts) {\n  return this._keyEncoding(opts, batchOpts).encode(key);\n};\n\nCodec.prototype.encodeValue = function (value, opts, batchOpts) {\n  return this._valueEncoding(opts, batchOpts).encode(value);\n};\n\nCodec.prototype.decodeKey = function (key, opts) {\n  return this._keyEncoding(opts).decode(key);\n};\n\nCodec.prototype.decodeValue = function (value, opts) {\n  return this._valueEncoding(opts).decode(value);\n};\n\nCodec.prototype.encodeBatch = function (ops, opts) {\n  var _this = this;\n\n  return ops.map(function (_op) {\n    var op = {\n      type: _op.type,\n      key: _this.encodeKey(_op.key, opts, _op)\n    };\n    if (_this.keyAsBuffer(opts, _op)) op.keyEncoding = 'binary';\n    if (_op.prefix) op.prefix = _op.prefix;\n\n    if ('value' in _op) {\n      op.value = _this.encodeValue(_op.value, opts, _op);\n      if (_this.valueAsBuffer(opts, _op)) op.valueEncoding = 'binary';\n    }\n\n    return op;\n  });\n};\n\nCodec.prototype.encodeLtgt = function (ltgt) {\n  var ret = {};\n\n  for (var _i = 0, _Object$keys = Object.keys(ltgt); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (key === 'start' || key === 'end') {\n      throw new Error('Legacy range options (\"start\" and \"end\") have been removed');\n    }\n\n    ret[key] = rangeOptions.has(key) ? this.encodeKey(ltgt[key], ltgt) : ltgt[key];\n  }\n\n  return ret;\n};\n\nCodec.prototype.createStreamDecoder = function (opts) {\n  var _this2 = this;\n\n  if (opts.keys && opts.values) {\n    return function (key, value) {\n      return {\n        key: _this2.decodeKey(key, opts),\n        value: _this2.decodeValue(value, opts)\n      };\n    };\n  } else if (opts.keys) {\n    return function (key) {\n      return _this2.decodeKey(key, opts);\n    };\n  } else if (opts.values) {\n    return function (_, value) {\n      return _this2.decodeValue(value, opts);\n    };\n  } else {\n    return function () {};\n  }\n};\n\nCodec.prototype.keyAsBuffer = function (opts) {\n  return this._keyEncoding(opts).buffer;\n};\n\nCodec.prototype.valueAsBuffer = function (opts) {\n  return this._valueEncoding(opts).buffer;\n};","map":{"version":3,"names":["encodings","require","rangeOptions","Set","module","exports","Codec","opts","prototype","_encoding","encoding","id","_keyEncoding","batchOpts","keyEncoding","_valueEncoding","valueEncoding","encodeKey","key","encode","encodeValue","value","decodeKey","decode","decodeValue","encodeBatch","ops","map","_op","op","type","keyAsBuffer","prefix","valueAsBuffer","encodeLtgt","ltgt","ret","Object","keys","Error","has","createStreamDecoder","values","_","buffer"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/level-codec/index.js"],"sourcesContent":["'use strict'\n\nconst encodings = require('./lib/encodings')\nconst rangeOptions = new Set(['lt', 'gt', 'lte', 'gte'])\n\nmodule.exports = Codec\n\nfunction Codec (opts) {\n  if (!(this instanceof Codec)) {\n    return new Codec(opts)\n  }\n  this.opts = opts || {}\n  this.encodings = encodings\n}\n\nCodec.prototype._encoding = function (encoding) {\n  if (typeof encoding === 'string') encoding = encodings[encoding]\n  if (!encoding) encoding = encodings.id\n  return encoding\n}\n\nCodec.prototype._keyEncoding = function (opts, batchOpts) {\n  return this._encoding((batchOpts && batchOpts.keyEncoding) ||\n                        (opts && opts.keyEncoding) ||\n                        this.opts.keyEncoding)\n}\n\nCodec.prototype._valueEncoding = function (opts, batchOpts) {\n  return this._encoding((batchOpts && (batchOpts.valueEncoding || batchOpts.encoding)) ||\n                        (opts && (opts.valueEncoding || opts.encoding)) ||\n                        (this.opts.valueEncoding || this.opts.encoding))\n}\n\nCodec.prototype.encodeKey = function (key, opts, batchOpts) {\n  return this._keyEncoding(opts, batchOpts).encode(key)\n}\n\nCodec.prototype.encodeValue = function (value, opts, batchOpts) {\n  return this._valueEncoding(opts, batchOpts).encode(value)\n}\n\nCodec.prototype.decodeKey = function (key, opts) {\n  return this._keyEncoding(opts).decode(key)\n}\n\nCodec.prototype.decodeValue = function (value, opts) {\n  return this._valueEncoding(opts).decode(value)\n}\n\nCodec.prototype.encodeBatch = function (ops, opts) {\n  return ops.map((_op) => {\n    const op = {\n      type: _op.type,\n      key: this.encodeKey(_op.key, opts, _op)\n    }\n    if (this.keyAsBuffer(opts, _op)) op.keyEncoding = 'binary'\n    if (_op.prefix) op.prefix = _op.prefix\n    if ('value' in _op) {\n      op.value = this.encodeValue(_op.value, opts, _op)\n      if (this.valueAsBuffer(opts, _op)) op.valueEncoding = 'binary'\n    }\n    return op\n  })\n}\n\nCodec.prototype.encodeLtgt = function (ltgt) {\n  const ret = {}\n\n  for (const key of Object.keys(ltgt)) {\n    if (key === 'start' || key === 'end') {\n      throw new Error('Legacy range options (\"start\" and \"end\") have been removed')\n    }\n\n    ret[key] = rangeOptions.has(key)\n      ? this.encodeKey(ltgt[key], ltgt)\n      : ltgt[key]\n  }\n\n  return ret\n}\n\nCodec.prototype.createStreamDecoder = function (opts) {\n  if (opts.keys && opts.values) {\n    return (key, value) => {\n      return {\n        key: this.decodeKey(key, opts),\n        value: this.decodeValue(value, opts)\n      }\n    }\n  } else if (opts.keys) {\n    return (key) => {\n      return this.decodeKey(key, opts)\n    }\n  } else if (opts.values) {\n    return (_, value) => {\n      return this.decodeValue(value, opts)\n    }\n  } else {\n    return function () {}\n  }\n}\n\nCodec.prototype.keyAsBuffer = function (opts) {\n  return this._keyEncoding(opts).buffer\n}\n\nCodec.prototype.valueAsBuffer = function (opts) {\n  return this._valueEncoding(opts).buffer\n}\n"],"mappings":"AAAA;;AAEA,IAAMA,SAAS,GAAGC,OAAO,CAAC,iBAAD,CAAzB;;AACA,IAAMC,YAAY,GAAG,IAAIC,GAAJ,CAAQ,CAAC,IAAD,EAAO,IAAP,EAAa,KAAb,EAAoB,KAApB,CAAR,CAArB;AAEAC,MAAM,CAACC,OAAP,GAAiBC,KAAjB;;AAEA,SAASA,KAAT,CAAgBC,IAAhB,EAAsB;EACpB,IAAI,EAAE,gBAAgBD,KAAlB,CAAJ,EAA8B;IAC5B,OAAO,IAAIA,KAAJ,CAAUC,IAAV,CAAP;EACD;;EACD,KAAKA,IAAL,GAAYA,IAAI,IAAI,EAApB;EACA,KAAKP,SAAL,GAAiBA,SAAjB;AACD;;AAEDM,KAAK,CAACE,SAAN,CAAgBC,SAAhB,GAA4B,UAAUC,QAAV,EAAoB;EAC9C,IAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkCA,QAAQ,GAAGV,SAAS,CAACU,QAAD,CAApB;EAClC,IAAI,CAACA,QAAL,EAAeA,QAAQ,GAAGV,SAAS,CAACW,EAArB;EACf,OAAOD,QAAP;AACD,CAJD;;AAMAJ,KAAK,CAACE,SAAN,CAAgBI,YAAhB,GAA+B,UAAUL,IAAV,EAAgBM,SAAhB,EAA2B;EACxD,OAAO,KAAKJ,SAAL,CAAgBI,SAAS,IAAIA,SAAS,CAACC,WAAxB,IACCP,IAAI,IAAIA,IAAI,CAACO,WADd,IAEA,KAAKP,IAAL,CAAUO,WAFzB,CAAP;AAGD,CAJD;;AAMAR,KAAK,CAACE,SAAN,CAAgBO,cAAhB,GAAiC,UAAUR,IAAV,EAAgBM,SAAhB,EAA2B;EAC1D,OAAO,KAAKJ,SAAL,CAAgBI,SAAS,KAAKA,SAAS,CAACG,aAAV,IAA2BH,SAAS,CAACH,QAA1C,CAAV,IACCH,IAAI,KAAKA,IAAI,CAACS,aAAL,IAAsBT,IAAI,CAACG,QAAhC,CADL,IAEC,KAAKH,IAAL,CAAUS,aAAV,IAA2B,KAAKT,IAAL,CAAUG,QAFrD,CAAP;AAGD,CAJD;;AAMAJ,KAAK,CAACE,SAAN,CAAgBS,SAAhB,GAA4B,UAAUC,GAAV,EAAeX,IAAf,EAAqBM,SAArB,EAAgC;EAC1D,OAAO,KAAKD,YAAL,CAAkBL,IAAlB,EAAwBM,SAAxB,EAAmCM,MAAnC,CAA0CD,GAA1C,CAAP;AACD,CAFD;;AAIAZ,KAAK,CAACE,SAAN,CAAgBY,WAAhB,GAA8B,UAAUC,KAAV,EAAiBd,IAAjB,EAAuBM,SAAvB,EAAkC;EAC9D,OAAO,KAAKE,cAAL,CAAoBR,IAApB,EAA0BM,SAA1B,EAAqCM,MAArC,CAA4CE,KAA5C,CAAP;AACD,CAFD;;AAIAf,KAAK,CAACE,SAAN,CAAgBc,SAAhB,GAA4B,UAAUJ,GAAV,EAAeX,IAAf,EAAqB;EAC/C,OAAO,KAAKK,YAAL,CAAkBL,IAAlB,EAAwBgB,MAAxB,CAA+BL,GAA/B,CAAP;AACD,CAFD;;AAIAZ,KAAK,CAACE,SAAN,CAAgBgB,WAAhB,GAA8B,UAAUH,KAAV,EAAiBd,IAAjB,EAAuB;EACnD,OAAO,KAAKQ,cAAL,CAAoBR,IAApB,EAA0BgB,MAA1B,CAAiCF,KAAjC,CAAP;AACD,CAFD;;AAIAf,KAAK,CAACE,SAAN,CAAgBiB,WAAhB,GAA8B,UAAUC,GAAV,EAAenB,IAAf,EAAqB;EAAA;;EACjD,OAAOmB,GAAG,CAACC,GAAJ,CAAQ,UAACC,GAAD,EAAS;IACtB,IAAMC,EAAE,GAAG;MACTC,IAAI,EAAEF,GAAG,CAACE,IADD;MAETZ,GAAG,EAAE,KAAI,CAACD,SAAL,CAAeW,GAAG,CAACV,GAAnB,EAAwBX,IAAxB,EAA8BqB,GAA9B;IAFI,CAAX;IAIA,IAAI,KAAI,CAACG,WAAL,CAAiBxB,IAAjB,EAAuBqB,GAAvB,CAAJ,EAAiCC,EAAE,CAACf,WAAH,GAAiB,QAAjB;IACjC,IAAIc,GAAG,CAACI,MAAR,EAAgBH,EAAE,CAACG,MAAH,GAAYJ,GAAG,CAACI,MAAhB;;IAChB,IAAI,WAAWJ,GAAf,EAAoB;MAClBC,EAAE,CAACR,KAAH,GAAW,KAAI,CAACD,WAAL,CAAiBQ,GAAG,CAACP,KAArB,EAA4Bd,IAA5B,EAAkCqB,GAAlC,CAAX;MACA,IAAI,KAAI,CAACK,aAAL,CAAmB1B,IAAnB,EAAyBqB,GAAzB,CAAJ,EAAmCC,EAAE,CAACb,aAAH,GAAmB,QAAnB;IACpC;;IACD,OAAOa,EAAP;EACD,CAZM,CAAP;AAaD,CAdD;;AAgBAvB,KAAK,CAACE,SAAN,CAAgB0B,UAAhB,GAA6B,UAAUC,IAAV,EAAgB;EAC3C,IAAMC,GAAG,GAAG,EAAZ;;EAEA,gCAAkBC,MAAM,CAACC,IAAP,CAAYH,IAAZ,CAAlB,kCAAqC;IAAhC,IAAMjB,GAAG,mBAAT;;IACH,IAAIA,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,KAA/B,EAAsC;MACpC,MAAM,IAAIqB,KAAJ,CAAU,4DAAV,CAAN;IACD;;IAEDH,GAAG,CAAClB,GAAD,CAAH,GAAWhB,YAAY,CAACsC,GAAb,CAAiBtB,GAAjB,IACP,KAAKD,SAAL,CAAekB,IAAI,CAACjB,GAAD,CAAnB,EAA0BiB,IAA1B,CADO,GAEPA,IAAI,CAACjB,GAAD,CAFR;EAGD;;EAED,OAAOkB,GAAP;AACD,CAdD;;AAgBA9B,KAAK,CAACE,SAAN,CAAgBiC,mBAAhB,GAAsC,UAAUlC,IAAV,EAAgB;EAAA;;EACpD,IAAIA,IAAI,CAAC+B,IAAL,IAAa/B,IAAI,CAACmC,MAAtB,EAA8B;IAC5B,OAAO,UAACxB,GAAD,EAAMG,KAAN,EAAgB;MACrB,OAAO;QACLH,GAAG,EAAE,MAAI,CAACI,SAAL,CAAeJ,GAAf,EAAoBX,IAApB,CADA;QAELc,KAAK,EAAE,MAAI,CAACG,WAAL,CAAiBH,KAAjB,EAAwBd,IAAxB;MAFF,CAAP;IAID,CALD;EAMD,CAPD,MAOO,IAAIA,IAAI,CAAC+B,IAAT,EAAe;IACpB,OAAO,UAACpB,GAAD,EAAS;MACd,OAAO,MAAI,CAACI,SAAL,CAAeJ,GAAf,EAAoBX,IAApB,CAAP;IACD,CAFD;EAGD,CAJM,MAIA,IAAIA,IAAI,CAACmC,MAAT,EAAiB;IACtB,OAAO,UAACC,CAAD,EAAItB,KAAJ,EAAc;MACnB,OAAO,MAAI,CAACG,WAAL,CAAiBH,KAAjB,EAAwBd,IAAxB,CAAP;IACD,CAFD;EAGD,CAJM,MAIA;IACL,OAAO,YAAY,CAAE,CAArB;EACD;AACF,CAnBD;;AAqBAD,KAAK,CAACE,SAAN,CAAgBuB,WAAhB,GAA8B,UAAUxB,IAAV,EAAgB;EAC5C,OAAO,KAAKK,YAAL,CAAkBL,IAAlB,EAAwBqC,MAA/B;AACD,CAFD;;AAIAtC,KAAK,CAACE,SAAN,CAAgByB,aAAhB,GAAgC,UAAU1B,IAAV,EAAgB;EAC9C,OAAO,KAAKQ,cAAL,CAAoBR,IAApB,EAA0BqC,MAAjC;AACD,CAFD"},"metadata":{},"sourceType":"script"}