{"ast":null,"code":"'use strict';\n\nclass LamportClock {\n  constructor(id, time) {\n    this.id = id;\n    this.time = time || 0;\n  }\n\n  tick() {\n    return new LamportClock(this.id, ++this.time);\n  }\n\n  merge(clock) {\n    this.time = Math.max(this.time, clock.time);\n    return new LamportClock(this.id, this.time);\n  }\n\n  clone() {\n    return new LamportClock(this.id, this.time);\n  }\n\n  static compare(a, b) {\n    // Calculate the \"distance\" based on the clock, ie. lower or greater\n    const dist = a.time - b.time; // If the sequence number is the same (concurrent events),\n    // and the IDs are different, take the one with a \"lower\" id\n\n    if (dist === 0 && a.id !== b.id) return a.id < b.id ? -1 : 1;\n    return dist;\n  }\n\n}\n\nmodule.exports = LamportClock;","map":{"version":3,"names":["LamportClock","constructor","id","time","tick","merge","clock","Math","max","clone","compare","a","b","dist","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-log/src/lamport-clock.js"],"sourcesContent":["'use strict'\n\nclass LamportClock {\n  constructor (id, time) {\n    this.id = id\n    this.time = time || 0\n  }\n\n  tick () {\n    return new LamportClock(this.id, ++this.time)\n  }\n\n  merge (clock) {\n    this.time = Math.max(this.time, clock.time)\n    return new LamportClock(this.id, this.time)\n  }\n\n  clone () {\n    return new LamportClock(this.id, this.time)\n  }\n\n  static compare (a, b) {\n    // Calculate the \"distance\" based on the clock, ie. lower or greater\n    const dist = a.time - b.time\n\n    // If the sequence number is the same (concurrent events),\n    // and the IDs are different, take the one with a \"lower\" id\n    if (dist === 0 && a.id !== b.id) return a.id < b.id ? -1 : 1\n\n    return dist\n  }\n}\n\nmodule.exports = LamportClock\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAN,CAAmB;EACjBC,WAAW,CAAEC,EAAF,EAAMC,IAAN,EAAY;IACrB,KAAKD,EAAL,GAAUA,EAAV;IACA,KAAKC,IAAL,GAAYA,IAAI,IAAI,CAApB;EACD;;EAEDC,IAAI,GAAI;IACN,OAAO,IAAIJ,YAAJ,CAAiB,KAAKE,EAAtB,EAA0B,EAAE,KAAKC,IAAjC,CAAP;EACD;;EAEDE,KAAK,CAAEC,KAAF,EAAS;IACZ,KAAKH,IAAL,GAAYI,IAAI,CAACC,GAAL,CAAS,KAAKL,IAAd,EAAoBG,KAAK,CAACH,IAA1B,CAAZ;IACA,OAAO,IAAIH,YAAJ,CAAiB,KAAKE,EAAtB,EAA0B,KAAKC,IAA/B,CAAP;EACD;;EAEDM,KAAK,GAAI;IACP,OAAO,IAAIT,YAAJ,CAAiB,KAAKE,EAAtB,EAA0B,KAAKC,IAA/B,CAAP;EACD;;EAEa,OAAPO,OAAO,CAAEC,CAAF,EAAKC,CAAL,EAAQ;IACpB;IACA,MAAMC,IAAI,GAAGF,CAAC,CAACR,IAAF,GAASS,CAAC,CAACT,IAAxB,CAFoB,CAIpB;IACA;;IACA,IAAIU,IAAI,KAAK,CAAT,IAAcF,CAAC,CAACT,EAAF,KAASU,CAAC,CAACV,EAA7B,EAAiC,OAAOS,CAAC,CAACT,EAAF,GAAOU,CAAC,CAACV,EAAT,GAAc,CAAC,CAAf,GAAmB,CAA1B;IAEjC,OAAOW,IAAP;EACD;;AA5BgB;;AA+BnBC,MAAM,CAACC,OAAP,GAAiBf,YAAjB"},"metadata":{},"sourceType":"script"}