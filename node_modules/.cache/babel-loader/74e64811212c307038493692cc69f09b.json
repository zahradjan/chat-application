{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nvar inherits = require('util').inherits;\n\nvar extend = require('xtend');\n\nvar DeferredLevelDOWN = require('deferred-leveldown');\n\nvar IteratorStream = require('level-iterator-stream');\n\nvar Batch = require('./batch');\n\nvar errors = require('level-errors');\n\nvar supports = require('level-supports');\n\nvar assert = require('assert');\n\nvar promisify = require('./promisify');\n\nvar getCallback = require('./common').getCallback;\n\nvar getOptions = require('./common').getOptions;\n\nvar WriteError = errors.WriteError;\nvar ReadError = errors.ReadError;\nvar NotFoundError = errors.NotFoundError;\nvar OpenError = errors.OpenError;\nvar InitializationError = errors.InitializationError; // Possible AbstractLevelDOWN#status values:\n//  - 'new'     - newly created, not opened or closed\n//  - 'opening' - waiting for the database to be opened, post open()\n//  - 'open'    - successfully opened the database, available for use\n//  - 'closing' - waiting for the database to be closed, post close()\n//  - 'closed'  - database has been successfully closed, should not be\n//                 used except for another open() operation\n\nfunction LevelUP(db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback);\n  }\n\n  var error;\n  var self = this;\n  EventEmitter.call(this);\n  this.setMaxListeners(Infinity);\n\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  options = options || {};\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store');\n\n    if (typeof callback === 'function') {\n      return process.nextTick(callback, error);\n    }\n\n    throw error;\n  }\n\n  assert.strictEqual(typeof db.status, 'string', '.status required, old abstract-leveldown');\n  this.options = getOptions(options);\n  this._db = db;\n  this.db = new DeferredLevelDOWN(db);\n  this.open(callback || function (err) {\n    if (err) self.emit('error', err);\n  }); // Create manifest based on deferred-leveldown's\n\n  this.supports = supports(this.db.supports, {\n    status: false,\n    deferredOpen: true,\n    openCallback: true,\n    promises: true,\n    streams: true\n  }); // Experimental: enrich levelup interface\n\n  Object.keys(this.supports.additionalMethods).forEach(function (method) {\n    if (this[method] != null) return; // Don't do this.db[method].bind() because this.db is dynamic.\n\n    this[method] = function () {\n      return this.db[method].apply(this.db, arguments);\n    };\n  }, this);\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit;\nLevelUP.prototype.once = EventEmitter.prototype.once;\ninherits(LevelUP, EventEmitter);\n\nLevelUP.prototype.open = function (opts, callback) {\n  var self = this;\n  var promise;\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = null;\n  }\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (!opts) {\n    opts = this.options;\n  }\n\n  if (this.isOpen()) {\n    process.nextTick(callback, null, self);\n    return promise;\n  }\n\n  if (this._isOpening()) {\n    this.once('open', function () {\n      callback(null, self);\n    });\n    return promise;\n  }\n\n  this.emit('opening');\n  this.db.open(opts, function (err) {\n    if (err) {\n      return callback(new OpenError(err));\n    }\n\n    self.db = self._db;\n    callback(null, self);\n    self.emit('open');\n    self.emit('ready');\n  });\n  return promise;\n};\n\nLevelUP.prototype.close = function (callback) {\n  var self = this;\n  var promise;\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (this.isOpen()) {\n    this.db.close(function () {\n      self.emit('closed');\n      callback.apply(null, arguments);\n    });\n    this.emit('closing');\n    this.db = new DeferredLevelDOWN(this._db);\n  } else if (this.isClosed()) {\n    process.nextTick(callback);\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback);\n  } else if (this._isOpening()) {\n    this.once('open', function () {\n      self.close(callback);\n    });\n  }\n\n  return promise;\n};\n\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open';\n};\n\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening';\n};\n\nLevelUP.prototype.isClosed = function () {\n  return /^clos|new/.test(this.db.status);\n};\n\nLevelUP.prototype.get = function (key, options, callback) {\n  var promise;\n  callback = getCallback(options, callback);\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (maybeError(this, callback)) {\n    return promise;\n  }\n\n  options = getOptions(options);\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if (/notfound/i.test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err);\n      } else {\n        err = new ReadError(err);\n      }\n\n      return callback(err);\n    }\n\n    callback(null, value);\n  });\n  return promise;\n};\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  var self = this;\n  var promise;\n  callback = getCallback(options, callback);\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (maybeError(this, callback)) {\n    return promise;\n  }\n\n  options = getOptions(options);\n  this.db.put(key, value, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err));\n    }\n\n    self.emit('put', key, value);\n    callback();\n  });\n  return promise;\n};\n\nLevelUP.prototype.del = function (key, options, callback) {\n  var self = this;\n  var promise;\n  callback = getCallback(options, callback);\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (maybeError(this, callback)) {\n    return promise;\n  }\n\n  options = getOptions(options);\n  this.db.del(key, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err));\n    }\n\n    self.emit('del', key);\n    callback();\n  });\n  return promise;\n};\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this);\n  }\n\n  var self = this;\n  var promise;\n  if (typeof arr === 'function') callback = arr;else callback = getCallback(options, callback);\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (maybeError(this, callback)) {\n    return promise;\n  }\n\n  options = getOptions(options);\n  this.db.batch(arr, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err));\n    }\n\n    self.emit('batch', arr);\n    callback();\n  });\n  return promise;\n};\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options);\n};\n\nLevelUP.prototype.clear = function (options, callback) {\n  var self = this;\n  var promise;\n  callback = getCallback(options, callback);\n  options = getOptions(options);\n\n  if (!callback) {\n    callback = promisify();\n    promise = callback.promise;\n  }\n\n  if (maybeError(this, callback)) {\n    return promise;\n  }\n\n  this.db.clear(options, function (err) {\n    if (err) {\n      return callback(new WriteError(err));\n    }\n\n    self.emit('clear', options);\n    callback();\n  });\n  return promise;\n};\n\nLevelUP.prototype.readStream = LevelUP.prototype.createReadStream = function (options) {\n  options = extend({\n    keys: true,\n    values: true\n  }, options);\n\n  if (typeof options.limit !== 'number') {\n    options.limit = -1;\n  }\n\n  return new IteratorStream(this.db.iterator(options), options);\n};\n\nLevelUP.prototype.keyStream = LevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(extend(options, {\n    keys: true,\n    values: false\n  }));\n};\n\nLevelUP.prototype.valueStream = LevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(extend(options, {\n    keys: false,\n    values: true\n  }));\n};\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP';\n};\n\nLevelUP.prototype.type = 'levelup';\n\nfunction maybeError(db, callback) {\n  if (!db._isOpening() && !db.isOpen()) {\n    process.nextTick(callback, new ReadError('Database is not open'));\n    return true;\n  }\n}\n\nLevelUP.errors = errors;\nmodule.exports = LevelUP.default = LevelUP;","map":{"version":3,"names":["EventEmitter","require","inherits","extend","DeferredLevelDOWN","IteratorStream","Batch","errors","supports","assert","promisify","getCallback","getOptions","WriteError","ReadError","NotFoundError","OpenError","InitializationError","LevelUP","db","options","callback","error","self","call","setMaxListeners","Infinity","process","nextTick","strictEqual","status","_db","open","err","emit","deferredOpen","openCallback","promises","streams","Object","keys","additionalMethods","forEach","method","apply","arguments","prototype","once","opts","promise","isOpen","_isOpening","close","isClosed","test","get","key","maybeError","value","notFound","put","del","batch","arr","length","iterator","clear","readStream","createReadStream","values","limit","keyStream","createKeyStream","valueStream","createValueStream","toString","type","module","exports","default"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/orbit-db-keystore/node_modules/level-packager/node_modules/levelup/lib/levelup.js"],"sourcesContent":["var EventEmitter = require('events').EventEmitter\nvar inherits = require('util').inherits\nvar extend = require('xtend')\nvar DeferredLevelDOWN = require('deferred-leveldown')\nvar IteratorStream = require('level-iterator-stream')\nvar Batch = require('./batch')\nvar errors = require('level-errors')\nvar supports = require('level-supports')\nvar assert = require('assert')\nvar promisify = require('./promisify')\nvar getCallback = require('./common').getCallback\nvar getOptions = require('./common').getOptions\n\nvar WriteError = errors.WriteError\nvar ReadError = errors.ReadError\nvar NotFoundError = errors.NotFoundError\nvar OpenError = errors.OpenError\nvar InitializationError = errors.InitializationError\n\n// Possible AbstractLevelDOWN#status values:\n//  - 'new'     - newly created, not opened or closed\n//  - 'opening' - waiting for the database to be opened, post open()\n//  - 'open'    - successfully opened the database, available for use\n//  - 'closing' - waiting for the database to be closed, post close()\n//  - 'closed'  - database has been successfully closed, should not be\n//                 used except for another open() operation\n\nfunction LevelUP (db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback)\n  }\n\n  var error\n  var self = this\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  options = options || {}\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store')\n    if (typeof callback === 'function') {\n      return process.nextTick(callback, error)\n    }\n    throw error\n  }\n\n  assert.strictEqual(typeof db.status, 'string', '.status required, old abstract-leveldown')\n\n  this.options = getOptions(options)\n  this._db = db\n  this.db = new DeferredLevelDOWN(db)\n  this.open(callback || function (err) {\n    if (err) self.emit('error', err)\n  })\n\n  // Create manifest based on deferred-leveldown's\n  this.supports = supports(this.db.supports, {\n    status: false,\n    deferredOpen: true,\n    openCallback: true,\n    promises: true,\n    streams: true\n  })\n\n  // Experimental: enrich levelup interface\n  Object.keys(this.supports.additionalMethods).forEach(function (method) {\n    if (this[method] != null) return\n\n    // Don't do this.db[method].bind() because this.db is dynamic.\n    this[method] = function () {\n      return this.db[method].apply(this.db, arguments)\n    }\n  }, this)\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit\nLevelUP.prototype.once = EventEmitter.prototype.once\ninherits(LevelUP, EventEmitter)\n\nLevelUP.prototype.open = function (opts, callback) {\n  var self = this\n  var promise\n\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = null\n  }\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (!opts) {\n    opts = this.options\n  }\n\n  if (this.isOpen()) {\n    process.nextTick(callback, null, self)\n    return promise\n  }\n\n  if (this._isOpening()) {\n    this.once('open', function () { callback(null, self) })\n    return promise\n  }\n\n  this.emit('opening')\n\n  this.db.open(opts, function (err) {\n    if (err) {\n      return callback(new OpenError(err))\n    }\n    self.db = self._db\n    callback(null, self)\n    self.emit('open')\n    self.emit('ready')\n  })\n\n  return promise\n}\n\nLevelUP.prototype.close = function (callback) {\n  var self = this\n  var promise\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (this.isOpen()) {\n    this.db.close(function () {\n      self.emit('closed')\n      callback.apply(null, arguments)\n    })\n    this.emit('closing')\n    this.db = new DeferredLevelDOWN(this._db)\n  } else if (this.isClosed()) {\n    process.nextTick(callback)\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', function () {\n      self.close(callback)\n    })\n  }\n\n  return promise\n}\n\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open'\n}\n\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening'\n}\n\nLevelUP.prototype.isClosed = function () {\n  return (/^clos|new/).test(this.db.status)\n}\n\nLevelUP.prototype.get = function (key, options, callback) {\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return callback(err)\n    }\n    callback(null, value)\n  })\n\n  return promise\n}\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.put(key, value, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('put', key, value)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.del = function (key, options, callback) {\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.del(key, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('del', key)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this)\n  }\n\n  var self = this\n  var promise\n\n  if (typeof arr === 'function') callback = arr\n  else callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.batch(arr, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('batch', arr)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options)\n}\n\nLevelUP.prototype.clear = function (options, callback) {\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n  options = getOptions(options)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) {\n    return promise\n  }\n\n  this.db.clear(options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('clear', options)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  options = extend({ keys: true, values: true }, options)\n  if (typeof options.limit !== 'number') { options.limit = -1 }\n  return new IteratorStream(this.db.iterator(options), options)\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(extend(options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(extend(options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nLevelUP.prototype.type = 'levelup'\n\nfunction maybeError (db, callback) {\n  if (!db._isOpening() && !db.isOpen()) {\n    process.nextTick(callback, new ReadError('Database is not open'))\n    return true\n  }\n}\n\nLevelUP.errors = errors\nmodule.exports = LevelUP.default = LevelUP\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}