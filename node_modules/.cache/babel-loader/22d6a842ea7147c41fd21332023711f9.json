{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst lower_bound_1 = require(\"./lower-bound\");\n\nclass PriorityQueue {\n  constructor() {\n    this._queue = [];\n  }\n\n  enqueue(run, options) {\n    options = Object.assign({\n      priority: 0\n    }, options);\n    const element = {\n      priority: options.priority,\n      run\n    };\n\n    if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n      this._queue.push(element);\n\n      return;\n    }\n\n    const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n\n    this._queue.splice(index, 0, element);\n  }\n\n  dequeue() {\n    const item = this._queue.shift();\n\n    return item === null || item === void 0 ? void 0 : item.run;\n  }\n\n  filter(options) {\n    return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n  }\n\n  get size() {\n    return this._queue.length;\n  }\n\n}\n\nexports.default = PriorityQueue;","map":{"version":3,"names":["Object","defineProperty","exports","value","lower_bound_1","require","PriorityQueue","constructor","_queue","enqueue","run","options","assign","priority","element","size","push","index","default","a","b","splice","dequeue","item","shift","filter","map","length"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/p-queue/dist/priority-queue.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lower_bound_1 = require(\"./lower-bound\");\nclass PriorityQueue {\n    constructor() {\n        this._queue = [];\n    }\n    enqueue(run, options) {\n        options = Object.assign({ priority: 0 }, options);\n        const element = {\n            priority: options.priority,\n            run\n        };\n        if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n            this._queue.push(element);\n            return;\n        }\n        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n        this._queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this._queue.shift();\n        return item === null || item === void 0 ? void 0 : item.run;\n    }\n    filter(options) {\n        return this._queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this._queue.length;\n    }\n}\nexports.default = PriorityQueue;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,eAAD,CAA7B;;AACA,MAAMC,aAAN,CAAoB;EAChBC,WAAW,GAAG;IACV,KAAKC,MAAL,GAAc,EAAd;EACH;;EACDC,OAAO,CAACC,GAAD,EAAMC,OAAN,EAAe;IAClBA,OAAO,GAAGX,MAAM,CAACY,MAAP,CAAc;MAAEC,QAAQ,EAAE;IAAZ,CAAd,EAA+BF,OAA/B,CAAV;IACA,MAAMG,OAAO,GAAG;MACZD,QAAQ,EAAEF,OAAO,CAACE,QADN;MAEZH;IAFY,CAAhB;;IAIA,IAAI,KAAKK,IAAL,IAAa,KAAKP,MAAL,CAAY,KAAKO,IAAL,GAAY,CAAxB,EAA2BF,QAA3B,IAAuCF,OAAO,CAACE,QAAhE,EAA0E;MACtE,KAAKL,MAAL,CAAYQ,IAAZ,CAAiBF,OAAjB;;MACA;IACH;;IACD,MAAMG,KAAK,GAAGb,aAAa,CAACc,OAAd,CAAsB,KAAKV,MAA3B,EAAmCM,OAAnC,EAA4C,CAACK,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACP,QAAF,GAAaM,CAAC,CAACN,QAArE,CAAd;;IACA,KAAKL,MAAL,CAAYa,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B,EAA6BH,OAA7B;EACH;;EACDQ,OAAO,GAAG;IACN,MAAMC,IAAI,GAAG,KAAKf,MAAL,CAAYgB,KAAZ,EAAb;;IACA,OAAOD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACb,GAAxD;EACH;;EACDe,MAAM,CAACd,OAAD,EAAU;IACZ,OAAO,KAAKH,MAAL,CAAYiB,MAAZ,CAAoBX,OAAD,IAAaA,OAAO,CAACD,QAAR,KAAqBF,OAAO,CAACE,QAA7D,EAAuEa,GAAvE,CAA4EZ,OAAD,IAAaA,OAAO,CAACJ,GAAhG,CAAP;EACH;;EACO,IAAJK,IAAI,GAAG;IACP,OAAO,KAAKP,MAAL,CAAYmB,MAAnB;EACH;;AA1Be;;AA4BpBzB,OAAO,CAACgB,OAAR,GAAkBZ,aAAlB"},"metadata":{},"sourceType":"script"}