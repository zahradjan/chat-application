{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/createClass.js\";import React from\"react\";import{MonitorStore}from\"./MonitorStore.js\";import DataStore from\"./DataStore.js\";import{RoomStore}from\"./RoomStore.js\";import SessionStore from\"./SessionStore.js\";import UserStore from\"./UserStore.js\";var RootStore=/*#__PURE__*/function(){function RootStore(){_classCallCheck(this,RootStore);this.sessionStore=new SessionStore(this);this.dataStore=new DataStore(this);this.userStore=new UserStore(this);this.monitorStore=new MonitorStore(this);this.roomStore=new RoomStore(this);this.initStores();}_createClass(RootStore,[{key:\"initStores\",value:function(){var _initStores=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.sessionStore.init();case 2:_context.next=4;return this.initDbStores();case 4:case\"end\":return _context.stop();}}},_callee,this);}));function initStores(){return _initStores.apply(this,arguments);}return initStores;}()},{key:\"initDbStores\",value:function(){var _initDbStores=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!this.sessionStore.isAuthenticated()){_context2.next=9;break;}_context2.next=3;return this.dataStore.init();case 3:_context2.next=5;return this.userStore.init();case 5:_context2.next=7;return this.monitorStore.init();case 7:_context2.next=9;return this.roomStore.init();case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function initDbStores(){return _initDbStores.apply(this,arguments);}return initDbStores;}()}]);return RootStore;}();export{RootStore as default};export var store=new RootStore();export var StoresContext=/*#__PURE__*/React.createContext(store);export var useStores=function useStores(){return React.useContext(StoresContext);};","map":{"version":3,"names":["React","MonitorStore","DataStore","RoomStore","SessionStore","UserStore","RootStore","sessionStore","dataStore","userStore","monitorStore","roomStore","initStores","init","initDbStores","isAuthenticated","store","StoresContext","createContext","useStores","useContext"],"sources":["C:/Users/zajan/GitHub/chatApplication/src/data/store/RootStore.js"],"sourcesContent":["import React from \"react\";\r\nimport { MonitorStore } from \"./MonitorStore.js\";\r\nimport DataStore from \"./DataStore.js\";\r\nimport { RoomStore } from \"./RoomStore.js\";\r\nimport SessionStore from \"./SessionStore.js\";\r\nimport UserStore from \"./UserStore.js\";\r\n\r\nexport default class RootStore {\r\n  constructor() {\r\n    this.sessionStore = new SessionStore(this);\r\n    this.dataStore = new DataStore(this);\r\n    this.userStore = new UserStore(this);\r\n    this.monitorStore = new MonitorStore(this);\r\n    this.roomStore = new RoomStore(this);\r\n    this.initStores();\r\n  }\r\n  async initStores() {\r\n    await this.sessionStore.init();\r\n    await this.initDbStores();\r\n  }\r\n\r\n  async initDbStores() {\r\n    if (this.sessionStore.isAuthenticated()) {\r\n      await this.dataStore.init();\r\n      await this.userStore.init();\r\n      await this.monitorStore.init();\r\n      await this.roomStore.init();\r\n    }\r\n  }\r\n}\r\nexport const store = new RootStore();\r\nexport const StoresContext = React.createContext(store);\r\nexport const useStores = () => React.useContext(StoresContext);\r\n"],"mappings":"0fAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,mBAA7B,CACA,MAAOC,UAAP,KAAsB,gBAAtB,CACA,OAASC,SAAT,KAA0B,gBAA1B,CACA,MAAOC,aAAP,KAAyB,mBAAzB,CACA,MAAOC,UAAP,KAAsB,gBAAtB,C,GAEqBC,U,yBACnB,oBAAc,iCACZ,KAAKC,YAAL,CAAoB,GAAIH,aAAJ,CAAiB,IAAjB,CAApB,CACA,KAAKI,SAAL,CAAiB,GAAIN,UAAJ,CAAc,IAAd,CAAjB,CACA,KAAKO,SAAL,CAAiB,GAAIJ,UAAJ,CAAc,IAAd,CAAjB,CACA,KAAKK,YAAL,CAAoB,GAAIT,aAAJ,CAAiB,IAAjB,CAApB,CACA,KAAKU,SAAL,CAAiB,GAAIR,UAAJ,CAAc,IAAd,CAAjB,CACA,KAAKS,UAAL,GACD,C,qIACD,2JACQ,MAAKL,YAAL,CAAkBM,IAAlB,EADR,8BAEQ,MAAKC,YAAL,EAFR,4D,2MAKA,8IACM,KAAKP,YAAL,CAAkBQ,eAAlB,EADN,iDAEU,MAAKP,SAAL,CAAeK,IAAf,EAFV,+BAGU,MAAKJ,SAAL,CAAeI,IAAf,EAHV,+BAIU,MAAKH,YAAL,CAAkBG,IAAlB,EAJV,+BAKU,MAAKF,SAAL,CAAeE,IAAf,EALV,8D,8HAdmBP,S,aAuBrB,MAAO,IAAMU,MAAK,CAAG,GAAIV,UAAJ,EAAd,CACP,MAAO,IAAMW,cAAa,cAAGjB,KAAK,CAACkB,aAAN,CAAoBF,KAApB,CAAtB,CACP,MAAO,IAAMG,UAAS,CAAG,QAAZA,UAAY,SAAMnB,MAAK,CAACoB,UAAN,CAAiBH,aAAjB,CAAN,EAAlB"},"metadata":{},"sourceType":"module"}