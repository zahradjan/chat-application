{"ast":null,"code":"module.exports = function (max) {\n  if (!max) throw Error('hashlru must have a max value, of type number, greater than 0');\n\n  var size = 0,\n      cache = Object.create(null),\n      _cache = Object.create(null);\n\n  function update(key, value) {\n    cache[key] = value;\n    size++;\n\n    if (size >= max) {\n      size = 0;\n      _cache = cache;\n      cache = Object.create(null);\n    }\n  }\n\n  return {\n    has: function has(key) {\n      return cache[key] !== undefined || _cache[key] !== undefined;\n    },\n    remove: function remove(key) {\n      if (cache[key] !== undefined) cache[key] = undefined;\n      if (_cache[key] !== undefined) _cache[key] = undefined;\n    },\n    get: function get(key) {\n      var v = cache[key];\n      if (v !== undefined) return v;\n\n      if ((v = _cache[key]) !== undefined) {\n        update(key, v);\n        return v;\n      }\n    },\n    set: function set(key, value) {\n      if (cache[key] !== undefined) cache[key] = value;else update(key, value);\n    },\n    clear: function clear() {\n      cache = Object.create(null);\n      _cache = Object.create(null);\n    }\n  };\n};","map":{"version":3,"names":["module","exports","max","Error","size","cache","Object","create","_cache","update","key","value","has","undefined","remove","get","v","set","clear"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/hashlru/index.js"],"sourcesContent":["module.exports = function (max) {\n\n  if (!max) throw Error('hashlru must have a max value, of type number, greater than 0')\n\n  var size = 0, cache = Object.create(null), _cache = Object.create(null)\n\n  function update (key, value) {\n    cache[key] = value\n    size ++\n    if(size >= max) {\n      size = 0\n      _cache = cache\n      cache = Object.create(null)\n    }\n  }\n\n  return {\n    has: function (key) {\n      return cache[key] !== undefined || _cache[key] !== undefined\n    },\n    remove: function (key) {\n      if(cache[key] !== undefined)\n        cache[key] = undefined\n      if(_cache[key] !== undefined)\n        _cache[key] = undefined\n    },\n    get: function (key) {\n      var v = cache[key]\n      if(v !== undefined) return v\n      if((v = _cache[key]) !== undefined) {\n        update(key, v)\n        return v\n      }\n    },\n    set: function (key, value) {\n      if(cache[key] !== undefined) cache[key] = value\n      else update(key, value)\n    },\n    clear: function () {\n      cache = Object.create(null)\n      _cache = Object.create(null)\n    }\n  }\n}\n\n\n\n\n\n\n\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,GAAV,EAAe;EAE9B,IAAI,CAACA,GAAL,EAAU,MAAMC,KAAK,CAAC,+DAAD,CAAX;;EAEV,IAAIC,IAAI,GAAG,CAAX;EAAA,IAAcC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAtB;EAAA,IAA2CC,MAAM,GAAGF,MAAM,CAACC,MAAP,CAAc,IAAd,CAApD;;EAEA,SAASE,MAAT,CAAiBC,GAAjB,EAAsBC,KAAtB,EAA6B;IAC3BN,KAAK,CAACK,GAAD,CAAL,GAAaC,KAAb;IACAP,IAAI;;IACJ,IAAGA,IAAI,IAAIF,GAAX,EAAgB;MACdE,IAAI,GAAG,CAAP;MACAI,MAAM,GAAGH,KAAT;MACAA,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAR;IACD;EACF;;EAED,OAAO;IACLK,GAAG,EAAE,aAAUF,GAAV,EAAe;MAClB,OAAOL,KAAK,CAACK,GAAD,CAAL,KAAeG,SAAf,IAA4BL,MAAM,CAACE,GAAD,CAAN,KAAgBG,SAAnD;IACD,CAHI;IAILC,MAAM,EAAE,gBAAUJ,GAAV,EAAe;MACrB,IAAGL,KAAK,CAACK,GAAD,CAAL,KAAeG,SAAlB,EACER,KAAK,CAACK,GAAD,CAAL,GAAaG,SAAb;MACF,IAAGL,MAAM,CAACE,GAAD,CAAN,KAAgBG,SAAnB,EACEL,MAAM,CAACE,GAAD,CAAN,GAAcG,SAAd;IACH,CATI;IAULE,GAAG,EAAE,aAAUL,GAAV,EAAe;MAClB,IAAIM,CAAC,GAAGX,KAAK,CAACK,GAAD,CAAb;MACA,IAAGM,CAAC,KAAKH,SAAT,EAAoB,OAAOG,CAAP;;MACpB,IAAG,CAACA,CAAC,GAAGR,MAAM,CAACE,GAAD,CAAX,MAAsBG,SAAzB,EAAoC;QAClCJ,MAAM,CAACC,GAAD,EAAMM,CAAN,CAAN;QACA,OAAOA,CAAP;MACD;IACF,CAjBI;IAkBLC,GAAG,EAAE,aAAUP,GAAV,EAAeC,KAAf,EAAsB;MACzB,IAAGN,KAAK,CAACK,GAAD,CAAL,KAAeG,SAAlB,EAA6BR,KAAK,CAACK,GAAD,CAAL,GAAaC,KAAb,CAA7B,KACKF,MAAM,CAACC,GAAD,EAAMC,KAAN,CAAN;IACN,CArBI;IAsBLO,KAAK,EAAE,iBAAY;MACjBb,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAR;MACAC,MAAM,GAAGF,MAAM,CAACC,MAAP,CAAc,IAAd,CAAT;IACD;EAzBI,CAAP;AA2BD,CA3CD"},"metadata":{},"sourceType":"script"}