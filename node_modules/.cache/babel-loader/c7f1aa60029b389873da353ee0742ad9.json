{"ast":null,"code":"'use strict';\n\nconst {\n  default: nativeFetch,\n  Headers\n} = require('native-fetch');\n/**\n * Build fetch resource for request.\n *\n * @param {object} properties\n * @param {string} properties.serverResolver\n * @param {string} properties.hostname\n * @param {string} properties.recordType\n * @returns {string}\n */\n\n\nfunction buildResource(_ref) {\n  let {\n    serverResolver,\n    hostname,\n    recordType\n  } = _ref;\n  return `${serverResolver}?name=${hostname}&type=${recordType}`;\n}\n/**\n * Use fetch to find the record.\n *\n * @param {object} resource\n * @returns {Promise}\n */\n\n\nfunction fetch(resource) {\n  return nativeFetch(resource, {\n    headers: new Headers({\n      accept: 'application/dns-json'\n    })\n  });\n}\n/**\n * Creates cache key composed by recordType and hostname.\n *\n * @param {string} hostname\n * @param {string} recordType\n * @returns {string}\n */\n\n\nfunction getCacheKey(hostname, recordType) {\n  return `${recordType}_${hostname}`;\n}\n\nmodule.exports = {\n  buildResource,\n  fetch,\n  getCacheKey\n};","map":{"version":3,"names":["default","nativeFetch","Headers","require","buildResource","serverResolver","hostname","recordType","fetch","resource","headers","accept","getCacheKey","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/dns-over-http-resolver/src/utils.js"],"sourcesContent":["'use strict'\n\nconst { default: nativeFetch, Headers } = require('native-fetch')\n\n/**\n * Build fetch resource for request.\n *\n * @param {object} properties\n * @param {string} properties.serverResolver\n * @param {string} properties.hostname\n * @param {string} properties.recordType\n * @returns {string}\n */\nfunction buildResource ({ serverResolver, hostname, recordType }) {\n  return `${serverResolver}?name=${hostname}&type=${recordType}`\n}\n\n/**\n * Use fetch to find the record.\n *\n * @param {object} resource\n * @returns {Promise}\n */\nfunction fetch (resource) {\n  return nativeFetch(resource, {\n    headers: new Headers({\n      accept: 'application/dns-json'\n    })\n  })\n}\n\n/**\n * Creates cache key composed by recordType and hostname.\n *\n * @param {string} hostname\n * @param {string} recordType\n * @returns {string}\n */\nfunction getCacheKey (hostname, recordType) {\n  return `${recordType}_${hostname}`\n}\n\nmodule.exports = {\n  buildResource,\n  fetch,\n  getCacheKey\n}\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA,OAAO,EAAEC,WAAX;EAAwBC;AAAxB,IAAoCC,OAAO,CAAC,cAAD,CAAjD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,aAAT,OAAkE;EAAA,IAA1C;IAAEC,cAAF;IAAkBC,QAAlB;IAA4BC;EAA5B,CAA0C;EAChE,OAAQ,GAAEF,cAAe,SAAQC,QAAS,SAAQC,UAAW,EAA7D;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,KAAT,CAAgBC,QAAhB,EAA0B;EACxB,OAAOR,WAAW,CAACQ,QAAD,EAAW;IAC3BC,OAAO,EAAE,IAAIR,OAAJ,CAAY;MACnBS,MAAM,EAAE;IADW,CAAZ;EADkB,CAAX,CAAlB;AAKD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,WAAT,CAAsBN,QAAtB,EAAgCC,UAAhC,EAA4C;EAC1C,OAAQ,GAAEA,UAAW,IAAGD,QAAS,EAAjC;AACD;;AAEDO,MAAM,CAACC,OAAP,GAAiB;EACfV,aADe;EAEfI,KAFe;EAGfI;AAHe,CAAjB"},"metadata":{},"sourceType":"script"}