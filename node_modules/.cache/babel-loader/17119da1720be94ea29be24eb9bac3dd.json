{"ast":null,"code":"'use strict';\n\nvar mergeOptions = require('merge-options'); // @ts-ignore no types in multiaddr path\n\n\nvar _require = require('multiaddr/src/resolvers'),\n    dnsaddrResolver = _require.dnsaddrResolver;\n\nvar Constants = require('./constants');\n\nvar _require2 = require('./identify/consts'),\n    AGENT_VERSION = _require2.AGENT_VERSION;\n\nvar RelayConstants = require('./circuit/constants');\n\nvar _require3 = require('libp2p-utils/src/address-sort'),\n    publicAddressesFirst = _require3.publicAddressesFirst;\n\nvar _require4 = require('./transport-manager'),\n    FaultTolerance = _require4.FaultTolerance;\n/**\n * @typedef {import('multiaddr').Multiaddr} Multiaddr\n * @typedef {import('.').Libp2pOptions} Libp2pOptions\n * @typedef {import('.').constructorOptions} constructorOptions\n */\n\n\nvar DefaultConfig = {\n  addresses: {\n    listen: [],\n    announce: [],\n    noAnnounce: [],\n    announceFilter: function announceFilter(\n    /** @type {Multiaddr[]} */\n    multiaddrs) {\n      return multiaddrs;\n    }\n  },\n  connectionManager: {\n    minConnections: 25\n  },\n  transportManager: {\n    faultTolerance: FaultTolerance.FATAL_ALL\n  },\n  dialer: {\n    maxParallelDials: Constants.MAX_PARALLEL_DIALS,\n    maxDialsPerPeer: Constants.MAX_PER_PEER_DIALS,\n    dialTimeout: Constants.DIAL_TIMEOUT,\n    resolvers: {\n      dnsaddr: dnsaddrResolver\n    },\n    addressSorter: publicAddressesFirst\n  },\n  host: {\n    agentVersion: AGENT_VERSION\n  },\n  metrics: {\n    enabled: false\n  },\n  peerStore: {\n    persistence: false,\n    threshold: 5\n  },\n  peerRouting: {\n    refreshManager: {\n      enabled: true,\n      interval: 6e5,\n      bootDelay: 10e3\n    }\n  },\n  config: {\n    protocolPrefix: 'ipfs',\n    dht: {\n      enabled: false,\n      kBucketSize: 20,\n      randomWalk: {\n        enabled: false,\n        // disabled waiting for https://github.com/libp2p/js-libp2p-kad-dht/issues/86\n        queriesPerPeriod: 1,\n        interval: 300e3,\n        timeout: 10e3\n      }\n    },\n    nat: {\n      enabled: true,\n      ttl: 7200,\n      keepAlive: true,\n      gateway: null,\n      externalIp: null,\n      pmp: {\n        enabled: false\n      }\n    },\n    peerDiscovery: {\n      autoDial: true\n    },\n    pubsub: {\n      enabled: true\n    },\n    relay: {\n      enabled: true,\n      advertise: {\n        bootDelay: RelayConstants.ADVERTISE_BOOT_DELAY,\n        enabled: false,\n        ttl: RelayConstants.ADVERTISE_TTL\n      },\n      hop: {\n        enabled: false,\n        active: false\n      },\n      autoRelay: {\n        enabled: false,\n        maxListeners: 2\n      }\n    },\n    transport: {}\n  }\n};\n/**\n * @param {Libp2pOptions} opts\n * @returns {DefaultConfig & Libp2pOptions & constructorOptions}\n */\n\nmodule.exports.validate = function (opts) {\n  /** @type {DefaultConfig & Libp2pOptions & constructorOptions} */\n  var resultingOptions = mergeOptions(DefaultConfig, opts);\n  if (resultingOptions.modules.transport.length < 1) throw new Error(\"'options.modules.transport' must contain at least 1 transport\");\n  return resultingOptions;\n};","map":{"version":3,"names":["mergeOptions","require","dnsaddrResolver","Constants","AGENT_VERSION","RelayConstants","publicAddressesFirst","FaultTolerance","DefaultConfig","addresses","listen","announce","noAnnounce","announceFilter","multiaddrs","connectionManager","minConnections","transportManager","faultTolerance","FATAL_ALL","dialer","maxParallelDials","MAX_PARALLEL_DIALS","maxDialsPerPeer","MAX_PER_PEER_DIALS","dialTimeout","DIAL_TIMEOUT","resolvers","dnsaddr","addressSorter","host","agentVersion","metrics","enabled","peerStore","persistence","threshold","peerRouting","refreshManager","interval","bootDelay","config","protocolPrefix","dht","kBucketSize","randomWalk","queriesPerPeriod","timeout","nat","ttl","keepAlive","gateway","externalIp","pmp","peerDiscovery","autoDial","pubsub","relay","advertise","ADVERTISE_BOOT_DELAY","ADVERTISE_TTL","hop","active","autoRelay","maxListeners","transport","module","exports","validate","opts","resultingOptions","modules","length","Error"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/libp2p/src/config.js"],"sourcesContent":["'use strict'\n\nconst mergeOptions = require('merge-options')\n// @ts-ignore no types in multiaddr path\nconst { dnsaddrResolver } = require('multiaddr/src/resolvers')\n\nconst Constants = require('./constants')\nconst { AGENT_VERSION } = require('./identify/consts')\nconst RelayConstants = require('./circuit/constants')\n\nconst { publicAddressesFirst } = require('libp2p-utils/src/address-sort')\nconst { FaultTolerance } = require('./transport-manager')\n\n/**\n * @typedef {import('multiaddr').Multiaddr} Multiaddr\n * @typedef {import('.').Libp2pOptions} Libp2pOptions\n * @typedef {import('.').constructorOptions} constructorOptions\n */\n\nconst DefaultConfig = {\n  addresses: {\n    listen: [],\n    announce: [],\n    noAnnounce: [],\n    announceFilter: (/** @type {Multiaddr[]} */ multiaddrs) => multiaddrs\n  },\n  connectionManager: {\n    minConnections: 25\n  },\n  transportManager: {\n    faultTolerance: FaultTolerance.FATAL_ALL\n  },\n  dialer: {\n    maxParallelDials: Constants.MAX_PARALLEL_DIALS,\n    maxDialsPerPeer: Constants.MAX_PER_PEER_DIALS,\n    dialTimeout: Constants.DIAL_TIMEOUT,\n    resolvers: {\n      dnsaddr: dnsaddrResolver\n    },\n    addressSorter: publicAddressesFirst\n  },\n  host: {\n    agentVersion: AGENT_VERSION\n  },\n  metrics: {\n    enabled: false\n  },\n  peerStore: {\n    persistence: false,\n    threshold: 5\n  },\n  peerRouting: {\n    refreshManager: {\n      enabled: true,\n      interval: 6e5,\n      bootDelay: 10e3\n    }\n  },\n  config: {\n    protocolPrefix: 'ipfs',\n    dht: {\n      enabled: false,\n      kBucketSize: 20,\n      randomWalk: {\n        enabled: false, // disabled waiting for https://github.com/libp2p/js-libp2p-kad-dht/issues/86\n        queriesPerPeriod: 1,\n        interval: 300e3,\n        timeout: 10e3\n      }\n    },\n    nat: {\n      enabled: true,\n      ttl: 7200,\n      keepAlive: true,\n      gateway: null,\n      externalIp: null,\n      pmp: {\n        enabled: false\n      }\n    },\n    peerDiscovery: {\n      autoDial: true\n    },\n    pubsub: {\n      enabled: true\n    },\n    relay: {\n      enabled: true,\n      advertise: {\n        bootDelay: RelayConstants.ADVERTISE_BOOT_DELAY,\n        enabled: false,\n        ttl: RelayConstants.ADVERTISE_TTL\n      },\n      hop: {\n        enabled: false,\n        active: false\n      },\n      autoRelay: {\n        enabled: false,\n        maxListeners: 2\n      }\n    },\n    transport: {}\n  }\n}\n\n/**\n * @param {Libp2pOptions} opts\n * @returns {DefaultConfig & Libp2pOptions & constructorOptions}\n */\nmodule.exports.validate = (opts) => {\n  /** @type {DefaultConfig & Libp2pOptions & constructorOptions} */\n  const resultingOptions = mergeOptions(DefaultConfig, opts)\n\n  if (resultingOptions.modules.transport.length < 1) throw new Error(\"'options.modules.transport' must contain at least 1 transport\")\n\n  return resultingOptions\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}