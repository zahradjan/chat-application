{"ast":null,"code":"'use strict';\n\nconst emptyOptions = Object.freeze({});\n\nfunction AbstractChainedBatch(db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store');\n  }\n\n  this.db = db;\n  this._operations = [];\n  this._written = false;\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch');\n  }\n};\n\nAbstractChainedBatch.prototype.put = function (key, value, options) {\n  this._checkWritten();\n\n  const err = this.db._checkKey(key) || this.db._checkValue(value);\n\n  if (err) throw err;\n  key = this.db._serializeKey(key);\n  value = this.db._serializeValue(value);\n\n  this._put(key, value, options != null ? options : emptyOptions);\n\n  return this;\n};\n\nAbstractChainedBatch.prototype._put = function (key, value, options) {\n  this._operations.push({ ...options,\n    type: 'put',\n    key,\n    value\n  });\n};\n\nAbstractChainedBatch.prototype.del = function (key, options) {\n  this._checkWritten();\n\n  const err = this.db._checkKey(key);\n\n  if (err) throw err;\n  key = this.db._serializeKey(key);\n\n  this._del(key, options != null ? options : emptyOptions);\n\n  return this;\n};\n\nAbstractChainedBatch.prototype._del = function (key, options) {\n  this._operations.push({ ...options,\n    type: 'del',\n    key\n  });\n};\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten();\n\n  this._clear();\n\n  return this;\n};\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = [];\n};\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten();\n\n  if (typeof options === 'function') {\n    callback = options;\n  }\n\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument');\n  }\n\n  if (typeof options !== 'object' || options === null) {\n    options = {};\n  }\n\n  this._written = true;\n\n  this._write(options, callback);\n};\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback);\n}; // Expose browser-compatible nextTick for dependents\n\n\nAbstractChainedBatch.prototype._nextTick = require('./next-tick');\nmodule.exports = AbstractChainedBatch;","map":{"version":3,"names":["emptyOptions","Object","freeze","AbstractChainedBatch","db","TypeError","_operations","_written","prototype","_checkWritten","Error","put","key","value","options","err","_checkKey","_checkValue","_serializeKey","_serializeValue","_put","push","type","del","_del","clear","_clear","write","callback","_write","_batch","_nextTick","require","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/abstract-leveldown/abstract-chained-batch.js"],"sourcesContent":["'use strict'\n\nconst emptyOptions = Object.freeze({})\n\nfunction AbstractChainedBatch (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key) || this.db._checkValue(value)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  value = this.db._serializeValue(value)\n\n  this._put(key, value, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value, options) {\n  this._operations.push({ ...options, type: 'put', key, value })\n}\n\nAbstractChainedBatch.prototype.del = function (key, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  this._del(key, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key, options) {\n  this._operations.push({ ...options, type: 'del', key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = []\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') {\n    callback = options\n  }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {}\n  }\n\n  this._written = true\n  this._write(options, callback)\n}\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback)\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractChainedBatch.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractChainedBatch\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}