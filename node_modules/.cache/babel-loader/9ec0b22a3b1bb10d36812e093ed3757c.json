{"ast":null,"code":"'use strict';\n\nvar batch = require('it-batch');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar batch__default = /*#__PURE__*/_interopDefaultLegacy(batch);\n\nfunction balanced(source, reduce, options) {\n  return reduceToParents(source, reduce, options);\n}\n\nasync function reduceToParents(source, reduce, options) {\n  const roots = [];\n\n  for await (const chunked of batch__default[\"default\"](source, options.maxChildrenPerNode)) {\n    roots.push(await reduce(chunked));\n  }\n\n  if (roots.length > 1) {\n    return reduceToParents(roots, reduce, options);\n  }\n\n  return roots[0];\n}\n\nmodule.exports = balanced;","map":{"version":3,"names":["batch","require","_interopDefaultLegacy","e","batch__default","balanced","source","reduce","options","reduceToParents","roots","chunked","maxChildrenPerNode","push","length","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-unixfs-importer/cjs/src/dag-builder/file/balanced.js"],"sourcesContent":["'use strict';\n\nvar batch = require('it-batch');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar batch__default = /*#__PURE__*/_interopDefaultLegacy(batch);\n\nfunction balanced(source, reduce, options) {\n  return reduceToParents(source, reduce, options);\n}\nasync function reduceToParents(source, reduce, options) {\n  const roots = [];\n  for await (const chunked of batch__default[\"default\"](source, options.maxChildrenPerNode)) {\n    roots.push(await reduce(chunked));\n  }\n  if (roots.length > 1) {\n    return reduceToParents(roots, reduce, options);\n  }\n  return roots[0];\n}\n\nmodule.exports = balanced;\n"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,UAAD,CAAnB;;AAEA,SAASC,qBAAT,CAAgCC,CAAhC,EAAmC;EAAE,OAAOA,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAlB,IAA8B,aAAaA,CAA3C,GAA+CA,CAA/C,GAAmD;IAAE,WAAWA;EAAb,CAA1D;AAA6E;;AAElH,IAAIC,cAAc,GAAG,aAAaF,qBAAqB,CAACF,KAAD,CAAvD;;AAEA,SAASK,QAAT,CAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,OAAlC,EAA2C;EACzC,OAAOC,eAAe,CAACH,MAAD,EAASC,MAAT,EAAiBC,OAAjB,CAAtB;AACD;;AACD,eAAeC,eAAf,CAA+BH,MAA/B,EAAuCC,MAAvC,EAA+CC,OAA/C,EAAwD;EACtD,MAAME,KAAK,GAAG,EAAd;;EACA,WAAW,MAAMC,OAAjB,IAA4BP,cAAc,CAAC,SAAD,CAAd,CAA0BE,MAA1B,EAAkCE,OAAO,CAACI,kBAA1C,CAA5B,EAA2F;IACzFF,KAAK,CAACG,IAAN,CAAW,MAAMN,MAAM,CAACI,OAAD,CAAvB;EACD;;EACD,IAAID,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAsB;IACpB,OAAOL,eAAe,CAACC,KAAD,EAAQH,MAAR,EAAgBC,OAAhB,CAAtB;EACD;;EACD,OAAOE,KAAK,CAAC,CAAD,CAAZ;AACD;;AAEDK,MAAM,CAACC,OAAP,GAAiBX,QAAjB"},"metadata":{},"sourceType":"script"}