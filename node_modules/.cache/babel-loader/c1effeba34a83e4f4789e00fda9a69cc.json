{"ast":null,"code":"'use strict';\n\nvar _asyncToGenerator = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar _regeneratorRuntime = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _awaitAsyncGenerator = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/awaitAsyncGenerator.js\").default;\n\nvar _wrapAsyncGenerator = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/wrapAsyncGenerator.js\").default;\n\nvar errCode = require('err-code');\n\nvar extractDataFromBlock = require('../utils/extract-data-from-block.js');\n\nvar validateOffsetAndLength = require('../utils/validate-offset-and-length.js');\n\nvar mh = require('multiformats/hashes/digest');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function get() {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\n\nvar mh__namespace = /*#__PURE__*/_interopNamespace(mh);\n\nvar rawContent = function rawContent(node) {\n  function contentGenerator() {\n    return _contentGenerator.apply(this, arguments);\n  }\n\n  function _contentGenerator() {\n    _contentGenerator = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var options,\n          _validateOffsetAndLen,\n          offset,\n          length,\n          _args = arguments;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              _validateOffsetAndLen = validateOffsetAndLength(node.length, options.offset, options.length), offset = _validateOffsetAndLen.offset, length = _validateOffsetAndLen.length;\n              _context.next = 4;\n              return extractDataFromBlock(node, 0, offset, offset + length);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _contentGenerator.apply(this, arguments);\n  }\n\n  return contentGenerator;\n};\n\nvar resolve = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(cid, name, path, toResolve, _resolve, depth, blockstore, options) {\n    var buf;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!toResolve.length) {\n              _context2.next = 2;\n              break;\n            }\n\n            throw errCode__default[\"default\"](new Error(\"No link named \".concat(path, \" found in raw node \").concat(cid)), 'ERR_NOT_FOUND');\n\n          case 2:\n            _context2.next = 4;\n            return mh__namespace.decode(cid.multihash.bytes);\n\n          case 4:\n            buf = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              entry: {\n                type: 'identity',\n                name: name,\n                path: path,\n                cid: cid,\n                content: rawContent(buf.digest),\n                depth: depth,\n                size: buf.digest.length,\n                node: buf.digest\n              }\n            });\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function resolve(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nmodule.exports = resolve;","map":{"version":3,"names":["errCode","require","extractDataFromBlock","validateOffsetAndLength","mh","_interopDefaultLegacy","e","_interopNamespace","__esModule","n","Object","create","keys","forEach","k","d","getOwnPropertyDescriptor","defineProperty","get","enumerable","freeze","errCode__default","mh__namespace","rawContent","node","contentGenerator","options","length","offset","resolve","cid","name","path","toResolve","depth","blockstore","Error","decode","multihash","bytes","buf","entry","type","content","digest","size","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/ipfs-unixfs-exporter/cjs/src/resolvers/identity.js"],"sourcesContent":["'use strict';\n\nvar errCode = require('err-code');\nvar extractDataFromBlock = require('../utils/extract-data-from-block.js');\nvar validateOffsetAndLength = require('../utils/validate-offset-and-length.js');\nvar mh = require('multiformats/hashes/digest');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\nvar mh__namespace = /*#__PURE__*/_interopNamespace(mh);\n\nconst rawContent = node => {\n  async function* contentGenerator(options = {}) {\n    const {offset, length} = validateOffsetAndLength(node.length, options.offset, options.length);\n    yield extractDataFromBlock(node, 0, offset, offset + length);\n  }\n  return contentGenerator;\n};\nconst resolve = async (cid, name, path, toResolve, resolve, depth, blockstore, options) => {\n  if (toResolve.length) {\n    throw errCode__default[\"default\"](new Error(`No link named ${ path } found in raw node ${ cid }`), 'ERR_NOT_FOUND');\n  }\n  const buf = await mh__namespace.decode(cid.multihash.bytes);\n  return {\n    entry: {\n      type: 'identity',\n      name,\n      path,\n      cid,\n      content: rawContent(buf.digest),\n      depth,\n      size: buf.digest.length,\n      node: buf.digest\n    }\n  };\n};\n\nmodule.exports = resolve;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}