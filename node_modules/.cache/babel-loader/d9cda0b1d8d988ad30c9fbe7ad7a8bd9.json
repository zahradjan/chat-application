{"ast":null,"code":"'use strict';\n/**\n * @typedef {import('./query')} Query\n */\n\n/**\n * Keeps track of all running queries.\n */\n\nclass QueryManager {\n  /**\n   * Creates a new QueryManager.\n   */\n  constructor() {\n    this.queries = new Set();\n    this.running = false;\n  }\n  /**\n   * Called when a query is started.\n   *\n   * @param {Query} query\n   */\n\n\n  queryStarted(query) {\n    this.queries.add(query);\n  }\n  /**\n   * Called when a query completes.\n   *\n   * @param {Query} query\n   */\n\n\n  queryCompleted(query) {\n    this.queries.delete(query);\n  }\n  /**\n   * Starts the query manager.\n   */\n\n\n  start() {\n    this.running = true;\n  }\n  /**\n   * Stops all queries.\n   */\n\n\n  stop() {\n    this.running = false;\n\n    for (const query of this.queries) {\n      query.stop();\n    }\n\n    this.queries.clear();\n  }\n\n}\n\nmodule.exports = QueryManager;","map":{"version":3,"names":["QueryManager","constructor","queries","Set","running","queryStarted","query","add","queryCompleted","delete","start","stop","clear","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/libp2p-kad-dht/src/query-manager.js"],"sourcesContent":["'use strict'\n\n/**\n * @typedef {import('./query')} Query\n */\n\n/**\n * Keeps track of all running queries.\n */\nclass QueryManager {\n  /**\n   * Creates a new QueryManager.\n   */\n  constructor () {\n    this.queries = new Set()\n    this.running = false\n  }\n\n  /**\n   * Called when a query is started.\n   *\n   * @param {Query} query\n   */\n  queryStarted (query) {\n    this.queries.add(query)\n  }\n\n  /**\n   * Called when a query completes.\n   *\n   * @param {Query} query\n   */\n  queryCompleted (query) {\n    this.queries.delete(query)\n  }\n\n  /**\n   * Starts the query manager.\n   */\n  start () {\n    this.running = true\n  }\n\n  /**\n   * Stops all queries.\n   */\n  stop () {\n    this.running = false\n    for (const query of this.queries) {\n      query.stop()\n    }\n    this.queries.clear()\n  }\n}\n\nmodule.exports = QueryManager\n"],"mappings":"AAAA;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AACA,MAAMA,YAAN,CAAmB;EACjB;AACF;AACA;EACEC,WAAW,GAAI;IACb,KAAKC,OAAL,GAAe,IAAIC,GAAJ,EAAf;IACA,KAAKC,OAAL,GAAe,KAAf;EACD;EAED;AACF;AACA;AACA;AACA;;;EACEC,YAAY,CAAEC,KAAF,EAAS;IACnB,KAAKJ,OAAL,CAAaK,GAAb,CAAiBD,KAAjB;EACD;EAED;AACF;AACA;AACA;AACA;;;EACEE,cAAc,CAAEF,KAAF,EAAS;IACrB,KAAKJ,OAAL,CAAaO,MAAb,CAAoBH,KAApB;EACD;EAED;AACF;AACA;;;EACEI,KAAK,GAAI;IACP,KAAKN,OAAL,GAAe,IAAf;EACD;EAED;AACF;AACA;;;EACEO,IAAI,GAAI;IACN,KAAKP,OAAL,GAAe,KAAf;;IACA,KAAK,MAAME,KAAX,IAAoB,KAAKJ,OAAzB,EAAkC;MAChCI,KAAK,CAACK,IAAN;IACD;;IACD,KAAKT,OAAL,CAAaU,KAAb;EACD;;AA3CgB;;AA8CnBC,MAAM,CAACC,OAAP,GAAiBd,YAAjB"},"metadata":{},"sourceType":"script"}