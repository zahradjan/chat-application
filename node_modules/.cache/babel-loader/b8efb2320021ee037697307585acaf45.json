{"ast":null,"code":"'use strict';\n\nvar mafmt = require('mafmt');\n\nvar _require = require('./constants'),\n    CODE_CIRCUIT = _require.CODE_CIRCUIT,\n    CODE_P2P = _require.CODE_P2P,\n    CODE_TCP = _require.CODE_TCP,\n    CODE_WS = _require.CODE_WS,\n    CODE_WSS = _require.CODE_WSS;\n\nmodule.exports = {\n  all: function all(multiaddrs) {\n    return multiaddrs.filter(function (ma) {\n      if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n        return false;\n      }\n\n      var testMa = ma.decapsulateCode(CODE_P2P);\n      return mafmt.WebSockets.matches(testMa) || mafmt.WebSocketsSecure.matches(testMa);\n    });\n  },\n  dnsWss: function dnsWss(multiaddrs) {\n    return multiaddrs.filter(function (ma) {\n      if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n        return false;\n      }\n\n      var testMa = ma.decapsulateCode(CODE_P2P);\n      return mafmt.WebSocketsSecure.matches(testMa) && mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WSS));\n    });\n  },\n  dnsWsOrWss: function dnsWsOrWss(multiaddrs) {\n    return multiaddrs.filter(function (ma) {\n      if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n        return false;\n      }\n\n      var testMa = ma.decapsulateCode(CODE_P2P); // WS\n\n      if (mafmt.WebSockets.matches(testMa)) {\n        return mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WS));\n      } // WSS\n\n\n      return mafmt.WebSocketsSecure.matches(testMa) && mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WSS));\n    });\n  }\n};","map":{"version":3,"names":["mafmt","require","CODE_CIRCUIT","CODE_P2P","CODE_TCP","CODE_WS","CODE_WSS","module","exports","all","multiaddrs","filter","ma","protoCodes","includes","testMa","decapsulateCode","WebSockets","matches","WebSocketsSecure","dnsWss","DNS","dnsWsOrWss"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/libp2p-websockets/src/filters.js"],"sourcesContent":["'use strict'\n\nconst mafmt = require('mafmt')\nconst {\n  CODE_CIRCUIT,\n  CODE_P2P,\n  CODE_TCP,\n  CODE_WS,\n  CODE_WSS\n} = require('./constants')\n\nmodule.exports = {\n  all: (multiaddrs) => multiaddrs.filter((ma) => {\n    if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n      return false\n    }\n\n    const testMa = ma.decapsulateCode(CODE_P2P)\n\n    return mafmt.WebSockets.matches(testMa) ||\n      mafmt.WebSocketsSecure.matches(testMa)\n  }),\n  dnsWss: (multiaddrs) => multiaddrs.filter((ma) => {\n    if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n      return false\n    }\n\n    const testMa = ma.decapsulateCode(CODE_P2P)\n\n    return mafmt.WebSocketsSecure.matches(testMa) &&\n      mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WSS))\n  }),\n  dnsWsOrWss: (multiaddrs) => multiaddrs.filter((ma) => {\n    if (ma.protoCodes().includes(CODE_CIRCUIT)) {\n      return false\n    }\n\n    const testMa = ma.decapsulateCode(CODE_P2P)\n\n    // WS\n    if (mafmt.WebSockets.matches(testMa)) {\n      return mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WS))\n    }\n\n    // WSS\n    return mafmt.WebSocketsSecure.matches(testMa) &&\n      mafmt.DNS.matches(testMa.decapsulateCode(CODE_TCP).decapsulateCode(CODE_WSS))\n  })\n}\n"],"mappings":"AAAA;;AAEA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,eAMIA,OAAO,CAAC,aAAD,CANX;AAAA,IACEC,YADF,YACEA,YADF;AAAA,IAEEC,QAFF,YAEEA,QAFF;AAAA,IAGEC,QAHF,YAGEA,QAHF;AAAA,IAIEC,OAJF,YAIEA,OAJF;AAAA,IAKEC,QALF,YAKEA,QALF;;AAQAC,MAAM,CAACC,OAAP,GAAiB;EACfC,GAAG,EAAE,aAACC,UAAD;IAAA,OAAgBA,UAAU,CAACC,MAAX,CAAkB,UAACC,EAAD,EAAQ;MAC7C,IAAIA,EAAE,CAACC,UAAH,GAAgBC,QAAhB,CAAyBZ,YAAzB,CAAJ,EAA4C;QAC1C,OAAO,KAAP;MACD;;MAED,IAAMa,MAAM,GAAGH,EAAE,CAACI,eAAH,CAAmBb,QAAnB,CAAf;MAEA,OAAOH,KAAK,CAACiB,UAAN,CAAiBC,OAAjB,CAAyBH,MAAzB,KACLf,KAAK,CAACmB,gBAAN,CAAuBD,OAAvB,CAA+BH,MAA/B,CADF;IAED,CAToB,CAAhB;EAAA,CADU;EAWfK,MAAM,EAAE,gBAACV,UAAD;IAAA,OAAgBA,UAAU,CAACC,MAAX,CAAkB,UAACC,EAAD,EAAQ;MAChD,IAAIA,EAAE,CAACC,UAAH,GAAgBC,QAAhB,CAAyBZ,YAAzB,CAAJ,EAA4C;QAC1C,OAAO,KAAP;MACD;;MAED,IAAMa,MAAM,GAAGH,EAAE,CAACI,eAAH,CAAmBb,QAAnB,CAAf;MAEA,OAAOH,KAAK,CAACmB,gBAAN,CAAuBD,OAAvB,CAA+BH,MAA/B,KACLf,KAAK,CAACqB,GAAN,CAAUH,OAAV,CAAkBH,MAAM,CAACC,eAAP,CAAuBZ,QAAvB,EAAiCY,eAAjC,CAAiDV,QAAjD,CAAlB,CADF;IAED,CATuB,CAAhB;EAAA,CAXO;EAqBfgB,UAAU,EAAE,oBAACZ,UAAD;IAAA,OAAgBA,UAAU,CAACC,MAAX,CAAkB,UAACC,EAAD,EAAQ;MACpD,IAAIA,EAAE,CAACC,UAAH,GAAgBC,QAAhB,CAAyBZ,YAAzB,CAAJ,EAA4C;QAC1C,OAAO,KAAP;MACD;;MAED,IAAMa,MAAM,GAAGH,EAAE,CAACI,eAAH,CAAmBb,QAAnB,CAAf,CALoD,CAOpD;;MACA,IAAIH,KAAK,CAACiB,UAAN,CAAiBC,OAAjB,CAAyBH,MAAzB,CAAJ,EAAsC;QACpC,OAAOf,KAAK,CAACqB,GAAN,CAAUH,OAAV,CAAkBH,MAAM,CAACC,eAAP,CAAuBZ,QAAvB,EAAiCY,eAAjC,CAAiDX,OAAjD,CAAlB,CAAP;MACD,CAVmD,CAYpD;;;MACA,OAAOL,KAAK,CAACmB,gBAAN,CAAuBD,OAAvB,CAA+BH,MAA/B,KACLf,KAAK,CAACqB,GAAN,CAAUH,OAAV,CAAkBH,MAAM,CAACC,eAAP,CAAuBZ,QAAvB,EAAiCY,eAAjC,CAAiDV,QAAjD,CAAlB,CADF;IAED,CAf2B,CAAhB;EAAA;AArBG,CAAjB"},"metadata":{},"sourceType":"script"}