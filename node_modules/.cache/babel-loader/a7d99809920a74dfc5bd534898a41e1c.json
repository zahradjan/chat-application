{"ast":null,"code":"'use strict';\n\nvar inherits = require('inherits');\n\nvar _require = require('readable-stream'),\n    Readable = _require.Readable;\n\nmodule.exports = ReadStream;\ninherits(ReadStream, Readable);\n\nfunction ReadStream(iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options);\n  options = options || {};\n  Readable.call(this, Object.assign({}, options, {\n    objectMode: true\n  }));\n  this._iterator = iterator;\n  this._options = options;\n  this.on('end', this.destroy.bind(this, null, null));\n}\n\nReadStream.prototype._read = function () {\n  var _this = this;\n\n  if (this.destroyed) return;\n\n  this._iterator.next(function (err, key, value) {\n    if (_this.destroyed) return;\n    if (err) return _this.destroy(err);\n\n    if (key === undefined && value === undefined) {\n      _this.push(null);\n    } else if (_this._options.keys !== false && _this._options.values === false) {\n      _this.push(key);\n    } else if (_this._options.keys === false && _this._options.values !== false) {\n      _this.push(value);\n    } else {\n      _this.push({\n        key: key,\n        value: value\n      });\n    }\n  });\n};\n\nReadStream.prototype._destroy = function (err, callback) {\n  this._iterator.end(function (err2) {\n    callback(err || err2);\n  });\n};","map":{"version":3,"names":["inherits","require","Readable","module","exports","ReadStream","iterator","options","call","Object","assign","objectMode","_iterator","_options","on","destroy","bind","prototype","_read","destroyed","next","err","key","value","undefined","push","keys","values","_destroy","callback","end","err2"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/level-iterator-stream/index.js"],"sourcesContent":["'use strict'\n\nconst inherits = require('inherits')\nconst { Readable } = require('readable-stream')\n\nmodule.exports = ReadStream\ninherits(ReadStream, Readable)\n\nfunction ReadStream (iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options)\n  options = options || {}\n  Readable.call(this, Object.assign({}, options, {\n    objectMode: true\n  }))\n  this._iterator = iterator\n  this._options = options\n  this.on('end', this.destroy.bind(this, null, null))\n}\n\nReadStream.prototype._read = function () {\n  if (this.destroyed) return\n\n  this._iterator.next((err, key, value) => {\n    if (this.destroyed) return\n    if (err) return this.destroy(err)\n\n    if (key === undefined && value === undefined) {\n      this.push(null)\n    } else if (this._options.keys !== false && this._options.values === false) {\n      this.push(key)\n    } else if (this._options.keys === false && this._options.values !== false) {\n      this.push(value)\n    } else {\n      this.push({ key, value })\n    }\n  })\n}\n\nReadStream.prototype._destroy = function (err, callback) {\n  this._iterator.end(function (err2) {\n    callback(err || err2)\n  })\n}\n"],"mappings":"AAAA;;AAEA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,eAAqBA,OAAO,CAAC,iBAAD,CAA5B;AAAA,IAAQC,QAAR,YAAQA,QAAR;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,UAAjB;AACAL,QAAQ,CAACK,UAAD,EAAaH,QAAb,CAAR;;AAEA,SAASG,UAAT,CAAqBC,QAArB,EAA+BC,OAA/B,EAAwC;EACtC,IAAI,EAAE,gBAAgBF,UAAlB,CAAJ,EAAmC,OAAO,IAAIA,UAAJ,CAAeC,QAAf,EAAyBC,OAAzB,CAAP;EACnCA,OAAO,GAAGA,OAAO,IAAI,EAArB;EACAL,QAAQ,CAACM,IAAT,CAAc,IAAd,EAAoBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,OAAlB,EAA2B;IAC7CI,UAAU,EAAE;EADiC,CAA3B,CAApB;EAGA,KAAKC,SAAL,GAAiBN,QAAjB;EACA,KAAKO,QAAL,GAAgBN,OAAhB;EACA,KAAKO,EAAL,CAAQ,KAAR,EAAe,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,CAAf;AACD;;AAEDX,UAAU,CAACY,SAAX,CAAqBC,KAArB,GAA6B,YAAY;EAAA;;EACvC,IAAI,KAAKC,SAAT,EAAoB;;EAEpB,KAAKP,SAAL,CAAeQ,IAAf,CAAoB,UAACC,GAAD,EAAMC,GAAN,EAAWC,KAAX,EAAqB;IACvC,IAAI,KAAI,CAACJ,SAAT,EAAoB;IACpB,IAAIE,GAAJ,EAAS,OAAO,KAAI,CAACN,OAAL,CAAaM,GAAb,CAAP;;IAET,IAAIC,GAAG,KAAKE,SAAR,IAAqBD,KAAK,KAAKC,SAAnC,EAA8C;MAC5C,KAAI,CAACC,IAAL,CAAU,IAAV;IACD,CAFD,MAEO,IAAI,KAAI,CAACZ,QAAL,CAAca,IAAd,KAAuB,KAAvB,IAAgC,KAAI,CAACb,QAAL,CAAcc,MAAd,KAAyB,KAA7D,EAAoE;MACzE,KAAI,CAACF,IAAL,CAAUH,GAAV;IACD,CAFM,MAEA,IAAI,KAAI,CAACT,QAAL,CAAca,IAAd,KAAuB,KAAvB,IAAgC,KAAI,CAACb,QAAL,CAAcc,MAAd,KAAyB,KAA7D,EAAoE;MACzE,KAAI,CAACF,IAAL,CAAUF,KAAV;IACD,CAFM,MAEA;MACL,KAAI,CAACE,IAAL,CAAU;QAAEH,GAAG,EAAHA,GAAF;QAAOC,KAAK,EAALA;MAAP,CAAV;IACD;EACF,CAbD;AAcD,CAjBD;;AAmBAlB,UAAU,CAACY,SAAX,CAAqBW,QAArB,GAAgC,UAAUP,GAAV,EAAeQ,QAAf,EAAyB;EACvD,KAAKjB,SAAL,CAAekB,GAAf,CAAmB,UAAUC,IAAV,EAAgB;IACjCF,QAAQ,CAACR,GAAG,IAAIU,IAAR,CAAR;EACD,CAFD;AAGD,CAJD"},"metadata":{},"sourceType":"script"}