{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{observer}from\"mobx-react\";import React,{useCallback,useRef}from\"react\";import{store,useStores}from\"../../data/store/RootStore.js\";import DecentioLogo from\"../../icons/decentioLogoLight.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=observer(function(){var _useStores=useStores(),userStore=_useStores.userStore,sessionStore=_useStores.sessionStore;var userNameRef=useRef(null);var onSubmit=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var userName;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();userName=userNameRef.current.value;console.log(userName);if(!(userName!==\"\")){_context.next=11;break;}_context.next=6;return sessionStore.login(userName);case 6:_context.next=8;return store.initDbStores();case 8:_context.next=10;return userStore.createUser(userName);case 10:console.log(userStore.getAllProfileFields());case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[sessionStore,userStore]);return/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",width:550,height:450,src:DecentioLogo}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{ref:userNameRef,name:\"Username\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign in\"})]})]})});});export default LoginPage;","map":{"version":3,"names":["observer","React","useCallback","useRef","store","useStores","DecentioLogo","LoginPage","userStore","sessionStore","userNameRef","onSubmit","e","preventDefault","userName","current","value","console","log","login","initDbStores","createUser","getAllProfileFields","position","top","left","transform"],"sources":["C:/Users/zajan/GitHub/chatApplication/src/pages/login/LoginPage.js"],"sourcesContent":["import { observer } from \"mobx-react\";\r\nimport React, { useCallback, useRef } from \"react\";\r\nimport { store, useStores } from \"../../data/store/RootStore.js\";\r\nimport DecentioLogo from \"../../icons/decentioLogoLight.png\";\r\n\r\nconst LoginPage = observer(() => {\r\n  const { userStore, sessionStore } = useStores();\r\n  const userNameRef = useRef(null);\r\n\r\n  const onSubmit = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      const userName = userNameRef.current.value;\r\n      console.log(userName);\r\n      if (userName !== \"\") {\r\n        await sessionStore.login(userName);\r\n        await store.initDbStores();\r\n        await userStore.createUser(userName);\r\n        console.log(userStore.getAllProfileFields());\r\n      }\r\n    },\r\n    [sessionStore, userStore]\r\n  );\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n      }}\r\n    >\r\n      <div>\r\n        <img alt=\"logo\" width={550} height={450} src={DecentioLogo}></img>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            <input ref={userNameRef} name=\"Username\"></input>\r\n          </div>\r\n          <button type=\"submit\">Sign in</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nexport default LoginPage;\r\n"],"mappings":"sQAAA,OAASA,QAAT,KAAyB,YAAzB,CACA,MAAOC,MAAP,EAAgBC,WAAhB,CAA6BC,MAA7B,KAA2C,OAA3C,CACA,OAASC,KAAT,CAAgBC,SAAhB,KAAiC,+BAAjC,CACA,MAAOC,aAAP,KAAyB,mCAAzB,C,wFAEA,GAAMC,UAAS,CAAGP,QAAQ,CAAC,UAAM,CAC/B,eAAoCK,SAAS,EAA7C,CAAQG,SAAR,YAAQA,SAAR,CAAmBC,YAAnB,YAAmBA,YAAnB,CACA,GAAMC,YAAW,CAAGP,MAAM,CAAC,IAAD,CAA1B,CAEA,GAAMQ,SAAQ,CAAGT,WAAW,4FAC1B,iBAAOU,CAAP,iIACEA,CAAC,CAACC,cAAF,GACMC,QAFR,CAEmBJ,WAAW,CAACK,OAAZ,CAAoBC,KAFvC,CAGEC,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAHF,KAIMA,QAAQ,GAAK,EAJnB,iDAKUL,aAAY,CAACU,KAAb,CAAmBL,QAAnB,CALV,8BAMUV,MAAK,CAACgB,YAAN,EANV,+BAOUZ,UAAS,CAACa,UAAV,CAAqBP,QAArB,CAPV,SAQIG,OAAO,CAACC,GAAR,CAAYV,SAAS,CAACc,mBAAV,EAAZ,EARJ,uDAD0B,+DAY1B,CAACb,YAAD,CAAeD,SAAf,CAZ0B,CAA5B,CAcA,mBACE,YACE,KAAK,CAAE,CACLe,QAAQ,CAAE,UADL,CAELC,GAAG,CAAE,KAFA,CAGLC,IAAI,CAAE,KAHD,CAILC,SAAS,CAAE,uBAJN,CADT,uBAQE,oCACE,YAAK,GAAG,CAAC,MAAT,CAAgB,KAAK,CAAE,GAAvB,CAA4B,MAAM,CAAE,GAApC,CAAyC,GAAG,CAAEpB,YAA9C,EADF,cAEE,cAAM,QAAQ,CAAEK,QAAhB,wBACE,kCACE,cAAO,GAAG,CAAED,WAAZ,CAAyB,IAAI,CAAC,UAA9B,EADF,EADF,cAIE,eAAQ,IAAI,CAAC,QAAb,qBAJF,GAFF,GARF,EADF,CAoBD,CAtCyB,CAA1B,CAuCA,cAAeH,UAAf"},"metadata":{},"sourceType":"module"}