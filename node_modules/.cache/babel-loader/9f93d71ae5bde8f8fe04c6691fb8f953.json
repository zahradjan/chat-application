{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"C:/Users/zajan/GitHub/chatApplication/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar getTime = require('./time');\n\nvar Retimer = /*#__PURE__*/function () {\n  function Retimer(callback, timeout, args) {\n    _classCallCheck(this, Retimer);\n\n    var that = this;\n    this._started = getTime();\n    this._rescheduled = 0;\n    this._scheduled = timeout;\n    this._args = args;\n    this._triggered = false;\n\n    this._timerWrapper = function () {\n      if (that._rescheduled > 0) {\n        that._scheduled = that._rescheduled - (getTime() - that._started);\n\n        that._schedule(that._scheduled);\n      } else {\n        that._triggered = true;\n        callback.apply(null, that._args);\n      }\n    };\n\n    this._timer = setTimeout(this._timerWrapper, timeout);\n  }\n\n  _createClass(Retimer, [{\n    key: \"reschedule\",\n    value: function reschedule(timeout) {\n      if (!timeout) {\n        timeout = this._scheduled;\n      }\n\n      var now = getTime();\n\n      if (now + timeout - (this._started + this._scheduled) < 0) {\n        clearTimeout(this._timer);\n\n        this._schedule(timeout);\n      } else if (!this._triggered) {\n        this._started = now;\n        this._rescheduled = timeout;\n      } else {\n        this._schedule(timeout);\n      }\n    }\n  }, {\n    key: \"_schedule\",\n    value: function _schedule(timeout) {\n      this._triggered = false;\n      this._started = getTime();\n      this._rescheduled = 0;\n      this._scheduled = timeout;\n      this._timer = setTimeout(this._timerWrapper, timeout);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      clearTimeout(this._timer);\n    }\n  }]);\n\n  return Retimer;\n}();\n\nfunction retimer() {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed');\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed');\n  }\n\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n    /* eslint-disable no-var */\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args);\n}\n\nmodule.exports = retimer;","map":{"version":3,"names":["getTime","require","Retimer","callback","timeout","args","that","_started","_rescheduled","_scheduled","_args","_triggered","_timerWrapper","_schedule","apply","_timer","setTimeout","now","clearTimeout","retimer","arguments","Error","length","Array","i","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/retimer/retimer.js"],"sourcesContent":["'use strict'\n\nconst getTime = require('./time')\n\nclass Retimer {\n  constructor (callback, timeout, args) {\n    const that = this\n\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._args = args\n    this._triggered = false\n\n    this._timerWrapper = () => {\n      if (that._rescheduled > 0) {\n        that._scheduled = that._rescheduled - (getTime() - that._started)\n        that._schedule(that._scheduled)\n      } else {\n        that._triggered = true\n        callback.apply(null, that._args)\n      }\n    }\n\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  reschedule (timeout) {\n    if (!timeout) {\n      timeout = this._scheduled\n    }\n    const now = getTime()\n    if ((now + timeout) - (this._started + this._scheduled) < 0) {\n      clearTimeout(this._timer)\n      this._schedule(timeout)\n    } else if (!this._triggered) {\n      this._started = now\n      this._rescheduled = timeout\n    } else {\n      this._schedule(timeout)\n    }\n  }\n\n  _schedule (timeout) {\n    this._triggered = false\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  clear () {\n    clearTimeout(this._timer)\n  }\n}\n\nfunction retimer () {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed')\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed')\n  }\n\n  let args\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2)\n\n    /* eslint-disable no-var */\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2]\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args)\n}\n\nmodule.exports = retimer\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}