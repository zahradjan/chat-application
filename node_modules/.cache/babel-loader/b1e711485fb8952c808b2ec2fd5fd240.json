{"ast":null,"code":"import { makeAutoObservable, runInAction, toJS } from \"mobx\";\nimport { Monitor } from \"../models/Monitor.js\";\nexport class MonitorStore {\n  constructor(rootStore) {\n    this.rootStore = rootStore;\n    this.monitors = [];\n    makeAutoObservable(this);\n  }\n\n  async createMonitor(topicName) {\n    if (this.rootStore.dataStore.ipfsNode === undefined) throw Error(\"IPFS Node not defined!\");\n    if (this.rootStore.dataStore.orbitDb === undefined) throw Error(\"OrbitDb not defined!\");\n    let monitor;\n    runInAction(async () => {\n      monitor = new Monitor(this.rootStore, topicName);\n      await monitor.init();\n      this.monitors.push(monitor);\n    });\n    return monitor;\n  }\n\n  getMonitor(topicName) {\n    //TODO: kdyz nenajde apod.\n    return this.monitors.find(monitor => topicName === monitor.topicName);\n  }\n\n}","map":{"version":3,"names":["makeAutoObservable","runInAction","toJS","Monitor","MonitorStore","constructor","rootStore","monitors","createMonitor","topicName","dataStore","ipfsNode","undefined","Error","orbitDb","monitor","init","push","getMonitor","find"],"sources":["C:/Users/zajan/GitHub/chatApplication/src/data/store/MonitorStore.js"],"sourcesContent":["import { makeAutoObservable, runInAction, toJS } from \"mobx\";\r\nimport { Monitor } from \"../models/Monitor.js\";\r\n\r\nexport class MonitorStore {\r\n  monitors;\r\n  constructor(rootStore) {\r\n    this.rootStore = rootStore;\r\n    this.monitors = [];\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  async createMonitor(topicName) {\r\n    if (this.rootStore.dataStore.ipfsNode === undefined) throw Error(\"IPFS Node not defined!\");\r\n    if (this.rootStore.dataStore.orbitDb === undefined) throw Error(\"OrbitDb not defined!\");\r\n    let monitor;\r\n    runInAction(async () => {\r\n      monitor = new Monitor(this.rootStore, topicName);\r\n      await monitor.init();\r\n      this.monitors.push(monitor);\r\n    });\r\n    return monitor;\r\n  }\r\n\r\n  getMonitor(topicName) {\r\n    //TODO: kdyz nenajde apod.\r\n    return this.monitors.find((monitor) => topicName === monitor.topicName);\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,WAA7B,EAA0CC,IAA1C,QAAsD,MAAtD;AACA,SAASC,OAAT,QAAwB,sBAAxB;AAEA,OAAO,MAAMC,YAAN,CAAmB;EAExBC,WAAW,CAACC,SAAD,EAAY;IACrB,KAAKA,SAAL,GAAiBA,SAAjB;IACA,KAAKC,QAAL,GAAgB,EAAhB;IACAP,kBAAkB,CAAC,IAAD,CAAlB;EACD;;EAEkB,MAAbQ,aAAa,CAACC,SAAD,EAAY;IAC7B,IAAI,KAAKH,SAAL,CAAeI,SAAf,CAAyBC,QAAzB,KAAsCC,SAA1C,EAAqD,MAAMC,KAAK,CAAC,wBAAD,CAAX;IACrD,IAAI,KAAKP,SAAL,CAAeI,SAAf,CAAyBI,OAAzB,KAAqCF,SAAzC,EAAoD,MAAMC,KAAK,CAAC,sBAAD,CAAX;IACpD,IAAIE,OAAJ;IACAd,WAAW,CAAC,YAAY;MACtBc,OAAO,GAAG,IAAIZ,OAAJ,CAAY,KAAKG,SAAjB,EAA4BG,SAA5B,CAAV;MACA,MAAMM,OAAO,CAACC,IAAR,EAAN;MACA,KAAKT,QAAL,CAAcU,IAAd,CAAmBF,OAAnB;IACD,CAJU,CAAX;IAKA,OAAOA,OAAP;EACD;;EAEDG,UAAU,CAACT,SAAD,EAAY;IACpB;IACA,OAAO,KAAKF,QAAL,CAAcY,IAAd,CAAoBJ,OAAD,IAAaN,SAAS,KAAKM,OAAO,CAACN,SAAtD,CAAP;EACD;;AAvBuB"},"metadata":{},"sourceType":"module"}