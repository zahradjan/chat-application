{"ast":null,"code":"// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n/**\n * Local reference to TimeoutError\n * @private\n */\n\nvar TimeoutError;\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\n\nvar timeout = module.exports.timeout = function (promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n  return Promise.race([promise, new Promise(function (resolve, reject) {\n    timeout = setTimeout(function () {\n      reject(error);\n    }, timeoutMillis);\n  })]).then(function (v) {\n    clearTimeout(timeout);\n    return v;\n  }, function (err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n/**\n * Exception indicating that the timeout expired.\n */\n\n\nTimeoutError = module.exports.TimeoutError = function () {\n  Error.call(this);\n  this.stack = Error().stack;\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";","map":{"version":3,"names":["TimeoutError","timeout","module","exports","promise","timeoutMillis","error","Promise","race","resolve","reject","setTimeout","then","v","clearTimeout","err","Error","call","stack","message","prototype","Object","create","name"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/promise-timeout/index.js"],"sourcesContent":["// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;;AACA,IAAIA,YAAJ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,OAAO,GAAGC,MAAM,CAACC,OAAP,CAAeF,OAAf,GAAyB,UAASG,OAAT,EAAkBC,aAAlB,EAAiC;EACtE,IAAIC,KAAK,GAAG,IAAIN,YAAJ,EAAZ;EAAA,IACIC,OADJ;EAGA,OAAOM,OAAO,CAACC,IAAR,CAAa,CAClBJ,OADkB,EAElB,IAAIG,OAAJ,CAAY,UAASE,OAAT,EAAkBC,MAAlB,EAA0B;IACpCT,OAAO,GAAGU,UAAU,CAAC,YAAW;MAC9BD,MAAM,CAACJ,KAAD,CAAN;IACD,CAFmB,EAEjBD,aAFiB,CAApB;EAGD,CAJD,CAFkB,CAAb,EAOJO,IAPI,CAOC,UAASC,CAAT,EAAY;IAClBC,YAAY,CAACb,OAAD,CAAZ;IACA,OAAOY,CAAP;EACD,CAVM,EAUJ,UAASE,GAAT,EAAc;IACfD,YAAY,CAACb,OAAD,CAAZ;IACA,MAAMc,GAAN;EACD,CAbM,CAAP;AAcD,CAlBD;AAoBA;AACA;AACA;;;AACAf,YAAY,GAAGE,MAAM,CAACC,OAAP,CAAeH,YAAf,GAA8B,YAAW;EACtDgB,KAAK,CAACC,IAAN,CAAW,IAAX;EACA,KAAKC,KAAL,GAAaF,KAAK,GAAGE,KAArB;EACA,KAAKC,OAAL,GAAe,SAAf;AACD,CAJD;;AAMAnB,YAAY,CAACoB,SAAb,GAAyBC,MAAM,CAACC,MAAP,CAAcN,KAAK,CAACI,SAApB,CAAzB;AACApB,YAAY,CAACoB,SAAb,CAAuBG,IAAvB,GAA8B,cAA9B"},"metadata":{},"sourceType":"script"}