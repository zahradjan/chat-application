{"ast":null,"code":"const FixedFIFO = require('./fixed-size');\n\nmodule.exports = class FastFIFO {\n  constructor(hwm) {\n    this.hwm = hwm || 16;\n    this.head = new FixedFIFO(this.hwm);\n    this.tail = this.head;\n  }\n\n  push(val) {\n    if (!this.head.push(val)) {\n      const prev = this.head;\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length);\n      this.head.push(val);\n    }\n  }\n\n  shift() {\n    const val = this.tail.shift();\n\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next;\n      this.tail.next = null;\n      this.tail = next;\n      return this.tail.shift();\n    }\n\n    return val;\n  }\n\n  peek() {\n    return this.tail.peek();\n  }\n\n  isEmpty() {\n    return this.head.isEmpty();\n  }\n\n};","map":{"version":3,"names":["FixedFIFO","require","module","exports","FastFIFO","constructor","hwm","head","tail","push","val","prev","next","buffer","length","shift","undefined","peek","isEmpty"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/fast-fifo/index.js"],"sourcesContent":["const FixedFIFO = require('./fixed-size')\n\nmodule.exports = class FastFIFO {\n  constructor (hwm) {\n    this.hwm = hwm || 16\n    this.head = new FixedFIFO(this.hwm)\n    this.tail = this.head\n  }\n\n  push (val) {\n    if (!this.head.push(val)) {\n      const prev = this.head\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length)\n      this.head.push(val)\n    }\n  }\n\n  shift () {\n    const val = this.tail.shift()\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next\n      this.tail.next = null\n      this.tail = next\n      return this.tail.shift()\n    }\n    return val\n  }\n\n  peek () {\n    return this.tail.peek()\n  }\n\n  isEmpty () {\n    return this.head.isEmpty()\n  }\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAMC,QAAN,CAAe;EAC9BC,WAAW,CAAEC,GAAF,EAAO;IAChB,KAAKA,GAAL,GAAWA,GAAG,IAAI,EAAlB;IACA,KAAKC,IAAL,GAAY,IAAIP,SAAJ,CAAc,KAAKM,GAAnB,CAAZ;IACA,KAAKE,IAAL,GAAY,KAAKD,IAAjB;EACD;;EAEDE,IAAI,CAAEC,GAAF,EAAO;IACT,IAAI,CAAC,KAAKH,IAAL,CAAUE,IAAV,CAAeC,GAAf,CAAL,EAA0B;MACxB,MAAMC,IAAI,GAAG,KAAKJ,IAAlB;MACA,KAAKA,IAAL,GAAYI,IAAI,CAACC,IAAL,GAAY,IAAIZ,SAAJ,CAAc,IAAI,KAAKO,IAAL,CAAUM,MAAV,CAAiBC,MAAnC,CAAxB;MACA,KAAKP,IAAL,CAAUE,IAAV,CAAeC,GAAf;IACD;EACF;;EAEDK,KAAK,GAAI;IACP,MAAML,GAAG,GAAG,KAAKF,IAAL,CAAUO,KAAV,EAAZ;;IACA,IAAIL,GAAG,KAAKM,SAAR,IAAqB,KAAKR,IAAL,CAAUI,IAAnC,EAAyC;MACvC,MAAMA,IAAI,GAAG,KAAKJ,IAAL,CAAUI,IAAvB;MACA,KAAKJ,IAAL,CAAUI,IAAV,GAAiB,IAAjB;MACA,KAAKJ,IAAL,GAAYI,IAAZ;MACA,OAAO,KAAKJ,IAAL,CAAUO,KAAV,EAAP;IACD;;IACD,OAAOL,GAAP;EACD;;EAEDO,IAAI,GAAI;IACN,OAAO,KAAKT,IAAL,CAAUS,IAAV,EAAP;EACD;;EAEDC,OAAO,GAAI;IACT,OAAO,KAAKX,IAAL,CAAUW,OAAV,EAAP;EACD;;AAhC6B,CAAhC"},"metadata":{},"sourceType":"script"}