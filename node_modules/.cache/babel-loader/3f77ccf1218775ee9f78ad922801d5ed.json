{"ast":null,"code":"'use strict';\n\nvar getTime = require('./time');\n\nfunction Retimer(callback, timeout, args) {\n  var that = this;\n  this._started = getTime();\n  this._rescheduled = 0;\n  this._scheduled = timeout;\n  this._args = args;\n  this._timer = setTimeout(timerWrapper, timeout);\n\n  function timerWrapper() {\n    if (that._rescheduled > 0) {\n      that._scheduled = that._rescheduled - (getTime() - that._started);\n      that._timer = setTimeout(timerWrapper, that._scheduled);\n      that._rescheduled = 0;\n    } else {\n      callback.apply(null, that._args);\n    }\n  }\n}\n\nRetimer.prototype.reschedule = function (timeout) {\n  var now = getTime();\n\n  if (now + timeout - (this._started + this._scheduled) < 0) {\n    return false;\n  } else {\n    this._started = now;\n    this._rescheduled = timeout;\n    return true;\n  }\n};\n\nRetimer.prototype.clear = function () {\n  clearTimeout(this._timer);\n};\n\nfunction retimer() {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed');\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed');\n  }\n\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args);\n}\n\nmodule.exports = retimer;","map":{"version":3,"names":["getTime","require","Retimer","callback","timeout","args","that","_started","_rescheduled","_scheduled","_args","_timer","setTimeout","timerWrapper","apply","prototype","reschedule","now","clear","clearTimeout","retimer","arguments","Error","length","Array","i","module","exports"],"sources":["C:/Users/zajan/GitHub/chatApplication/node_modules/timeout-abort-controller/node_modules/retimer/retimer.js"],"sourcesContent":["'use strict'\n\nvar getTime = require('./time')\n\nfunction Retimer (callback, timeout, args) {\n  var that = this\n\n  this._started = getTime()\n  this._rescheduled = 0\n  this._scheduled = timeout\n  this._args = args\n\n  this._timer = setTimeout(timerWrapper, timeout)\n\n  function timerWrapper () {\n    if (that._rescheduled > 0) {\n      that._scheduled = that._rescheduled - (getTime() - that._started)\n      that._timer = setTimeout(timerWrapper, that._scheduled)\n      that._rescheduled = 0\n    } else {\n      callback.apply(null, that._args)\n    }\n  }\n}\n\nRetimer.prototype.reschedule = function (timeout) {\n  var now = getTime()\n  if ((now + timeout) - (this._started + this._scheduled) < 0) {\n    return false\n  } else {\n    this._started = now\n    this._rescheduled = timeout\n    return true\n  }\n}\n\nRetimer.prototype.clear = function () {\n  clearTimeout(this._timer)\n}\n\nfunction retimer () {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed')\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed')\n  }\n\n  var args\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2)\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2]\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args)\n}\n\nmodule.exports = retimer\n"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,QAAD,CAArB;;AAEA,SAASC,OAAT,CAAkBC,QAAlB,EAA4BC,OAA5B,EAAqCC,IAArC,EAA2C;EACzC,IAAIC,IAAI,GAAG,IAAX;EAEA,KAAKC,QAAL,GAAgBP,OAAO,EAAvB;EACA,KAAKQ,YAAL,GAAoB,CAApB;EACA,KAAKC,UAAL,GAAkBL,OAAlB;EACA,KAAKM,KAAL,GAAaL,IAAb;EAEA,KAAKM,MAAL,GAAcC,UAAU,CAACC,YAAD,EAAeT,OAAf,CAAxB;;EAEA,SAASS,YAAT,GAAyB;IACvB,IAAIP,IAAI,CAACE,YAAL,GAAoB,CAAxB,EAA2B;MACzBF,IAAI,CAACG,UAAL,GAAkBH,IAAI,CAACE,YAAL,IAAqBR,OAAO,KAAKM,IAAI,CAACC,QAAtC,CAAlB;MACAD,IAAI,CAACK,MAAL,GAAcC,UAAU,CAACC,YAAD,EAAeP,IAAI,CAACG,UAApB,CAAxB;MACAH,IAAI,CAACE,YAAL,GAAoB,CAApB;IACD,CAJD,MAIO;MACLL,QAAQ,CAACW,KAAT,CAAe,IAAf,EAAqBR,IAAI,CAACI,KAA1B;IACD;EACF;AACF;;AAEDR,OAAO,CAACa,SAAR,CAAkBC,UAAlB,GAA+B,UAAUZ,OAAV,EAAmB;EAChD,IAAIa,GAAG,GAAGjB,OAAO,EAAjB;;EACA,IAAKiB,GAAG,GAAGb,OAAP,IAAmB,KAAKG,QAAL,GAAgB,KAAKE,UAAxC,IAAsD,CAA1D,EAA6D;IAC3D,OAAO,KAAP;EACD,CAFD,MAEO;IACL,KAAKF,QAAL,GAAgBU,GAAhB;IACA,KAAKT,YAAL,GAAoBJ,OAApB;IACA,OAAO,IAAP;EACD;AACF,CATD;;AAWAF,OAAO,CAACa,SAAR,CAAkBG,KAAlB,GAA0B,YAAY;EACpCC,YAAY,CAAC,KAAKR,MAAN,CAAZ;AACD,CAFD;;AAIA,SAASS,OAAT,GAAoB;EAClB,IAAI,OAAOC,SAAS,CAAC,CAAD,CAAhB,KAAwB,UAA5B,EAAwC;IACtC,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;EACD;;EAED,IAAI,OAAOD,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAA5B,EAAsC;IACpC,MAAM,IAAIC,KAAJ,CAAU,gBAAV,CAAN;EACD;;EAED,IAAIjB,IAAJ;;EAEA,IAAIgB,SAAS,CAACE,MAAV,GAAmB,CAAvB,EAA0B;IACxBlB,IAAI,GAAG,IAAImB,KAAJ,CAAUH,SAAS,CAACE,MAAV,GAAmB,CAA7B,CAAP;;IAEA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpB,IAAI,CAACkB,MAAzB,EAAiCE,CAAC,EAAlC,EAAsC;MACpCpB,IAAI,CAACoB,CAAD,CAAJ,GAAUJ,SAAS,CAACI,CAAC,GAAG,CAAL,CAAnB;IACD;EACF;;EAED,OAAO,IAAIvB,OAAJ,CAAYmB,SAAS,CAAC,CAAD,CAArB,EAA0BA,SAAS,CAAC,CAAD,CAAnC,EAAwChB,IAAxC,CAAP;AACD;;AAEDqB,MAAM,CAACC,OAAP,GAAiBP,OAAjB"},"metadata":{},"sourceType":"script"}