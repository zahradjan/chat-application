{"code":"(this[\"webpackJsonpdecentio-orbitdb\"]=this[\"webpackJsonpdecentio-orbitdb\"]||[]).push([[3],{1647:function(e,t,n){\"use strict\";n.r(t);var r=n(5),c=n(13),s=n(163),i=n(0),o=n(89),a=n(606),u=n(24),b=Object(s.a)((function(){var e=Object(o.c)(),t=e.userStore,n=e.sessionStore,s=Object(i.useRef)(null),b=Object(i.useCallback)(function(){var e=Object(c.a)(Object(r.a)().mark((function e(c){var i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),i=s.current.value,console.log(i),\"\"===i){e.next=11;break}return e.next=6,n.login(i);case 6:return e.next=8,o.b.initDbStores();case 8:return e.next=10,t.createUser(i);case 10:console.log(t.getAllProfileFields());case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return Object(u.jsx)(\"div\",{style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},children:Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"img\",{alt:\"logo\",width:550,height:450,src:a.a}),Object(u.jsxs)(\"form\",{onSubmit:b,children:[Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"input\",{ref:s,name:\"Username\"})}),Object(u.jsx)(\"button\",{type:\"submit\",children:\"Sign in\"})]})]})})}));t.default=b}}]);","name":"static/js/3.0cb0e794.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__","C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","mobx_react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","_data_store_RootStore_js__WEBPACK_IMPORTED_MODULE_4__","_icons_decentioLogoLight_png__WEBPACK_IMPORTED_MODULE_5__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__","LoginPage","Object","_useStores","userStore","sessionStore","userNameRef","onSubmit","_ref","mark","_callee","e","userName","wrap","_context","prev","next","preventDefault","current","value","console","log","login","initDbStores","createUser","getAllProfileFields","stop","_x","apply","arguments","style","position","top","left","transform","children","alt","width","height","src","ref","name","type"],"sources":["static/js/3.0cb0e794.chunk.js"],"mappings":"CAACA,KAAK,gCAAkCA,KAAK,iCAAmC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAExF,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACD,IAAIG,EAAiIF,EAAoB,GACrJG,EAA+HH,EAAoB,IACnJI,EAA0CJ,EAAoB,KAC9DK,EAAqCL,EAAoB,GAEzDM,EAAwDN,EAAoB,IAC5EO,EAA4DP,EAAoB,KAChFQ,EAAiDR,EAAoB,IAE1FS,EAAUC,OAAON,EAA0D,EAAjEM,EAAoE,WAAW,IAAIC,EAAWD,OAAOJ,EAAyE,EAAhFI,GAAqFE,EAAUD,EAAWC,UAAUC,EAAaF,EAAWE,aAAiBC,EAAYJ,OAAOL,EAA2C,OAAlDK,CAAqD,MAAUK,EAASL,OAAOL,EAAgD,YAAvDK,CAAuE,WAAW,IAAIM,EAAKN,OAAOP,EAA8I,EAArJO,CAAqKA,OAAOR,EAAgJ,EAAvJQ,GAA4JO,MAAK,SAASC,EAAQC,GAAG,IAAIC,EAAS,OAAOV,OAAOR,EAAgJ,EAAvJQ,GAA4JW,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAA8E,GAA5EL,EAAEM,iBAAiBL,EAASN,EAAYY,QAAQC,MAAMC,QAAQC,IAAIT,GAA0B,KAAXA,EAAe,CAACE,EAASE,KAAK,GAAG,MAAuB,OAAhBF,EAASE,KAAK,EAASX,EAAaiB,MAAMV,GAAU,KAAK,EAAkB,OAAhBE,EAASE,KAAK,EAASlB,EAAqE,EAAEyB,eAAe,KAAK,EAAmB,OAAjBT,EAASE,KAAK,GAAUZ,EAAUoB,WAAWZ,GAAU,KAAK,GAAGQ,QAAQC,IAAIjB,EAAUqB,uBAAuB,KAAK,GAAG,IAAI,MAAM,OAAOX,EAASY,UAAWhB,OAAa,OAAO,SAASiB,GAAI,OAAOnB,EAAKoB,MAAMxC,KAAKyC,YAA5mC,GAA6nC,CAACxB,EAAaD,IAAY,OAAmBF,OAAOF,EAAoD,IAA3DE,CAA8D,MAAM,CAAC4B,MAAM,CAACC,SAAS,WAAWC,IAAI,MAAMC,KAAK,MAAMC,UAAU,yBAAyBC,SAAsBjC,OAAOF,EAAqD,KAA5DE,CAA+D,MAAM,CAACiC,SAAS,CAAcjC,OAAOF,EAAoD,IAA3DE,CAA8D,MAAM,CAACkC,IAAI,OAAOC,MAAM,IAAIC,OAAO,IAAIC,IAAIxC,EAA2E,IAAiBG,OAAOF,EAAqD,KAA5DE,CAA+D,OAAO,CAACK,SAASA,EAAS4B,SAAS,CAAcjC,OAAOF,EAAoD,IAA3DE,CAA8D,MAAM,CAACiC,SAAsBjC,OAAOF,EAAoD,IAA3DE,CAA8D,QAAQ,CAACsC,IAAIlC,EAAYmC,KAAK,eAA4BvC,OAAOF,EAAoD,IAA3DE,CAA8D,SAAS,CAACwC,KAAK,SAASP,SAAS,uBAAoD5C,EAA6B,QAAI"},"input":"(this[\"webpackJsonpdecentio-orbitdb\"] = this[\"webpackJsonpdecentio-orbitdb\"] || []).push([[3],{\n\n/***/ 1647:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(163);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _data_store_RootStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(89);\n/* harmony import */ var _icons_decentioLogoLight_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(606);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(24);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);\nvar LoginPage=Object(mobx_react__WEBPACK_IMPORTED_MODULE_2__[/* observer */ \"a\"])(function(){var _useStores=Object(_data_store_RootStore_js__WEBPACK_IMPORTED_MODULE_4__[/* useStores */ \"c\"])(),userStore=_useStores.userStore,sessionStore=_useStores.sessionStore;var userNameRef=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);var onSubmit=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(/*#__PURE__*/function(){var _ref=Object(C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(e){var userName;return Object(C_Users_zajan_GitHub_chatApplication_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();userName=userNameRef.current.value;console.log(userName);if(!(userName!==\"\")){_context.next=11;break;}_context.next=6;return sessionStore.login(userName);case 6:_context.next=8;return _data_store_RootStore_js__WEBPACK_IMPORTED_MODULE_4__[/* store */ \"b\"].initDbStores();case 8:_context.next=10;return userStore.createUser(userName);case 10:console.log(userStore.getAllProfileFields());case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[sessionStore,userStore]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"img\",{alt:\"logo\",width:550,height:450,src:_icons_decentioLogoLight_png__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"input\",{ref:userNameRef,name:\"Username\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"button\",{type:\"submit\",children:\"Sign in\"})]})]})});});/* harmony default export */ __webpack_exports__[\"default\"] = (LoginPage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/zajan/GitHub/chatApplication/src/pages/login/LoginPage.js"],"names":["LoginPage","observer","useStores","userStore","sessionStore","userNameRef","useRef","onSubmit","useCallback","e","preventDefault","userName","current","value","console","log","login","store","initDbStores","createUser","getAllProfileFields","position","top","left","transform","DecentioLogo"],"mappings":";;;;;;;;;;;;;;;;AAKA,GAAMA,UAAS,CAAGC,mEAAQ,CAAC,UAAM,CAC/B,eAAoCC,kFAAS,EAA7C,CAAQC,SAAR,YAAQA,SAAR,CAAmBC,YAAnB,YAAmBA,YAAnB,CACA,GAAMC,YAAW,CAAGC,oDAAM,CAAC,IAAD,CAA1B,CAEA,GAAMC,SAAQ,CAAGC,yDAAW,wWAC1B,iBAAOC,CAAP,uQACEA,CAAC,CAACC,cAAF,GACMC,QAFR,CAEmBN,WAAW,CAACO,OAAZ,CAAoBC,KAFvC,CAGEC,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAHF,KAIMA,QAAQ,GAAK,EAJnB,iDAKUP,aAAY,CAACY,KAAb,CAAmBL,QAAnB,CALV,8BAMUM,uEAAK,CAACC,YAAN,EANV,+BAOUf,UAAS,CAACgB,UAAV,CAAqBR,QAArB,CAPV,SAQIG,OAAO,CAACC,GAAR,CAAYZ,SAAS,CAACiB,mBAAV,EAAZ,EARJ,uDAD0B,+DAY1B,CAAChB,YAAD,CAAeD,SAAf,CAZ0B,CAA5B,CAcA,mBACE,qEACE,KAAK,CAAE,CACLkB,QAAQ,CAAE,UADL,CAELC,GAAG,CAAE,KAFA,CAGLC,IAAI,CAAE,KAHD,CAILC,SAAS,CAAE,uBAJN,CADT,uBAQE,6FACE,qEAAK,GAAG,CAAC,MAAT,CAAgB,KAAK,CAAE,GAAvB,CAA4B,MAAM,CAAE,GAApC,CAAyC,GAAG,CAAEC,4EAA9C,EADF,cAEE,uEAAM,QAAQ,CAAElB,QAAhB,wBACE,2FACE,uEAAO,GAAG,CAAEF,WAAZ,CAAyB,IAAI,CAAC,UAA9B,EADF,EADF,cAIE,wEAAQ,IAAI,CAAC,QAAb,qBAJF,GAFF,GARF,EADF,CAoBD,CAtCyB,CAA1B,CAuCeL,wEAAf,E","file":"x","sourcesContent":["import { observer } from \"mobx-react\";\r\nimport React, { useCallback, useRef } from \"react\";\r\nimport { store, useStores } from \"../../data/store/RootStore.js\";\r\nimport DecentioLogo from \"../../icons/decentioLogoLight.png\";\r\n\r\nconst LoginPage = observer(() => {\r\n  const { userStore, sessionStore } = useStores();\r\n  const userNameRef = useRef(null);\r\n\r\n  const onSubmit = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      const userName = userNameRef.current.value;\r\n      console.log(userName);\r\n      if (userName !== \"\") {\r\n        await sessionStore.login(userName);\r\n        await store.initDbStores();\r\n        await userStore.createUser(userName);\r\n        console.log(userStore.getAllProfileFields());\r\n      }\r\n    },\r\n    [sessionStore, userStore]\r\n  );\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n      }}\r\n    >\r\n      <div>\r\n        <img alt=\"logo\" width={550} height={450} src={DecentioLogo}></img>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            <input ref={userNameRef} name=\"Username\"></input>\r\n          </div>\r\n          <button type=\"submit\">Sign in</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nexport default LoginPage;\r\n"]}}