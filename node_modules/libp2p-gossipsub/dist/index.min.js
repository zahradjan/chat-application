(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pGossipsub = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pGossipsub=(()=>{var rl=Object.defineProperty;var s6=t=>rl(t,"__esModule",{value:!0});var xo=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Ce=(t,e)=>()=>(t&&(e=t(t=0)),e);var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vt=(t,e)=>{s6(t);for(var r in e)rl(t,r,{get:e[r],enumerable:!0})};var nl=R((EI,il)=>{var vs=1e3,ms=vs*60,xs=ms*60,qn=xs*24,a6=qn*7,o6=qn*365.25;il.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return f6(t);if(r==="number"&&isFinite(t))return e.long?u6(t):c6(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function f6(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*o6;case"weeks":case"week":case"w":return r*a6;case"days":case"day":case"d":return r*qn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*xs;case"minutes":case"minute":case"mins":case"min":case"m":return r*ms;case"seconds":case"second":case"secs":case"sec":case"s":return r*vs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function c6(t){var e=Math.abs(t);return e>=qn?Math.round(t/qn)+"d":e>=xs?Math.round(t/xs)+"h":e>=ms?Math.round(t/ms)+"m":e>=vs?Math.round(t/vs)+"s":t+"ms"}function u6(t){var e=Math.abs(t);return e>=qn?wo(t,e,qn,"day"):e>=xs?wo(t,e,xs,"hour"):e>=ms?wo(t,e,ms,"minute"):e>=vs?wo(t,e,vs,"second"):t+" ms"}function wo(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var al=R((SI,sl)=>{function h6(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=n,r.enabled=a,r.humanize=nl(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let h=0;for(let d=0;d<f.length;d++)h=(h<<5)-h+f.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(f){let h,d=null,g,b;function x(...I){if(!x.enabled)return;let S=x,P=Number(new Date),M=P-(h||P);S.diff=M,S.prev=h,S.curr=P,h=P,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let q=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(O,H)=>{if(O==="%%")return"%";q++;let z=r.formatters[H];if(typeof z=="function"){let Q=I[q];O=z.call(S,Q),I.splice(q,1),q--}return O}),r.formatArgs.call(S,I),(S.log||r.log).apply(S,I)}return x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=i,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(g!==r.namespaces&&(g=r.namespaces,b=r.enabled(f)),b),set:I=>{d=I}}),typeof r.init=="function"&&r.init(x),x}function i(f,h){let d=r(this.namespace+(typeof h=="undefined"?":":h)+f);return d.log=this.log,d}function n(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let h,d=(typeof f=="string"?f:"").split(/[\s,]+/),g=d.length;for(h=0;h<g;h++)!d[h]||(f=d[h].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(o),...r.skips.map(o).map(h=>"-"+h)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,d;for(h=0,d=r.skips.length;h<d;h++)if(r.skips[h].test(f))return!1;for(h=0,d=r.names.length;h<d;h++)if(r.names[h].test(f))return!0;return!1}function o(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}sl.exports=h6});var Eo=R((gr,_o)=>{gr.formatArgs=d6;gr.save=p6;gr.load=y6;gr.useColors=l6;gr.storage=b6();gr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();gr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l6(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d6(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+_o.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}gr.log=console.debug||console.log||(()=>{});function p6(t){try{t?gr.storage.setItem("debug",t):gr.storage.removeItem("debug")}catch(e){}}function y6(){let t;try{t=gr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function b6(){try{return localStorage}catch(t){}}_o.exports=al()(gr);var{formatters:g6}=_o.exports;g6.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Uc=R((AI,Fc)=>{"use strict";var ws=typeof Reflect=="object"?Reflect:null,ol=ws&&typeof ws.apply=="function"?ws.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},So;ws&&typeof ws.ownKeys=="function"?So=ws.ownKeys:Object.getOwnPropertySymbols?So=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:So=function(e){return Object.getOwnPropertyNames(e)};function v6(t){console&&console.warn&&console.warn(t)}var fl=Number.isNaN||function(e){return e!==e};function Re(){Re.init.call(this)}Fc.exports=Re;Fc.exports.once=_6;Re.EventEmitter=Re;Re.prototype._events=void 0;Re.prototype._eventsCount=0;Re.prototype._maxListeners=void 0;var cl=10;function Ao(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return cl},set:function(t){if(typeof t!="number"||t<0||fl(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");cl=t}});Re.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Re.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fl(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ul(t){return t._maxListeners===void 0?Re.defaultMaxListeners:t._maxListeners}Re.prototype.getMaxListeners=function(){return ul(this)};Re.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")ol(u,this,r);else for(var c=u.length,f=yl(u,c),i=0;i<c;++i)ol(f[i],this,r);return!0};function hl(t,e,r,i){var n,s,a;if(Ao(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),n=ul(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,v6(o)}return t}Re.prototype.addListener=function(e,r){return hl(this,e,r,!1)};Re.prototype.on=Re.prototype.addListener;Re.prototype.prependListener=function(e,r){return hl(this,e,r,!0)};function m6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ll(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=m6.bind(i);return n.listener=r,i.wrapFn=n,n}Re.prototype.once=function(e,r){return Ao(r),this.on(e,ll(this,e,r)),this};Re.prototype.prependOnceListener=function(e,r){return Ao(r),this.prependListener(e,ll(this,e,r)),this};Re.prototype.removeListener=function(e,r){var i,n,s,a,o;if(Ao(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,a=i.length-1;a>=0;a--)if(i[a]===r||i[a].listener===r){o=i[a].listener,s=a;break}if(s<0)return this;s===0?i.shift():x6(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),a;for(n=0;n<s.length;++n)a=s[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function dl(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?w6(n):yl(n,n.length)}Re.prototype.listeners=function(e){return dl(this,e,!0)};Re.prototype.rawListeners=function(e){return dl(this,e,!1)};Re.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):pl.call(t,e)};Re.prototype.listenerCount=pl;function pl(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Re.prototype.eventNames=function(){return this._eventsCount>0?So(this._events):[]};function yl(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function x6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function w6(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function _6(t,e){return new Promise(function(r,i){function n(a){t.removeListener(e,s),i(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}bl(t,e,s,{once:!0}),e!=="error"&&E6(t,n,{once:!0})})}function E6(t,e,r){typeof t.on=="function"&&bl(t,"error",e,r)}function bl(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var We=R((II,vl)=>{"use strict";function gl(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function S6(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return gl(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),gl(new n,r)}}vl.exports=S6});var Gc=R((BI,_s)=>{var ml=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},zc=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),Io=t=>t&&typeof t.sink=="function"&&zc(t.source),A6=t=>e=>(t.sink(e),t.source),xl=(...t)=>{if(Io(t[0])){let e=t[0];t[0]=()=>e.source}else if(zc(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&Io(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)Io(t[e])&&(t[e]=A6(t[e]));return ml(...t)};_s.exports=xl;_s.exports.pipe=xl;_s.exports.rawPipe=ml;_s.exports.isIterable=zc;_s.exports.isDuplex=Io});var _l=R((CI,Vc)=>{"use strict";var I6=Object.prototype.hasOwnProperty,ar="~";function wa(){}Object.create&&(wa.prototype=Object.create(null),new wa().__proto__||(ar=!1));function B6(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function wl(t,e,r,i,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new B6(r,i||t,n),a=ar?ar+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function Bo(t,e){--t._eventsCount==0?t._events=new wa:delete t._events[e]}function Zt(){this._events=new wa,this._eventsCount=0}Zt.prototype.eventNames=function(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events)I6.call(r,i)&&e.push(ar?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Zt.prototype.listeners=function(e){var r=ar?ar+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,a=new Array(s);n<s;n++)a[n]=i[n].fn;return a};Zt.prototype.listenerCount=function(e){var r=ar?ar+e:e,i=this._events[r];return i?i.fn?1:i.length:0};Zt.prototype.emit=function(e,r,i,n,s,a){var o=ar?ar+e:e;if(!this._events[o])return!1;var u=this._events[o],c=arguments.length,f,h;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,i),!0;case 4:return u.fn.call(u.context,r,i,n),!0;case 5:return u.fn.call(u.context,r,i,n,s),!0;case 6:return u.fn.call(u.context,r,i,n,s,a),!0}for(h=1,f=new Array(c-1);h<c;h++)f[h-1]=arguments[h];u.fn.apply(u.context,f)}else{var d=u.length,g;for(h=0;h<d;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,r);break;case 3:u[h].fn.call(u[h].context,r,i);break;case 4:u[h].fn.call(u[h].context,r,i,n);break;default:if(!f)for(g=1,f=new Array(c-1);g<c;g++)f[g-1]=arguments[g];u[h].fn.apply(u[h].context,f)}}return!0};Zt.prototype.on=function(e,r,i){return wl(this,e,r,i,!1)};Zt.prototype.once=function(e,r,i){return wl(this,e,r,i,!0)};Zt.prototype.removeListener=function(e,r,i,n){var s=ar?ar+e:e;if(!this._events[s])return this;if(!r)return Bo(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!n||a.once)&&(!i||a.context===i)&&Bo(this,s);else{for(var o=0,u=[],c=a.length;o<c;o++)(a[o].fn!==r||n&&!a[o].once||i&&a[o].context!==i)&&u.push(a[o]);u.length?this._events[s]=u.length===1?u[0]:u:Bo(this,s)}return this};Zt.prototype.removeAllListeners=function(e){var r;return e?(r=ar?ar+e:e,this._events[r]&&Bo(this,r)):(this._events=new wa,this._eventsCount=0),this};Zt.prototype.off=Zt.prototype.removeListener;Zt.prototype.addListener=Zt.prototype.on;Zt.prefixed=ar;Zt.EventEmitter=Zt;typeof Vc!="undefined"&&(Vc.exports=Zt)});var Sl=R((RI,El)=>{"use strict";El.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(i=>{i(e())}).then(()=>r),r=>new Promise(i=>{i(e())}).then(()=>{throw r})))});var Il=R((TI,Co)=>{"use strict";var C6=Sl(),Hc=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},Al=(t,e,r)=>new Promise((i,n)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){i(t);return}let s=setTimeout(()=>{if(typeof r=="function"){try{i(r())}catch(u){n(u)}return}let a=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,o=r instanceof Error?r:new Hc(a);typeof t.cancel=="function"&&t.cancel(),n(o)},e);C6(t.then(i,n),()=>{clearTimeout(s)})});Co.exports=Al;Co.exports.default=Al;Co.exports.TimeoutError=Hc});var Bl=R(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});function R6(t,e,r){let i=0,n=t.length;for(;n>0;){let s=n/2|0,a=i+s;r(t[a],e)<=0?(i=++a,n-=s+1):n=s}return i}jc.default=R6});var Rl=R(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});var T6=Bl(),Cl=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let i={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(i);return}let n=T6.default(this._queue,i,(s,a)=>a.priority-s.priority);this._queue.splice(n,0,i)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};Wc.default=Cl});var Ml=R(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var P6=_l(),Tl=Il(),M6=Rl(),Ro=()=>{},D6=new Tl.TimeoutError,Pl=class extends P6{constructor(e){var r,i,n,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ro,this._resolveIdle=Ro,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:M6.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ro,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ro,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((i,n)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let a=this._timeout===void 0&&r.timeout===void 0?e():Tl.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&n(D6)});i(await a)}catch(a){n(a)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async i=>this.add(i,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};Yc.default=Pl});var Ll=R((OI,Nl)=>{"use strict";var Dl=()=>{},Ol=Symbol.for("@libp2p/js-interfaces/topology"),kl=class{constructor({min:e=0,max:r=1/0,handlers:i={}}){this.min=e,this.max=r,this._onConnect=i.onConnect||Dl,this._onDisconnect=i.onDisconnect||Dl,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[Ol](){return!0}static isTopology(e){return Boolean(e&&e[Ol])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};Nl.exports=kl});var Ul=R((kI,Fl)=>{"use strict";var O6=Ll(),ql=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),Kl=class extends O6{constructor({min:e,max:r,multicodecs:i,handlers:n}){super({min:e,max:r,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[ql](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[ql])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(r.toB58String());let n=this._registrar.getConnection(r);n&&this._onConnect(r,n)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let i=this.peers.has(e.toB58String()),n=r.filter(s=>this.multicodecs.includes(s));i&&n.length===0&&this._onDisconnect(e);for(let s of r)if(this.multicodecs.includes(s)){let a=this._registrar.peerStore.get(e);this._updatePeers([a]);return}}_onPeerConnect(e){let r=e.remotePeer,i=this._registrar.peerStore.protoBook.get(r);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};Fl.exports=Kl});var To=R(zl=>{"use strict";zl.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var Vl=R((LI,Gl)=>{"use strict";Gl.exports=k6;function k6(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(o,u){r[i]=function(f){if(s)if(s=!1,f)u(f);else{for(var h=new Array(arguments.length-1),d=0;d<h.length;)h[d++]=arguments[d];o.apply(null,h)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,u(c))}})}});var Yl=R(Wl=>{"use strict";var Po=Wl;Po.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Es=new Array(64),Hl=new Array(123);for(Lr=0;Lr<64;)Hl[Es[Lr]=Lr<26?Lr+65:Lr<52?Lr+71:Lr<62?Lr-4:Lr-59|43]=Lr++;var Lr;Po.encode=function(e,r,i){for(var n=null,s=[],a=0,o=0,u;r<i;){var c=e[r++];switch(o){case 0:s[a++]=Es[c>>2],u=(c&3)<<4,o=1;break;case 1:s[a++]=Es[u|c>>4],u=(c&15)<<2,o=2;break;case 2:s[a++]=Es[u|c>>6],s[a++]=Es[c&63],o=0;break}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0)}return o&&(s[a++]=Es[u],s[a++]=61,o===1&&(s[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var jl="invalid encoding";Po.decode=function(e,r,i){for(var n=i,s=0,a,o=0;o<e.length;){var u=e.charCodeAt(o++);if(u===61&&s>1)break;if((u=Hl[u])===void 0)throw Error(jl);switch(s){case 0:a=u,s=1;break;case 1:r[i++]=a<<2|(u&48)>>4,a=u,s=2;break;case 2:r[i++]=(a&15)<<4|(u&60)>>2,a=u,s=3;break;case 3:r[i++]=(a&3)<<6|u,s=0;break}}if(s===1)throw Error(jl);return i-n};Po.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Zl=R((KI,$l)=>{"use strict";$l.exports=Mo;function Mo(){this._listeners={}}Mo.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Mo.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Mo.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var id=R((FI,rd)=>{"use strict";rd.exports=Jl(Jl);function Jl(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function s(u,c,f){e[0]=u,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function o(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=i?a:o,t.readFloatBE=i?o:a}():function(){function e(i,n,s,a){var o=n<0?1:0;if(o&&(n=-n),n===0)i(1/n>0?0:2147483648,s,a);else if(isNaN(n))i(2143289344,s,a);else if(n>34028234663852886e22)i((o<<31|2139095040)>>>0,s,a);else if(n<11754943508222875e-54)i((o<<31|Math.round(n/1401298464324817e-60))>>>0,s,a);else{var u=Math.floor(Math.log(n)/Math.LN2),c=Math.round(n*Math.pow(2,-u)*8388608)&8388607;i((o<<31|u+127<<23|c)>>>0,s,a)}}t.writeFloatLE=e.bind(null,Xl),t.writeFloatBE=e.bind(null,Ql);function r(i,n,s){var a=i(n,s),o=(a>>31)*2+1,u=a>>>23&255,c=a&8388607;return u===255?c?NaN:o*(1/0):u===0?o*1401298464324817e-60*c:o*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,ed),t.readFloatBE=r.bind(null,td)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(u,c,f){e[0]=u,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function s(u,c,f){e[0]=u,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function o(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=i?a:o,t.readDoubleBE=i?o:a}():function(){function e(i,n,s,a,o,u){var c=a<0?1:0;if(c&&(a=-a),a===0)i(0,o,u+n),i(1/a>0?0:2147483648,o,u+s);else if(isNaN(a))i(0,o,u+n),i(2146959360,o,u+s);else if(a>17976931348623157e292)i(0,o,u+n),i((c<<31|2146435072)>>>0,o,u+s);else{var f;if(a<22250738585072014e-324)f=a/5e-324,i(f>>>0,o,u+n),i((c<<31|f/4294967296)>>>0,o,u+s);else{var h=Math.floor(Math.log(a)/Math.LN2);h===1024&&(h=1023),f=a*Math.pow(2,-h),i(f*4503599627370496>>>0,o,u+n),i((c<<31|h+1023<<20|f*1048576&1048575)>>>0,o,u+s)}}}t.writeDoubleLE=e.bind(null,Xl,0,4),t.writeDoubleBE=e.bind(null,Ql,4,0);function r(i,n,s,a,o){var u=i(a,o+n),c=i(a,o+s),f=(c>>31)*2+1,h=c>>>20&2047,d=4294967296*(c&1048575)+u;return h===2047?d?NaN:f*(1/0):h===0?f*5e-324*d:f*Math.pow(2,h-1075)*(d+4503599627370496)}t.readDoubleLE=r.bind(null,ed,0,4),t.readDoubleBE=r.bind(null,td,4,0)}(),t}function Xl(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Ql(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function ed(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function td(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var nd=R((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var ad=R(sd=>{"use strict";var $c=sd;$c.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,r+=4):r+=3;return r};$c.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,a=[],o=0,u;r<i;)u=e[r++],u<128?a[o++]=u:u>191&&u<224?a[o++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[o++]=55296+(u>>10),a[o++]=56320+(u&1023)):a[o++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};$c.write=function(e,r,i){for(var n=i,s,a,o=0;o<e.length;++o)s=e.charCodeAt(o),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)==55296&&((a=e.charCodeAt(o+1))&64512)==56320?(s=65536+((s&1023)<<10)+(a&1023),++o,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var fd=R((zI,od)=>{"use strict";od.exports=N6;function N6(t,e,r){var i=r||8192,n=i>>>1,s=null,a=i;return function(u){if(u<1||u>n)return t(u);a+u>i&&(s=t(i),a=0);var c=e.call(s,a,a+=u);return a&7&&(a=(a|7)+1),c}}});var ud=R((GI,cd)=>{"use strict";cd.exports=Ot;var _a=tn();function Ot(t,e){this.lo=t>>>0,this.hi=e>>>0}var Kn=Ot.zero=new Ot(0,0);Kn.toNumber=function(){return 0};Kn.zzEncode=Kn.zzDecode=function(){return this};Kn.length=function(){return 1};var L6=Ot.zeroHash="\0\0\0\0\0\0\0\0";Ot.fromNumber=function(e){if(e===0)return Kn;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Ot(i,n)};Ot.from=function(e){if(typeof e=="number")return Ot.fromNumber(e);if(_a.isString(e))if(_a.Long)e=_a.Long.fromString(e);else return Ot.fromNumber(parseInt(e,10));return e.low||e.high?new Ot(e.low>>>0,e.high>>>0):Kn};Ot.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};Ot.prototype.toLong=function(e){return _a.Long?new _a.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var en=String.prototype.charCodeAt;Ot.fromHash=function(e){return e===L6?Kn:new Ot((en.call(e,0)|en.call(e,1)<<8|en.call(e,2)<<16|en.call(e,3)<<24)>>>0,(en.call(e,4)|en.call(e,5)<<8|en.call(e,6)<<16|en.call(e,7)<<24)>>>0)};Ot.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ot.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Ot.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Ot.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var tn=R(Zc=>{"use strict";var X=Zc;X.asPromise=Vl();X.base64=Yl();X.EventEmitter=Zl();X.float=id();X.inquire=nd();X.utf8=ad();X.pool=fd();X.LongBits=ud();X.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);X.global=X.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Zc;X.emptyArray=Object.freeze?Object.freeze([]):[];X.emptyObject=Object.freeze?Object.freeze({}):{};X.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};X.isString=function(e){return typeof e=="string"||e instanceof String};X.isObject=function(e){return e&&typeof e=="object"};X.isset=X.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};X.Buffer=function(){try{var t=X.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();X._Buffer_from=null;X._Buffer_allocUnsafe=null;X.newBuffer=function(e){return typeof e=="number"?X.Buffer?X._Buffer_allocUnsafe(e):new X.Array(e):X.Buffer?X._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};X.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;X.Long=X.global.dcodeIO&&X.global.dcodeIO.Long||X.global.Long||X.inquire("long");X.key2Re=/^true|false|0|1$/;X.key32Re=/^-?(?:0|[1-9][0-9]*)$/;X.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;X.longToHash=function(e){return e?X.LongBits.from(e).toHash():X.LongBits.zeroHash};X.longFromHash=function(e,r){var i=X.LongBits.fromHash(e);return X.Long?X.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function hd(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}X.merge=hd;X.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function ld(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&hd(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}X.newError=ld;X.ProtocolError=ld("ProtocolError");X.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};X.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};X.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};X._configure=function(){var t=X.Buffer;if(!t){X._Buffer_from=X._Buffer_allocUnsafe=null;return}X._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},X._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var i0=R((HI,bd)=>{"use strict";bd.exports=xe;var xr=tn(),Jc,Do=xr.LongBits,dd=xr.base64,pd=xr.utf8;function Ea(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Xc(){}function q6(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function xe(){this.len=0,this.head=new Ea(Xc,0,0),this.tail=this.head,this.states=null}var yd=function(){return xr.Buffer?function(){return(xe.create=function(){return new Jc})()}:function(){return new xe}};xe.create=yd();xe.alloc=function(e){return new xr.Array(e)};xr.Array!==Array&&(xe.alloc=xr.pool(xe.alloc,xr.Array.prototype.subarray));xe.prototype._push=function(e,r,i){return this.tail=this.tail.next=new Ea(e,r,i),this.len+=r,this};function Qc(t,e,r){e[r]=t&255}function K6(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function e0(t,e){this.len=t,this.next=void 0,this.val=e}e0.prototype=Object.create(Ea.prototype);e0.prototype.fn=K6;xe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new e0((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};xe.prototype.int32=function(e){return e<0?this._push(t0,10,Do.fromNumber(e)):this.uint32(e)};xe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function t0(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}xe.prototype.uint64=function(e){var r=Do.from(e);return this._push(t0,r.length(),r)};xe.prototype.int64=xe.prototype.uint64;xe.prototype.sint64=function(e){var r=Do.from(e).zzEncode();return this._push(t0,r.length(),r)};xe.prototype.bool=function(e){return this._push(Qc,1,e?1:0)};function r0(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}xe.prototype.fixed32=function(e){return this._push(r0,4,e>>>0)};xe.prototype.sfixed32=xe.prototype.fixed32;xe.prototype.fixed64=function(e){var r=Do.from(e);return this._push(r0,4,r.lo)._push(r0,4,r.hi)};xe.prototype.sfixed64=xe.prototype.fixed64;xe.prototype.float=function(e){return this._push(xr.float.writeFloatLE,4,e)};xe.prototype.double=function(e){return this._push(xr.float.writeDoubleLE,8,e)};var F6=xr.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};xe.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Qc,1,0);if(xr.isString(e)){var i=xe.alloc(r=dd.length(e));dd.decode(e,i,0),e=i}return this.uint32(r)._push(F6,r,e)};xe.prototype.string=function(e){var r=pd.length(e);return r?this.uint32(r)._push(pd.write,r,e):this._push(Qc,1,0)};xe.prototype.fork=function(){return this.states=new q6(this),this.head=this.tail=new Ea(Xc,0,0),this.len=0,this};xe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ea(Xc,0,0),this.len=0),this};xe.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};xe.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};xe._configure=function(t){Jc=t,xe.create=yd(),Jc._configure()}});var md=R((jI,vd)=>{"use strict";vd.exports=ti;var gd=i0();(ti.prototype=Object.create(gd.prototype)).constructor=ti;var rn=tn();function ti(){gd.call(this)}ti._configure=function(){ti.alloc=rn._Buffer_allocUnsafe,ti.writeBytesBuffer=rn.Buffer&&rn.Buffer.prototype instanceof Uint8Array&&rn.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};ti.prototype.bytes=function(e){rn.isString(e)&&(e=rn._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ti.writeBytesBuffer,r,e),this};function U6(t,e,r){t.length<40?rn.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ti.prototype.string=function(e){var r=rn.Buffer.byteLength(e);return this.uint32(r),r&&this._push(U6,r,e),this};ti._configure()});var a0=R((WI,Sd)=>{"use strict";Sd.exports=Xe;var ri=tn(),n0,xd=ri.LongBits,z6=ri.utf8;function qr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Xe(t){this.buf=t,this.pos=0,this.len=t.length}var wd=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Xe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Xe(e);throw Error("illegal buffer")},_d=function(){return ri.Buffer?function(r){return(Xe.create=function(n){return ri.Buffer.isBuffer(n)?new n0(n):wd(n)})(r)}:wd};Xe.create=_d();Xe.prototype._slice=ri.Array.prototype.subarray||ri.Array.prototype.slice;Xe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,qr(this,10);return e}}();Xe.prototype.int32=function(){return this.uint32()|0};Xe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function s0(){var t=new xd(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw qr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw qr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Xe.prototype.bool=function(){return this.uint32()!==0};function Oo(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Xe.prototype.fixed32=function(){if(this.pos+4>this.len)throw qr(this,4);return Oo(this.buf,this.pos+=4)};Xe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw qr(this,4);return Oo(this.buf,this.pos+=4)|0};function Ed(){if(this.pos+8>this.len)throw qr(this,8);return new xd(Oo(this.buf,this.pos+=4),Oo(this.buf,this.pos+=4))}Xe.prototype.float=function(){if(this.pos+4>this.len)throw qr(this,4);var e=ri.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Xe.prototype.double=function(){if(this.pos+8>this.len)throw qr(this,4);var e=ri.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Xe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw qr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};Xe.prototype.string=function(){var e=this.bytes();return z6.read(e,0,e.length)};Xe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw qr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw qr(this);while(this.buf[this.pos++]&128);return this};Xe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Xe._configure=function(t){n0=t,Xe.create=_d(),n0._configure();var e=ri.Long?"toLong":"toNumber";ri.merge(Xe.prototype,{int64:function(){return s0.call(this)[e](!1)},uint64:function(){return s0.call(this)[e](!0)},sint64:function(){return s0.call(this).zzDecode()[e](!1)},fixed64:function(){return Ed.call(this)[e](!0)},sfixed64:function(){return Ed.call(this)[e](!1)}})}});var Cd=R((YI,Bd)=>{"use strict";Bd.exports=Fn;var Ad=a0();(Fn.prototype=Object.create(Ad.prototype)).constructor=Fn;var Id=tn();function Fn(t){Ad.call(this,t)}Fn._configure=function(){Id.Buffer&&(Fn.prototype._slice=Id.Buffer.prototype.slice)};Fn.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Fn._configure()});var Td=R(($I,Rd)=>{"use strict";Rd.exports=Sa;var o0=tn();(Sa.prototype=Object.create(o0.EventEmitter.prototype)).constructor=Sa;function Sa(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");o0.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}Sa.prototype.rpcCall=function t(e,r,i,n,s){if(!n)throw TypeError("request must be specified");var a=this;if(!s)return o0.asPromise(t,a,e,r,i,n);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(u,c){if(u)return a.emit("error",u,e),s(u);if(c===null){a.end(!0);return}if(!(c instanceof i))try{c=i[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return a.emit("error",f,e),s(f)}return a.emit("data",c,e),s(null,c)})}catch(o){a.emit("error",o,e),setTimeout(function(){s(o)},0);return}};Sa.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Md=R(Pd=>{"use strict";var G6=Pd;G6.Service=Td()});var Od=R((JI,Dd)=>{"use strict";Dd.exports={}});var Ld=R(Nd=>{"use strict";var ur=Nd;ur.build="minimal";ur.Writer=i0();ur.BufferWriter=md();ur.Reader=a0();ur.BufferReader=Cd();ur.util=tn();ur.rpc=Md();ur.roots=Od();ur.configure=kd;function kd(){ur.util._configure(),ur.Writer._configure(ur.BufferWriter),ur.Reader._configure(ur.BufferReader)}kd()});var Un=R((QI,qd)=>{"use strict";qd.exports=Ld()});var c0=R((eB,Kd)=>{"use strict";var nn=Un(),Ss=nn.Reader,f0=nn.Writer,le=nn.util,Pt=nn.roots["libp2p-pubsub-rpc"]||(nn.roots["libp2p-pubsub-rpc"]={});Pt.RPC=function(){function t(e){if(this.subscriptions=[],this.msgs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.subscriptions=le.emptyArray,t.prototype.msgs=le.emptyArray,t.encode=function(r,i){if(i||(i=f0.create()),r.subscriptions!=null&&r.subscriptions.length)for(var n=0;n<r.subscriptions.length;++n)Pt.RPC.SubOpts.encode(r.subscriptions[n],i.uint32(10).fork()).ldelim();if(r.msgs!=null&&r.msgs.length)for(var n=0;n<r.msgs.length;++n)Pt.RPC.Message.encode(r.msgs[n],i.uint32(18).fork()).ldelim();return i},t.decode=function(r,i){r instanceof Ss||(r=Ss.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Pt.RPC;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.subscriptions&&s.subscriptions.length||(s.subscriptions=[]),s.subscriptions.push(Pt.RPC.SubOpts.decode(r,r.uint32()));break;case 2:s.msgs&&s.msgs.length||(s.msgs=[]),s.msgs.push(Pt.RPC.Message.decode(r,r.uint32()));break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof Pt.RPC)return r;var i=new Pt.RPC;if(r.subscriptions){if(!Array.isArray(r.subscriptions))throw TypeError(".RPC.subscriptions: array expected");i.subscriptions=[];for(var n=0;n<r.subscriptions.length;++n){if(typeof r.subscriptions[n]!="object")throw TypeError(".RPC.subscriptions: object expected");i.subscriptions[n]=Pt.RPC.SubOpts.fromObject(r.subscriptions[n])}}if(r.msgs){if(!Array.isArray(r.msgs))throw TypeError(".RPC.msgs: array expected");i.msgs=[];for(var n=0;n<r.msgs.length;++n){if(typeof r.msgs[n]!="object")throw TypeError(".RPC.msgs: object expected");i.msgs[n]=Pt.RPC.Message.fromObject(r.msgs[n])}}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.subscriptions=[],n.msgs=[]),r.subscriptions&&r.subscriptions.length){n.subscriptions=[];for(var s=0;s<r.subscriptions.length;++s)n.subscriptions[s]=Pt.RPC.SubOpts.toObject(r.subscriptions[s],i)}if(r.msgs&&r.msgs.length){n.msgs=[];for(var s=0;s<r.msgs.length;++s)n.msgs[s]=Pt.RPC.Message.toObject(r.msgs[s],i)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,nn.util.toJSONOptions)},t.SubOpts=function(){function e(i){if(i)for(var n=Object.keys(i),s=0;s<n.length;++s)i[n[s]]!=null&&(this[n[s]]=i[n[s]])}e.prototype.subscribe=null,e.prototype.topicID=null;var r;return Object.defineProperty(e.prototype,"_subscribe",{get:le.oneOfGetter(r=["subscribe"]),set:le.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_topicID",{get:le.oneOfGetter(r=["topicID"]),set:le.oneOfSetter(r)}),e.encode=function(n,s){return s||(s=f0.create()),n.subscribe!=null&&Object.hasOwnProperty.call(n,"subscribe")&&s.uint32(8).bool(n.subscribe),n.topicID!=null&&Object.hasOwnProperty.call(n,"topicID")&&s.uint32(18).string(n.topicID),s},e.decode=function(n,s){n instanceof Ss||(n=Ss.create(n));for(var a=s===void 0?n.len:n.pos+s,o=new Pt.RPC.SubOpts;n.pos<a;){var u=n.uint32();switch(u>>>3){case 1:o.subscribe=n.bool();break;case 2:o.topicID=n.string();break;default:n.skipType(u&7);break}}return o},e.fromObject=function(n){if(n instanceof Pt.RPC.SubOpts)return n;var s=new Pt.RPC.SubOpts;return n.subscribe!=null&&(s.subscribe=Boolean(n.subscribe)),n.topicID!=null&&(s.topicID=String(n.topicID)),s},e.toObject=function(n,s){s||(s={});var a={};return n.subscribe!=null&&n.hasOwnProperty("subscribe")&&(a.subscribe=n.subscribe,s.oneofs&&(a._subscribe="subscribe")),n.topicID!=null&&n.hasOwnProperty("topicID")&&(a.topicID=n.topicID,s.oneofs&&(a._topicID="topicID")),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,nn.util.toJSONOptions)},e}(),t.Message=function(){function e(i){if(this.topicIDs=[],i)for(var n=Object.keys(i),s=0;s<n.length;++s)i[n[s]]!=null&&(this[n[s]]=i[n[s]])}e.prototype.from=null,e.prototype.data=null,e.prototype.seqno=null,e.prototype.topicIDs=le.emptyArray,e.prototype.signature=null,e.prototype.key=null;var r;return Object.defineProperty(e.prototype,"_from",{get:le.oneOfGetter(r=["from"]),set:le.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_data",{get:le.oneOfGetter(r=["data"]),set:le.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_seqno",{get:le.oneOfGetter(r=["seqno"]),set:le.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_signature",{get:le.oneOfGetter(r=["signature"]),set:le.oneOfSetter(r)}),Object.defineProperty(e.prototype,"_key",{get:le.oneOfGetter(r=["key"]),set:le.oneOfSetter(r)}),e.encode=function(n,s){if(s||(s=f0.create()),n.from!=null&&Object.hasOwnProperty.call(n,"from")&&s.uint32(10).bytes(n.from),n.data!=null&&Object.hasOwnProperty.call(n,"data")&&s.uint32(18).bytes(n.data),n.seqno!=null&&Object.hasOwnProperty.call(n,"seqno")&&s.uint32(26).bytes(n.seqno),n.topicIDs!=null&&n.topicIDs.length)for(var a=0;a<n.topicIDs.length;++a)s.uint32(34).string(n.topicIDs[a]);return n.signature!=null&&Object.hasOwnProperty.call(n,"signature")&&s.uint32(42).bytes(n.signature),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&s.uint32(50).bytes(n.key),s},e.decode=function(n,s){n instanceof Ss||(n=Ss.create(n));for(var a=s===void 0?n.len:n.pos+s,o=new Pt.RPC.Message;n.pos<a;){var u=n.uint32();switch(u>>>3){case 1:o.from=n.bytes();break;case 2:o.data=n.bytes();break;case 3:o.seqno=n.bytes();break;case 4:o.topicIDs&&o.topicIDs.length||(o.topicIDs=[]),o.topicIDs.push(n.string());break;case 5:o.signature=n.bytes();break;case 6:o.key=n.bytes();break;default:n.skipType(u&7);break}}return o},e.fromObject=function(n){if(n instanceof Pt.RPC.Message)return n;var s=new Pt.RPC.Message;if(n.from!=null&&(typeof n.from=="string"?le.base64.decode(n.from,s.from=le.newBuffer(le.base64.length(n.from)),0):n.from.length&&(s.from=n.from)),n.data!=null&&(typeof n.data=="string"?le.base64.decode(n.data,s.data=le.newBuffer(le.base64.length(n.data)),0):n.data.length&&(s.data=n.data)),n.seqno!=null&&(typeof n.seqno=="string"?le.base64.decode(n.seqno,s.seqno=le.newBuffer(le.base64.length(n.seqno)),0):n.seqno.length&&(s.seqno=n.seqno)),n.topicIDs){if(!Array.isArray(n.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");s.topicIDs=[];for(var a=0;a<n.topicIDs.length;++a)s.topicIDs[a]=String(n.topicIDs[a])}return n.signature!=null&&(typeof n.signature=="string"?le.base64.decode(n.signature,s.signature=le.newBuffer(le.base64.length(n.signature)),0):n.signature.length&&(s.signature=n.signature)),n.key!=null&&(typeof n.key=="string"?le.base64.decode(n.key,s.key=le.newBuffer(le.base64.length(n.key)),0):n.key.length&&(s.key=n.key)),s},e.toObject=function(n,s){s||(s={});var a={};if((s.arrays||s.defaults)&&(a.topicIDs=[]),n.from!=null&&n.hasOwnProperty("from")&&(a.from=s.bytes===String?le.base64.encode(n.from,0,n.from.length):s.bytes===Array?Array.prototype.slice.call(n.from):n.from,s.oneofs&&(a._from="from")),n.data!=null&&n.hasOwnProperty("data")&&(a.data=s.bytes===String?le.base64.encode(n.data,0,n.data.length):s.bytes===Array?Array.prototype.slice.call(n.data):n.data,s.oneofs&&(a._data="data")),n.seqno!=null&&n.hasOwnProperty("seqno")&&(a.seqno=s.bytes===String?le.base64.encode(n.seqno,0,n.seqno.length):s.bytes===Array?Array.prototype.slice.call(n.seqno):n.seqno,s.oneofs&&(a._seqno="seqno")),n.topicIDs&&n.topicIDs.length){a.topicIDs=[];for(var o=0;o<n.topicIDs.length;++o)a.topicIDs[o]=n.topicIDs[o]}return n.signature!=null&&n.hasOwnProperty("signature")&&(a.signature=s.bytes===String?le.base64.encode(n.signature,0,n.signature.length):s.bytes===Array?Array.prototype.slice.call(n.signature):n.signature,s.oneofs&&(a._signature="signature")),n.key!=null&&n.hasOwnProperty("key")&&(a.key=s.bytes===String?le.base64.encode(n.key,0,n.key.length):s.bytes===Array?Array.prototype.slice.call(n.key):n.key,s.oneofs&&(a._key="key")),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,nn.util.toJSONOptions)},e}(),t}();Kd.exports=Pt});var zd=R(ko=>{"use strict";ko.byteLength=H6;ko.toByteArray=W6;ko.fromByteArray=Z6;var ii=[],wr=[],V6=typeof Uint8Array!="undefined"?Uint8Array:Array,u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(zn=0,Fd=u0.length;zn<Fd;++zn)ii[zn]=u0[zn],wr[u0.charCodeAt(zn)]=zn;var zn,Fd;wr["-".charCodeAt(0)]=62;wr["_".charCodeAt(0)]=63;function Ud(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function H6(t){var e=Ud(t),r=e[0],i=e[1];return(r+i)*3/4-i}function j6(t,e,r){return(e+r)*3/4-r}function W6(t){var e,r=Ud(t),i=r[0],n=r[1],s=new V6(j6(t,i,n)),a=0,o=n>0?i-4:i,u;for(u=0;u<o;u+=4)e=wr[t.charCodeAt(u)]<<18|wr[t.charCodeAt(u+1)]<<12|wr[t.charCodeAt(u+2)]<<6|wr[t.charCodeAt(u+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return n===2&&(e=wr[t.charCodeAt(u)]<<2|wr[t.charCodeAt(u+1)]>>4,s[a++]=e&255),n===1&&(e=wr[t.charCodeAt(u)]<<10|wr[t.charCodeAt(u+1)]<<4|wr[t.charCodeAt(u+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Y6(t){return ii[t>>18&63]+ii[t>>12&63]+ii[t>>6&63]+ii[t&63]}function $6(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(Y6(i));return n.join("")}function Z6(t){for(var e,r=t.length,i=r%3,n=[],s=16383,a=0,o=r-i;a<o;a+=s)n.push($6(t,a,a+s>o?o:a+s));return i===1?(e=t[r-1],n.push(ii[e>>2]+ii[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(ii[e>>10]+ii[e>>4&63]+ii[e<<2&63]+"=")),n.join("")}});var Gd=R(h0=>{h0.read=function(t,e,r,i,n){var s,a,o=n*8-i-1,u=(1<<o)-1,c=u>>1,f=-7,h=r?n-1:0,d=r?-1:1,g=t[e+h];for(h+=d,s=g&(1<<-f)-1,g>>=-f,f+=o;f>0;s=s*256+t[e+h],h+=d,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=i;f>0;a=a*256+t[e+h],h+=d,f-=8);if(s===0)s=1-c;else{if(s===u)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-c}return(g?-1:1)*a*Math.pow(2,s-i)};h0.write=function(t,e,r,i,n,s){var a,o,u,c=s*8-n-1,f=(1<<c)-1,h=f>>1,d=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:s-1,b=i?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?e+=d/u:e+=d*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=f?(o=0,a=f):a+h>=1?(o=(e*u-1)*Math.pow(2,n),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[r+g]=o&255,g+=b,o/=256,n-=8);for(a=a<<n|o,c+=n;c>0;t[r+g]=a&255,g+=b,a/=256,c-=8);t[r+g-b]|=x*128}});var Vn=R(Cs=>{"use strict";var l0=zd(),As=Gd(),Vd=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Cs.Buffer=k;Cs.SlowBuffer=r4;Cs.INSPECT_MAX_BYTES=50;var No=2147483647;Cs.kMaxLength=No;k.TYPED_ARRAY_SUPPORT=J6();!k.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function J6(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(!!k.isBuffer(this))return this.buffer}});Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(!!k.isBuffer(this))return this.byteOffset}});function Di(t){if(t>No)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,k.prototype),e}function k(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d0(t)}return Hd(t,e,r)}k.poolSize=8192;function Hd(t,e,r){if(typeof t=="string")return Q6(t,e);if(ArrayBuffer.isView(t))return e4(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ni(t,ArrayBuffer)||t&&ni(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ni(t,SharedArrayBuffer)||t&&ni(t.buffer,SharedArrayBuffer)))return y0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return k.from(i,e,r);let n=t4(t);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return k.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}k.from=function(t,e,r){return Hd(t,e,r)};Object.setPrototypeOf(k.prototype,Uint8Array.prototype);Object.setPrototypeOf(k,Uint8Array);function jd(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function X6(t,e,r){return jd(t),t<=0?Di(t):e!==void 0?typeof r=="string"?Di(t).fill(e,r):Di(t).fill(e):Di(t)}k.alloc=function(t,e,r){return X6(t,e,r)};function d0(t){return jd(t),Di(t<0?0:b0(t)|0)}k.allocUnsafe=function(t){return d0(t)};k.allocUnsafeSlow=function(t){return d0(t)};function Q6(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!k.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Wd(t,e)|0,i=Di(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function p0(t){let e=t.length<0?0:b0(t.length)|0,r=Di(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function e4(t){if(ni(t,Uint8Array)){let e=new Uint8Array(t);return y0(e.buffer,e.byteOffset,e.byteLength)}return p0(t)}function y0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,k.prototype),i}function t4(t){if(k.isBuffer(t)){let e=b0(t.length)|0,r=Di(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||m0(t.length)?Di(0):p0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return p0(t.data)}function b0(t){if(t>=No)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+No.toString(16)+" bytes");return t|0}function r4(t){return+t!=t&&(t=0),k.alloc(+t)}k.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==k.prototype};k.compare=function(e,r){if(ni(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),ni(r,Uint8Array)&&(r=k.from(r,r.offset,r.byteLength)),!k.isBuffer(e)||!k.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let s=0,a=Math.min(i,n);s<a;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};k.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};k.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return k.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=k.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){let a=e[i];if(ni(a,Uint8Array))s+a.length>n.length?(k.isBuffer(a)||(a=k.from(a)),a.copy(n,s)):Uint8Array.prototype.set.call(n,a,s);else if(k.isBuffer(a))a.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return n};function Wd(t,e){if(k.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ni(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return v0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return sp(t).length;default:if(n)return i?-1:v0(t).length;e=(""+e).toLowerCase(),n=!0}}k.byteLength=Wd;function i4(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return d4(this,e,r);case"utf8":case"utf-8":return Zd(this,e,r);case"ascii":return h4(this,e,r);case"latin1":case"binary":return l4(this,e,r);case"base64":return c4(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p4(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}k.prototype._isBuffer=!0;function Gn(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}k.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Gn(this,r,r+1);return this};k.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Gn(this,r,r+3),Gn(this,r+1,r+2);return this};k.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Gn(this,r,r+7),Gn(this,r+1,r+6),Gn(this,r+2,r+5),Gn(this,r+3,r+4);return this};k.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Zd(this,0,e):i4.apply(this,arguments)};k.prototype.toLocaleString=k.prototype.toString;k.prototype.equals=function(e){if(!k.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:k.compare(this,e)===0};k.prototype.inspect=function(){let e="",r=Cs.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Vd&&(k.prototype[Vd]=k.prototype.inspect);k.prototype.compare=function(e,r,i,n,s){if(ni(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),!k.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let a=s-n,o=i-r,u=Math.min(a,o),c=this.slice(n,s),f=e.slice(r,i);for(let h=0;h<u;++h)if(c[h]!==f[h]){a=c[h],o=f[h];break}return a<o?-1:o<a?1:0};function Yd(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,m0(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=k.from(e,i)),k.isBuffer(e))return e.length===0?-1:$d(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):$d(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function $d(t,e,r,i,n){let s=1,a=t.length,o=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,r/=2}function u(f,h){return s===1?f[h]:f.readUInt16BE(h*s)}let c;if(n){let f=-1;for(c=r;c<a;c++)if(u(t,c)===u(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===o)return f*s}else f!==-1&&(c-=c-f),f=-1}else for(r+o>a&&(r=a-o),c=r;c>=0;c--){let f=!0;for(let h=0;h<o;h++)if(u(t,c+h)!==u(e,h)){f=!1;break}if(f)return c}return-1}k.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};k.prototype.indexOf=function(e,r,i){return Yd(this,e,r,i,!0)};k.prototype.lastIndexOf=function(e,r,i){return Yd(this,e,r,i,!1)};function n4(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let a;for(a=0;a<i;++a){let o=parseInt(e.substr(a*2,2),16);if(m0(o))return a;t[r+a]=o}return a}function s4(t,e,r,i){return Lo(v0(e,t.length-r),t,r,i)}function a4(t,e,r,i){return Lo(v4(e),t,r,i)}function o4(t,e,r,i){return Lo(sp(e),t,r,i)}function f4(t,e,r,i){return Lo(m4(e,t.length-r),t,r,i)}k.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return n4(this,e,r,i);case"utf8":case"utf-8":return s4(this,e,r,i);case"ascii":case"latin1":case"binary":return a4(this,e,r,i);case"base64":return o4(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f4(this,e,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function c4(t,e,r){return e===0&&r===t.length?l0.fromByteArray(t):l0.fromByteArray(t.slice(e,r))}function Zd(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let s=t[n],a=null,o=s>239?4:s>223?3:s>191?2:1;if(n+o<=r){let u,c,f,h;switch(o){case 1:s<128&&(a=s);break;case 2:u=t[n+1],(u&192)==128&&(h=(s&31)<<6|u&63,h>127&&(a=h));break;case 3:u=t[n+1],c=t[n+2],(u&192)==128&&(c&192)==128&&(h=(s&15)<<12|(u&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:u=t[n+1],c=t[n+2],f=t[n+3],(u&192)==128&&(c&192)==128&&(f&192)==128&&(h=(s&15)<<18|(u&63)<<12|(c&63)<<6|f&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),n+=o}return u4(i)}var Jd=4096;function u4(t){let e=t.length;if(e<=Jd)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=Jd));return r}function h4(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function l4(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function d4(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let s=e;s<r;++s)n+=x4[t[s]];return n}function p4(t,e,r){let i=t.slice(e,r),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}k.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,k.prototype),n};function kt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||kt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return n};k.prototype.readUintBE=k.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||kt(e,r,this.length);let n=this[e+--r],s=1;for(;r>0&&(s*=256);)n+=this[e+--r]*s;return n};k.prototype.readUint8=k.prototype.readUInt8=function(e,r){return e=e>>>0,r||kt(e,1,this.length),this[e]};k.prototype.readUint16LE=k.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||kt(e,2,this.length),this[e]|this[e+1]<<8};k.prototype.readUint16BE=k.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||kt(e,2,this.length),this[e]<<8|this[e+1]};k.prototype.readUint32LE=k.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};k.prototype.readUint32BE=k.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};k.prototype.readBigUInt64LE=sn(function(e){e=e>>>0,Bs(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Aa(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});k.prototype.readBigUInt64BE=sn(function(e){e=e>>>0,Bs(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Aa(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});k.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||kt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};k.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||kt(e,r,this.length);let n=r,s=1,a=this[e+--n];for(;n>0&&(s*=256);)a+=this[e+--n]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};k.prototype.readInt8=function(e,r){return e=e>>>0,r||kt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};k.prototype.readInt16LE=function(e,r){e=e>>>0,r||kt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};k.prototype.readInt16BE=function(e,r){e=e>>>0,r||kt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};k.prototype.readInt32LE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};k.prototype.readInt32BE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};k.prototype.readBigInt64LE=sn(function(e){e=e>>>0,Bs(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Aa(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});k.prototype.readBigInt64BE=sn(function(e){e=e>>>0,Bs(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Aa(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});k.prototype.readFloatLE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),As.read(this,e,!0,23,4)};k.prototype.readFloatBE=function(e,r){return e=e>>>0,r||kt(e,4,this.length),As.read(this,e,!1,23,4)};k.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||kt(e,8,this.length),As.read(this,e,!0,52,8)};k.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||kt(e,8,this.length),As.read(this,e,!1,52,8)};function hr(t,e,r,i,n,s){if(!k.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;hr(this,e,r,i,o,0)}let s=1,a=0;for(this[r]=e&255;++a<i&&(s*=256);)this[r+a]=e/s&255;return r+i};k.prototype.writeUintBE=k.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;hr(this,e,r,i,o,0)}let s=i-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+i};k.prototype.writeUint8=k.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,1,255,0),this[r]=e&255,r+1};k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Xd(t,e,r,i,n){np(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Qd(t,e,r,i,n){np(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}k.prototype.writeBigUInt64LE=sn(function(e,r=0){return Xd(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeBigUInt64BE=sn(function(e,r=0){return Qd(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let u=Math.pow(2,8*i-1);hr(this,e,r,i,u-1,-u)}let s=0,a=1,o=0;for(this[r]=e&255;++s<i&&(a*=256);)e<0&&o===0&&this[r+s-1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+i};k.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let u=Math.pow(2,8*i-1);hr(this,e,r,i,u-1,-u)}let s=i-1,a=1,o=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&o===0&&this[r+s+1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+i};k.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};k.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};k.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};k.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};k.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||hr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};k.prototype.writeBigInt64LE=sn(function(e,r=0){return Xd(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeBigInt64BE=sn(function(e,r=0){return Qd(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ep(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function tp(t,e,r,i,n){return e=+e,r=r>>>0,n||ep(t,e,r,4,34028234663852886e22,-34028234663852886e22),As.write(t,e,r,i,23,4),r+4}k.prototype.writeFloatLE=function(e,r,i){return tp(this,e,r,!0,i)};k.prototype.writeFloatBE=function(e,r,i){return tp(this,e,r,!1,i)};function rp(t,e,r,i,n){return e=+e,r=r>>>0,n||ep(t,e,r,8,17976931348623157e292,-17976931348623157e292),As.write(t,e,r,i,52,8),r+8}k.prototype.writeDoubleLE=function(e,r,i){return rp(this,e,r,!0,i)};k.prototype.writeDoubleBE=function(e,r,i){return rp(this,e,r,!1,i)};k.prototype.copy=function(e,r,i,n){if(!k.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};k.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!k.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let a=e.charCodeAt(0);(n==="utf8"&&a<128||n==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{let a=k.isBuffer(e)?e:k.from(e,n),o=a.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=a[s%o]}return this};var Is={};function g0(t,e,r){Is[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}g0("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);g0("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);g0("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=ip(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=ip(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function ip(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function y4(t,e,r){Bs(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Aa(e,t.length-(r+1))}function np(t,e,r,i,n,s){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",o;throw s>3?e===0||e===BigInt(0)?o=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:o=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:o=`>= ${e}${a} and <= ${r}${a}`,new Is.ERR_OUT_OF_RANGE("value",o,t)}y4(i,n,s)}function Bs(t,e){if(typeof t!="number")throw new Is.ERR_INVALID_ARG_TYPE(e,"number",t)}function Aa(t,e,r){throw Math.floor(t)!==t?(Bs(t,r),new Is.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Is.ERR_BUFFER_OUT_OF_BOUNDS:new Is.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var b4=/[^+/0-9A-Za-z-_]/g;function g4(t){if(t=t.split("=")[0],t=t.trim().replace(b4,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function v0(t,e){e=e||1/0;let r,i=t.length,n=null,s=[];for(let a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function v4(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function m4(t,e){let r,i,n,s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function sp(t){return l0.toByteArray(g4(t))}function Lo(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function ni(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function m0(t){return t!==t}var x4=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function sn(t){return typeof BigInt=="undefined"?w4:t}function w4(){throw new Error("BigInt not supported")}});var x0=R((sB,op)=>{"use strict";var{Buffer:Kr}=Vn(),ap=Symbol.for("BufferList");function Ne(t){if(!(this instanceof Ne))return new Ne(t);Ne._init.call(this,t)}Ne._init=function(e){Object.defineProperty(this,ap,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Ne.prototype._new=function(e){return new Ne(e)};Ne.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};Ne.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};Ne.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Ne.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Ne.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||Kr.alloc(0);let s=!!e,a=this._offset(i),o=n-i,u=o,c=s&&r||0,f=a[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Kr.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,c),c+=this._bufs[h].length;return e}if(u<=this._bufs[a[0]].length-f)return s?this._bufs[a[0]].copy(e,r,f,f+u):this._bufs[a[0]].slice(f,f+u);s||(e=Kr.allocUnsafe(o));for(let h=a[0];h<this._bufs.length;h++){let d=this._bufs[h].length-f;if(u>d)this._bufs[h].copy(e,c,f),c+=d;else{this._bufs[h].copy(e,c,f,f+u),c+=d;break}u-=d,f&&(f=0)}return e.length>c?e.slice(0,c):e};Ne.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};Ne.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};Ne.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ne.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Ne.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Kr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Kr.from(e));return this};Ne.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Ne.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Kr.from([t]):typeof t=="string"?t=Kr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Kr.from(t.buffer,t.byteOffset,t.byteLength):Kr.isBuffer(t)||(t=Kr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let a=this._bufs[n];for(;s<a.length;)if(a.length-s>=t.length){let u=a.indexOf(t,s);if(u!==-1)return this._reverseOffset([n,u]);s=a.length-t.length+1}else{let u=this._reverseOffset([n,s]);if(this._match(u,t))return u;s++}s=0}return-1};Ne.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Ne.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:Ne.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();Ne.prototype._isBufferList=function(e){return e instanceof Ne||Ne.isBufferList(e)};Ne.isBufferList=function(e){return e!=null&&e[ap]};op.exports=Ne});var up=R((aB,cp)=>{cp.exports=w0;var fp=128,_4=127,E4=~_4,S4=Math.pow(2,31);function w0(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw w0.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=S4;)e[r++]=t&255|fp,t/=128;for(;t&E4;)e[r++]=t&255|fp,t>>>=7;return e[r]=t|0,w0.bytes=r-i+1,e}});var dp=R((oB,lp)=>{lp.exports=_0;var A4=128,hp=127;function _0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a||i>49)throw _0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&hp)<<i:(s&hp)*Math.pow(2,i),i+=7}while(s>=A4);return _0.bytes=n-e,r}});var yp=R((fB,pp)=>{var I4=Math.pow(2,7),B4=Math.pow(2,14),C4=Math.pow(2,21),R4=Math.pow(2,28),T4=Math.pow(2,35),P4=Math.pow(2,42),M4=Math.pow(2,49),D4=Math.pow(2,56),O4=Math.pow(2,63);pp.exports=function(t){return t<I4?1:t<B4?2:t<C4?3:t<R4?4:t<T4?5:t<P4?6:t<M4?7:t<D4?8:t<O4?9:10}});var qo=R((cB,bp)=>{bp.exports={encode:up(),decode:dp(),encodingLength:yp()}});var E0=R((uB,mp)=>{"use strict";var gp=qo(),{Buffer:k4}=Vn(),vp=(t,e,r)=>{let i=gp.encode(t,e,r);return vp.bytes=gp.encode.bytes,e||k4.from(i)};mp.exports=vp});var Ap=R((hB,Ko)=>{"use strict";var{Buffer:xp}=Vn(),wp=x0(),_p=E0(),S0=8,Ep=10*1024;function Sp(t){t=t||{};let e=Math.max(t.poolSize||Ep,t.minPoolSize||S0),r=t.lengthEncoder||_p;return async function*(n){let s=xp.alloc(e),a=0;for await(let o of n){r(o.length,s,a);let u=s.slice(a,a+r.bytes);a+=r.bytes,s.length-a<S0&&(s=xp.alloc(e),a=0),yield new wp().append(u).append(o)}}}Sp.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||_p;return new wp([r(t.length),t.slice()])};Ko.exports=Sp;Ko.exports.MIN_POOL_SIZE=S0;Ko.exports.DEFAULT_POOL_SIZE=Ep});var A0=R((lB,Cp)=>{"use strict";var Ip=qo(),{Buffer:N4}=Vn(),L4=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Bp=t=>{let e=Ip.decode(N4.isBuffer(t)?t:L4(t));return Bp.bytes=Ip.decode.bytes,e};Cp.exports=Bp});var Mp=R((dB,Fo)=>{"use strict";var{Buffer:q4}=Vn(),I0=x0(),K4=A0(),Rp=8,Tp=1024*1024*4,Pp=q4.alloc(0),an={LENGTH:"readLength",DATA:"readData"},F4={[an.LENGTH]:(t,e,r,i)=>{e=e.append(t);let n;try{n=i.lengthDecoder(e)}catch(s){if(e.length>i.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:an.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(i.lengthDecoder.bytes),e=new I0,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(Pp),{mode:an.LENGTH,chunk:t,buffer:e,data:Pp}):{mode:an.DATA,chunk:t,buffer:e,state:{dataLength:n},data:void 0}},[an.DATA]:(t,e,r,i)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:an.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:n}=r,s=e.shallowSlice(0,n),a=e.length>n?e.shallowSlice(n):void 0;return e=new I0,i.onData&&i.onData(s),{mode:an.LENGTH,chunk:a,buffer:e,state:void 0,data:s}}};function B0(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||K4,maxLengthLength:t.maxLengthLength||Rp,maxDataLength:t.maxDataLength||Tp,onLength:t.onLength,onData:t.onData};return async function*(i){let n=new I0,s=an.LENGTH,a;for await(let o of i){let u=o;for(;u;){let c=F4[s](u,n,a,e);s=c.mode,u=c.chunk,n=c.buffer,a=c.state,c.data&&(yield c.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}B0.fromReader=(t,e)=>{let r=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}};return B0({...e||{},onLength:s=>{r=s}})(i)};Fo.exports=B0;Fo.exports.MAX_LENGTH_LENGTH=Rp;Fo.exports.MAX_DATA_LENGTH=Tp});var kp=R((pB,Op)=>{"use strict";var{Buffer:U4}=Vn(),Dp=(t,e,r)=>(e=e||U4.allocUnsafe(4),e.writeInt32BE(t,r),e);Dp.bytes=4;Op.exports=Dp});var qp=R((yB,Lp)=>{"use strict";var Np=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};Np.bytes=4;Lp.exports=Np});var Kp=R(Hn=>{"use strict";Hn.encode=Ap();Hn.decode=Mp();Hn.varintEncode=E0();Hn.varintDecode=A0();Hn.int32BEEncode=kp();Hn.int32BEDecode=qp()});var Up=R((vB,Fp)=>{Fp.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var Vp=R((xB,Gp)=>{var zp=Up();Gp.exports=class{constructor(e){this.hwm=e||16,this.head=new zp(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new zp(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}});var jp=R((wB,Hp)=>{var C0=Vp();Hp.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new C0,i,n,s,a=()=>{if(!r.isEmpty()){if(t.writev){let x,I=[];for(;!r.isEmpty();){if(x=r.shift(),x.error)throw x.error;I.push(x.value)}return{done:x.done,value:I}}let b=r.shift();if(b.error)throw b.error;return b}return s?{done:!0}:new Promise((b,x)=>{n=I=>(n=null,I.error?x(I.error):t.writev&&!I.done?b({done:I.done,value:[I.value]}):b(I),i)})},o=b=>n?n(b):(r.push(b),i),u=b=>(r=new C0,n?n({error:b}):(r.push({error:b}),i)),c=b=>s?i:o({done:!1,value:b}),f=b=>s?i:(s=!0,b?u(b):o({done:!0})),h=()=>(r=new C0,f(),{done:!0}),d=b=>(f(b),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:a,return:h,throw:d,push:c,end:f},!e)return i;let g=i;return i={[Symbol.asyncIterator](){return this},next(){return g.next()},throw(b){return g.throw(b),e&&(e(b),e=null),{done:!0}},return(){return g.return(),e&&(e(),e=null),{done:!0}},push:c,end(b){return g.end(b),e&&(e(b),e=null),i}},i}});var Yp=R((_B,Wp)=>{Wp.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var Zp=R((SB,$p)=>{$p.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var e1=R((AB,jn)=>{var z4=Yp(),R0=Zp(),Jp=(t,e,r)=>T0(t,Array.isArray(e)?e:[{signal:e,options:r}]),T0=(t,e)=>{t=z4(t),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*r(){let i,n=()=>{i&&i()};for(let{signal:s}of e)s.addEventListener("abort",n);for(;;){let s;try{for(let{signal:o,options:u}of e)if(o.aborted){let{abortMessage:c,abortCode:f}=u;throw new R0(c,f)}let a=new Promise((o,u)=>{i=()=>{let{options:c}=e.find(({signal:d})=>d.aborted),{abortMessage:f,abortCode:h}=c;u(new R0(f,h))}});s=await Promise.race([a,t.next()]),i=null}catch(a){for(let{signal:c}of e)c.removeEventListener("abort",n);let o=e.find(({signal:c})=>c.aborted),u=a.type==="aborted"&&o;if(u&&o.options.onAbort&&await o.options.onAbort(t),typeof t.return=="function")try{let c=t.return();c instanceof Promise&&c.catch(f=>{o.options.onReturnError!=null&&o.options.onReturnError(f)})}catch(c){o.options.onReturnError!=null&&o.options.onReturnError(c)}if(u&&o.options.returnOnAbort)return;throw a}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",n)}return r()},Xp=(t,e,r)=>Qp(t,Array.isArray(e)?e:[{signal:e,options:r}]),Qp=(t,e)=>r=>t(T0(r,e)),G4=(t,e,r)=>V4(t,Array.isArray(e)?e:[{signal:e,options:r}]),V4=(t,e)=>({sink:Qp(t.sink,e),source:T0(t.source,e)});jn.exports=Jp;jn.exports.AbortError=R0;jn.exports.source=Jp;jn.exports.sink=Xp;jn.exports.transform=Xp;jn.exports.duplex=G4});var r1=R((IB,Uo)=>{"use strict";var{AbortController:t1,AbortSignal:H4}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Uo.exports=t1;Uo.exports.AbortSignal=H4;Uo.exports.default=t1});var f1=R((BB,o1)=>{"use strict";var i1=Eo(),j4=Object.assign(i1("libp2p-pubsub:peer-streams"),{error:i1("libp2p-pubsub:peer-streams:err")}),{EventEmitter:W4}=Uc(),n1=Kp(),Y4=jp(),{pipe:s1}=Gc(),{source:$4}=e1(),Z4=r1().default,a1=class extends W4{constructor({id:e,protocol:r}){super();this.id=e,this.protocol=r,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new Z4,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let r=this.id.toB58String();throw new Error("No writable connection to "+r)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=$4(s1(this._rawInboundStream,n1.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let r=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=Y4({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),s1(this.outboundStream,n1.encode(),this._rawOutboundStream).catch(i=>{j4.error(i)}),r||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};o1.exports=a1});var u1=R(c1=>{"use strict";var J4={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};c1.SignaturePolicy=J4});var P0=R((RB,h1)=>{"use strict";var zo=65536;function X4(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>zo)for(;r<t;)r+zo>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+zo)),r+=zo);else crypto.getRandomValues(e);return e}h1.exports=X4});var Go=R((TB,l1)=>{"use strict";var Q4=P0(),e8=We();l1.exports=function(t){if(isNaN(t)||t<=0)throw e8(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Q4(t)}});function t8(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=n}var o=t.length,u=t.charAt(0),c=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var x=0,I=0,S=0,P=b.length;S!==P&&b[S]===0;)S++,x++;for(var M=(P-S)*f+1>>>0,q=new Uint8Array(M);S!==P;){for(var L=b[S],O=0,H=M-1;(L!==0||O<I)&&H!==-1;H--,O++)L+=256*q[H]>>>0,q[H]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");I=O,S++}for(var z=M-I;z!==M&&q[z]===0;)z++;for(var Q=u.repeat(x);z<M;++z)Q+=t.charAt(q[z]);return Q}function d(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var x=0;if(b[x]!==" "){for(var I=0,S=0;b[x]===u;)I++,x++;for(var P=(b.length-x)*c+1>>>0,M=new Uint8Array(P);b[x];){var q=r[b.charCodeAt(x)];if(q===255)return;for(var L=0,O=P-1;(q!==0||L<S)&&O!==-1;O--,L++)q+=o*M[O]>>>0,M[O]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");S=L,x++}if(b[x]!==" "){for(var H=P-S;H!==P&&M[H]===0;)H++;for(var z=new Uint8Array(I+(P-H)),Q=I;H!==P;)z[Q++]=M[H++];return z}}}function g(b){var x=d(b);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:g}}var r8,i8,d1,p1=Ce(()=>{r8=t8,i8=r8,d1=i8});var MB,y1,Oi,b1,g1,on=Ce(()=>{MB=new Uint8Array(0),y1=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Oi=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},b1=t=>new TextEncoder().encode(t),g1=t=>new TextDecoder().decode(t)});var m1,x1,w1,_1,E1,Vo,fn,n8,s8,Ye,si=Ce(()=>{p1();on();m1=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},x1=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseDecode=i}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){return _1(this,e)}},w1=class{constructor(e){this.decoders=e}or(e){return _1(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},_1=(t,e)=>new w1({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),E1=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new m1(e,r,i),this.decoder=new x1(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Vo=({name:t,prefix:e,encode:r,decode:i})=>new E1(t,e,r,i),fn=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=d1(r,e);return Vo({prefix:t,name:e,encode:i,decode:s=>Oi(n(s))})},n8=(t,e,r,i)=>{let n={};for(let f=0;f<e.length;++f)n[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),o=0,u=0,c=0;for(let f=0;f<s;++f){let h=n[t[f]];if(h===void 0)throw new SyntaxError(`Non-${i} character`);u=u<<r|h,o+=r,o>=8&&(o-=8,a[c++]=255&u>>o)}if(o>=r||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return a},s8=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",a=0,o=0;for(let u=0;u<t.length;++u)for(o=o<<8|t[u],a+=8;a>r;)a-=r,s+=e[n&o>>a];if(a&&(s+=e[n&o<<r-a]),i)for(;s.length*r&7;)s+="=";return s},Ye=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Vo({prefix:e,name:t,encode(n){return s8(n,i,r)},decode(n){return n8(n,i,r,t)}})});var M0={};Vt(M0,{identity:()=>a8});var a8,S1=Ce(()=>{si();on();a8=Vo({prefix:"\0",name:"identity",encode:t=>g1(t),decode:t=>b1(t)})});var D0={};Vt(D0,{base2:()=>o8});var o8,A1=Ce(()=>{si();o8=Ye({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var O0={};Vt(O0,{base8:()=>f8});var f8,I1=Ce(()=>{si();f8=Ye({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var k0={};Vt(k0,{base10:()=>c8});var c8,B1=Ce(()=>{si();c8=fn({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ho={};Vt(Ho,{base16:()=>u8,base16upper:()=>h8});var u8,h8,N0=Ce(()=>{si();u8=Ye({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),h8=Ye({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Ia={};Vt(Ia,{base32:()=>Rs,base32hex:()=>y8,base32hexpad:()=>g8,base32hexpadupper:()=>v8,base32hexupper:()=>b8,base32pad:()=>d8,base32padupper:()=>p8,base32upper:()=>l8,base32z:()=>m8});var Rs,l8,d8,p8,y8,b8,g8,v8,m8,Ba=Ce(()=>{si();Rs=Ye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l8=Ye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),d8=Ye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),p8=Ye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),y8=Ye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),b8=Ye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),g8=Ye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),v8=Ye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),m8=Ye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var jo={};Vt(jo,{base36:()=>x8,base36upper:()=>w8});var x8,w8,L0=Ce(()=>{si();x8=fn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),w8=fn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Wn={};Vt(Wn,{base58btc:()=>ai,base58flickr:()=>_8});var ai,_8,Yn=Ce(()=>{si();ai=fn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_8=fn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var cn={};Vt(cn,{base64:()=>E8,base64pad:()=>S8,base64url:()=>A8,base64urlpad:()=>I8});var E8,S8,A8,I8,$n=Ce(()=>{si();E8=Ye({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),S8=Ye({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),A8=Ye({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),I8=Ye({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function R1(t,e,r){e=e||[],r=r||0;for(var i=r;t>=T8;)e[r++]=t&255|C1,t/=128;for(;t&R8;)e[r++]=t&255|C1,t>>>=7;return e[r]=t|0,R1.bytes=r-i+1,e}function q0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a)throw q0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&T1)<<i:(s&T1)*Math.pow(2,i),i+=7}while(s>=M8);return q0.bytes=n-e,r}var B8,C1,C8,R8,T8,P8,M8,T1,D8,O8,k8,N8,L8,q8,K8,F8,U8,z8,G8,V8,Ca,P1=Ce(()=>{B8=R1,C1=128,C8=127,R8=~C8,T8=Math.pow(2,31);P8=q0,M8=128,T1=127;D8=Math.pow(2,7),O8=Math.pow(2,14),k8=Math.pow(2,21),N8=Math.pow(2,28),L8=Math.pow(2,35),q8=Math.pow(2,42),K8=Math.pow(2,49),F8=Math.pow(2,56),U8=Math.pow(2,63),z8=function(t){return t<D8?1:t<O8?2:t<k8?3:t<N8?4:t<L8?5:t<q8?6:t<K8?7:t<F8?8:t<U8?9:10},G8={encode:B8,decode:P8,encodingLength:z8},V8=G8,Ca=V8});var Ra,Ts,Ps,Wo=Ce(()=>{P1();Ra=t=>[Ca.decode(t),Ca.decode.bytes],Ts=(t,e,r=0)=>(Ca.encode(t,e,r),e),Ps=t=>Ca.encodingLength(t)});var Yo={};Vt(Yo,{Digest:()=>Ms,create:()=>un,decode:()=>K0,equals:()=>F0});var un,K0,F0,Ms,Ds=Ce(()=>{on();Wo();un=(t,e)=>{let r=e.byteLength,i=Ps(t),n=i+Ps(r),s=new Uint8Array(n+r);return Ts(t,s,0),Ts(r,s,i),s.set(e,n),new Ms(t,r,e,s)},K0=t=>{let e=Oi(t),[r,i]=Ra(e),[n,s]=Ra(e.subarray(i)),a=e.subarray(i+s);if(a.byteLength!==n)throw new Error("Incorrect length");return new Ms(r,n,a,e)},F0=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&y1(t.bytes,e.bytes),Ms=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}});var U0,D1,z0=Ce(()=>{Ds();U0=({name:t,code:e,encode:r})=>new D1(t,e,r),D1=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?un(this.code,r):r.then(i=>un(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var _r={};Vt(_r,{sha256:()=>H8,sha512:()=>j8});var k1,H8,j8,Fr=Ce(()=>{z0();k1=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),H8=U0({name:"sha2-256",code:18,encode:k1("SHA-256")}),j8=U0({name:"sha2-512",code:19,encode:k1("SHA-512")})});var Os={};Vt(Os,{identity:()=>$8});var N1,W8,L1,Y8,$8,Ta=Ce(()=>{on();Ds();N1=0,W8="identity",L1=Oi,Y8=t=>un(N1,L1(t)),$8={code:N1,name:W8,encode:L1,digest:Y8}});var q1=Ce(()=>{on()});var tC,rC,K1=Ce(()=>{tC=new TextEncoder,rC=new TextDecoder});var z1={};Vt(z1,{CID:()=>Mt});var Mt,X8,Q8,e5,Pa,t5,F1,U1,$o,Zo,r5,i5,n5,G0=Ce(()=>{Wo();Ds();Yn();Ba();on();Mt=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Zo,byteLength:Zo,code:$o,version:$o,multihash:$o,bytes:$o,_baseCache:Zo,asCID:Zo})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Pa)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==t5)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Mt.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=un(e,r);return Mt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&F0(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return Q8(r,n,e||ai.encoder);default:return e5(r,n,e||Rs.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return i5(/^0\.0/,n5),!!(e&&(e[U1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Mt)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new Mt(r,i,n,s||F1(r,i,n.bytes))}else if(e!=null&&e[U1]===!0){let{version:r,multihash:i,code:n}=e,s=K0(i);return Mt.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Pa)throw new Error(`Version 0 CID must use dag-pb (code: ${Pa}) block encoding`);return new Mt(e,r,i,i.bytes)}case 1:{let n=F1(e,r,i.bytes);return new Mt(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Mt.create(0,Pa,e)}static createV1(e,r){return Mt.create(1,e,r)}static decode(e){let[r,i]=Mt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Mt.inspectBytes(e),i=r.size-r.multihashSize,n=Oi(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),a=new Ms(r.multihashCode,r.digestSize,s,n);return[r.version===0?Mt.createV0(a):Mt.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[h,d]=Ra(e.subarray(r));return r+=d,h},n=i(),s=Pa;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let a=r,o=i(),u=i(),c=r+u,f=c-a;return{version:n,codec:s,multihashCode:o,digestSize:u,multihashSize:f,size:c}}static parse(e,r){let[i,n]=X8(e,r),s=Mt.decode(n);return s._baseCache.set(i,e),s}},X8=(t,e)=>{switch(t[0]){case"Q":{let r=e||ai;return[ai.prefix,r.decode(`${ai.prefix}${t}`)]}case ai.prefix:{let r=e||ai;return[ai.prefix,r.decode(t)]}case Rs.prefix:{let r=e||Rs;return[Rs.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Q8=(t,e,r)=>{let{prefix:i}=r;if(i!==ai.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},e5=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},Pa=112,t5=18,F1=(t,e,r)=>{let i=Ps(t),n=i+Ps(e),s=new Uint8Array(n+r.byteLength);return Ts(t,s,0),Ts(e,s,i),s.set(r,n),s},U1=Symbol.for("@ipld/js-cid/CID"),$o={writable:!1,configurable:!1,enumerable:!0},Zo={writable:!1,enumerable:!1,configurable:!1},r5="0.0.0-dev",i5=(t,e)=>{if(t.test(r5))console.warn(e);else throw new Error(e)},n5=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var G1=Ce(()=>{G0();Wo();on();z0();Ds()});var V0,hC,V1=Ce(()=>{S1();A1();I1();B1();N0();Ba();L0();Yn();$n();Fr();Ta();q1();K1();G1();V0={...M0,...D0,...O0,...k0,...Ho,...Ia,...jo,...Wn,...cn},hC={..._r,...Os}});function H1(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var j1,H0,s5,Jo,j0=Ce(()=>{V1();j1=H1("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),H0=H1("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),s5={utf8:j1,"utf-8":j1,hex:V0.base16,latin1:H0,ascii:H0,binary:H0,...V0},Jo=s5});var Jt={};Vt(Jt,{toString:()=>a5});function a5(t,e="utf8"){let r=Jo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Xt=Ce(()=>{j0()});var Ht={};Vt(Ht,{fromString:()=>o5});function o5(t,e="utf8"){let r=Jo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var jt=Ce(()=>{j0()});var Qo=R((gC,Y1)=>{"use strict";var Zn=Un(),Xo=Zn.Reader,W1=Zn.Writer,Qt=Zn.util,Er=Zn.roots["libp2p-crypto-keys"]||(Zn.roots["libp2p-crypto-keys"]={});Er.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();Er.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Qt.newBuffer([]),t.encode=function(r,i){return i||(i=W1.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Xo||(r=Xo.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Er.PublicKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Qt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Qt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof Er.PublicKey)return r;var i=new Er.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Qt.base64.decode(r.Data,i.Data=Qt.newBuffer(Qt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Qt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Er.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Qt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},t}();Er.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Qt.newBuffer([]),t.encode=function(r,i){return i||(i=W1.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Xo||(r=Xo.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Er.PrivateKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Qt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Qt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof Er.PrivateKey)return r;var i=new Er.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Qt.base64.decode(r.Data,i.Data=Qt.newBuffer(Qt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Qt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Er.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Qt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},t}();Y1.exports=Er});var ye=R((vC,$1)=>{$1.exports={options:{usePureJavaScript:!1}}});var X1=R((mC,J1)=>{var W0={};J1.exports=W0;var Z1={};W0.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(t instanceof Uint8Array))i=f5(t,e);else{var n=0,s=e.length,a=e.charAt(0),o=[0];for(n=0;n<t.length;++n){for(var u=0,c=t[n];u<o.length;++u)c+=o[u]<<8,o[u]=c%s,c=c/s|0;for(;c>0;)o.push(c%s),c=c/s|0}for(n=0;t[n]===0&&n<t.length-1;++n)i+=a;for(n=o.length-1;n>=0;--n)i+=e[o[n]]}if(r){var f=new RegExp(".{1,"+r+"}","g");i=i.match(f).join(`\r
`)}return i};W0.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Z1[e];if(!r){r=Z1[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");for(var n=e.length,s=e.charAt(0),a=[0],i=0;i<t.length;i++){var o=r[t.charCodeAt(i)];if(o===void 0)return;for(var u=0,c=o;u<a.length;++u)c+=a[u]*n,a[u]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var f=0;t[f]===s&&f<t.length-1;++f)a.push(0);return typeof Buffer!="undefined"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function f5(t,e){var r=0,i=e.length,n=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,o=t.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%i,o=o/i|0;for(;o>0;)s.push(o%i),o=o/i|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=n;for(r=s.length-1;r>=0;--r)u+=e[s[r]];return u}});var $e=R((xC,ry)=>{var Q1=ye(),ey=X1(),T=ry.exports=Q1.util=Q1.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){T.nextTick=process.nextTick,typeof setImmediate=="function"?T.setImmediate=setImmediate:T.setImmediate=T.nextTick;return}if(typeof setImmediate=="function"){T.setImmediate=function(){return setImmediate.apply(void 0,arguments)},T.nextTick=function(o){return setImmediate(o)};return}if(T.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(f){f()})}};var a=o,t="forge.setImmediate",e=[];T.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(n,{attributes:!0});var s=T.setImmediate;T.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),s(u)):(e.push(u),e.length===1&&n.setAttribute("a",i=!i))}}T.nextTick=T.setImmediate})();T.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;T.globalScope=function(){return T.isNodejs?globalThis:typeof self=="undefined"?window:self}();T.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};T.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};T.isArrayBufferView=function(t){return t&&T.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Ma(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}T.ByteBuffer=Y0;function Y0(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(T.isArrayBuffer(t)||T.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Y0||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}T.ByteStringBuffer=Y0;var c5=4096;T.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>c5&&(this.data.substr(0,1),this._constructedStringLength=0)};T.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};T.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};T.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};T.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};T.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};T.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(T.encodeUtf8(t))};T.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};T.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};T.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};T.ByteStringBuffer.prototype.putInt=function(t,e){Ma(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};T.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};T.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};T.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};T.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};T.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};T.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};T.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};T.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};T.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};T.ByteStringBuffer.prototype.getInt=function(t){Ma(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};T.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};T.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};T.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};T.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};T.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};T.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};T.ByteStringBuffer.prototype.copy=function(){var t=T.createBuffer(this.data);return t.read=this.read,t};T.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};T.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};T.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};T.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};T.ByteStringBuffer.prototype.toString=function(){return T.decodeUtf8(this.bytes())};function u5(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=T.isArrayBuffer(t),i=T.isArrayBufferView(t);if(r||i){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}T.DataBuffer=u5;T.DataBuffer.prototype.length=function(){return this.write-this.read};T.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};T.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(r),this.data=new DataView(i.buffer),this};T.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};T.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};T.DataBuffer.prototype.putBytes=function(t,e){if(T.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=r.byteLength-r.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=i,this}if(T.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof T.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&T.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var n=new Uint8Array(t.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(t instanceof T.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=T.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=T.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};T.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};T.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};T.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};T.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};T.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};T.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};T.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};T.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};T.DataBuffer.prototype.putInt=function(t,e){Ma(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};T.DataBuffer.prototype.putSignedInt=function(t,e){return Ma(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};T.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};T.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};T.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};T.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};T.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};T.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};T.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};T.DataBuffer.prototype.getInt=function(t){Ma(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};T.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};T.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};T.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};T.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};T.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};T.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};T.DataBuffer.prototype.copy=function(){return new T.DataBuffer(this)};T.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};T.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};T.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};T.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};T.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return T.binary.raw.encode(e);if(t==="hex")return T.binary.hex.encode(e);if(t==="base64")return T.binary.base64.encode(e);if(t==="utf8")return T.text.utf8.decode(e);if(t==="utf16")return T.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};T.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=T.encodeUtf8(t)),new T.ByteBuffer(t)};T.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};T.xorBytes=function(t,e,r){for(var i="",n="",s="",a=0,o=0;r>0;--r,++a)n=t.charCodeAt(a)^e.charCodeAt(a),o>=10&&(i+=s,s="",o=0),s+=String.fromCharCode(n),++o;return i+=s,i};T.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};T.bytesToHex=function(t){return T.createBuffer(t).toHex()};T.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ln=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ty="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";T.encode64=function(t,e){for(var r="",i="",n,s,a,o=0;o<t.length;)n=t.charCodeAt(o++),s=t.charCodeAt(o++),a=t.charCodeAt(o++),r+=hn.charAt(n>>2),r+=hn.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=hn.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":hn.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};T.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,i,n,s,a=0;a<t.length;)r=ln[t.charCodeAt(a++)-43],i=ln[t.charCodeAt(a++)-43],n=ln[t.charCodeAt(a++)-43],s=ln[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),s!==64&&(e+=String.fromCharCode((n&3)<<6|s)));return e};T.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};T.decodeUtf8=function(t){return decodeURIComponent(escape(t))};T.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:ey.encode,decode:ey.decode}};T.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};T.binary.raw.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};T.binary.hex.encode=T.bytesToHex;T.binary.hex.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var n=0,s=r;for(t.length&1&&(n=1,i[s++]=parseInt(t[0],16));n<t.length;n+=2)i[s++]=parseInt(t.substr(n,2),16);return e?s-r:i};T.binary.base64.encode=function(t,e){for(var r="",i="",n,s,a,o=0;o<t.byteLength;)n=t[o++],s=t[o++],a=t[o++],r+=hn.charAt(n>>2),r+=hn.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=hn.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":hn.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};T.binary.base64.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,s,a,o,u=0,c=r;u<t.length;)n=ln[t.charCodeAt(u++)-43],s=ln[t.charCodeAt(u++)-43],a=ln[t.charCodeAt(u++)-43],o=ln[t.charCodeAt(u++)-43],i[c++]=n<<2|s>>4,a!==64&&(i[c++]=(s&15)<<4|a>>2,o!==64&&(i[c++]=(a&3)<<6|o));return e?c-r:i.subarray(0,c)};T.binary.base58.encode=function(t,e){return T.binary.baseN.encode(t,ty,e)};T.binary.base58.decode=function(t,e){return T.binary.baseN.decode(t,ty,e)};T.text={utf8:{},utf16:{}};T.text.utf8.encode=function(t,e,r){t=T.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};T.text.utf8.decode=function(t){return T.decodeUtf8(String.fromCharCode.apply(null,t))};T.text.utf16.encode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length*2));var n=new Uint16Array(i.buffer);r=r||0;for(var s=r,a=r,o=0;o<t.length;++o)n[a++]=t.charCodeAt(o),s+=2;return e?s-r:i};T.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};T.deflate=function(t,e,r){if(e=T.decode64(t.deflate(T.encode64(e)).rval),r){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};T.inflate=function(t,e,r){var i=t.inflate(T.encode64(e)).rval;return i===null?null:T.decode64(i)};var $0=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var i;if(r===null?i=t.removeItem(e):(r=T.encode64(JSON.stringify(r)),i=t.setItem(e,r)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},Z0=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(T.decode64(r))),r},h5=function(t,e,r,i){var n=Z0(t,e);n===null&&(n={}),n[r]=i,$0(t,e,n)},l5=function(t,e,r){var i=Z0(t,e);return i!==null&&(i=r in i?i[r]:null),i},d5=function(t,e,r){var i=Z0(t,e);if(i!==null&&r in i){delete i[r];var n=!0;for(var s in i){n=!1;break}n&&(i=null),$0(t,e,i)}},p5=function(t,e){$0(t,e,null)},ef=function(t,e,r){var i=null;typeof r=="undefined"&&(r=["web","flash"]);var n,s=!1,a=null;for(var o in r){n=r[o];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=t.apply(this,e),s=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=t.apply(this,e),s=!0)}catch(u){a=u}if(s)break}if(!s)throw a;return i};T.setItem=function(t,e,r,i,n){ef(h5,arguments,n)};T.getItem=function(t,e,r,i){return ef(l5,arguments,i)};T.removeItem=function(t,e,r,i){ef(d5,arguments,i)};T.clearItems=function(t,e,r){ef(p5,arguments,r)};T.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),i=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var tf=null;T.getQueryVariables=function(t){var e=function(i){for(var n={},s=i.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("="),u,c;o>0?(u=s[a].substring(0,o),c=s[a].substring(o+1)):(u=s[a],c=null),u in n||(n[u]=[]),!(u in Object.prototype)&&c!==null&&n[u].push(unescape(c))}return n},r;return typeof t=="undefined"?(tf===null&&(typeof window!="undefined"&&window.location&&window.location.search?tf=e(window.location.search.substring(1)):tf={}),r=tf):r=e(t),r};T.parseFragment=function(t){var e=t,r="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),r=t.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var s=r===""?{}:T.getQueryVariables(r);return{pathString:e,queryString:r,path:n,query:s}};T.makeRequest=function(t){var e=T.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var s;return typeof i=="undefined"?s=e.query:(s=e.query[i],s&&typeof n!="undefined"&&(s=s[n])),s},getQueryLast:function(i,n){var s,a=r.getQuery(i);return a?s=a[a.length-1]:s=n,s}};return r};T.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var i=jQuery.param(e||{});return r=r||"",t+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};T.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};T.format=function(t){for(var e=/%./g,r,i,n=0,s=[],a=0;r=e.exec(t);){i=t.substring(a,e.lastIndex-2),i.length>0&&s.push(i),a=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":n<arguments.length?s.push(arguments[n+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(t.substring(a)),s.join("")};T.formatNumber=function(t,e,r,i){var n=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,o=i===void 0?".":i,u=n<0?"-":"",c=parseInt(n=Math.abs(+n||0).toFixed(s),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+o:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(n-c).toFixed(s).slice(2):"")};T.formatSize=function(t){return t>=1073741824?t=T.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=T.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=T.formatNumber(t/1024,0)+" KiB":t=T.formatNumber(t,0)+" bytes",t};T.bytesFromIP=function(t){return t.indexOf(".")!==-1?T.bytesFromIPv4(t):t.indexOf(":")!==-1?T.bytesFromIPv6(t):null};T.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=T.createBuffer(),r=0;r<t.length;++r){var i=parseInt(t[r],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};T.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,i=T.createBuffer(),n=0;n<8;++n){if(!t[n]||t[n].length===0){i.fillWithByte(0,r),r=0;continue}var s=T.hexToBytes(t[n]);s.length<2&&i.putByte(0),i.putBytes(s)}return i.getBytes()};T.bytesToIP=function(t){return t.length===4?T.bytesToIPv4(t):t.length===16?T.bytesToIPv6(t):null};T.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};T.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],i=0,n=0;n<t.length;n+=2){for(var s=T.bytesToHex(t[n]+t[n+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],o=e.length;!a||o!==a.end+1?r.push({start:o,end:o}):(a.end=o,a.end-a.start>r[i].end-r[i].start&&(i=r.length-1))}e.push(s)}if(r.length>0){var u=r[i];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};T.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in T&&!t.update)return e(null,T.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return T.cores=navigator.hardwareConcurrency,e(null,T.cores);if(typeof Worker=="undefined")return T.cores=1,e(null,T.cores);if(typeof Blob=="undefined")return T.cores=2,e(null,T.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var o=Date.now(),u=o+4;Date.now()<u;);self.postMessage({st:o,et:u})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(a,o,u){if(o===0){var c=Math.floor(a.reduce(function(f,h){return f+h},0)/a.length);return T.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,T.cores)}n(u,function(f,h){a.push(s(u,h)),i(a,o-1,u)})}function n(a,o){for(var u=[],c=[],f=0;f<a;++f){var h=new Worker(r);h.addEventListener("message",function(d){if(c.push(d.data),c.length===a){for(var g=0;g<a;++g)u[g].terminate();o(null,c)}}),u.push(h)}for(var f=0;f<a;++f)u[f].postMessage(f)}function s(a,o){for(var u=[],c=0;c<a;++c)for(var f=o[c],h=u[c]=[],d=0;d<a;++d)if(c!==d){var g=o[d];(f.st>g.st&&f.st<g.et||g.st>f.st&&g.st<f.et)&&h.push(d)}return u.reduce(function(b,x){return Math.max(b,x.length)},0)}}});var rf=R((wC,iy)=>{var Da=ye();Da.pki=Da.pki||{};var J0=iy.exports=Da.pki.oids=Da.oids=Da.oids||{};function U(t,e){J0[t]=e,J0[e]=t}function Ae(t,e){J0[t]=e}U("1.2.840.113549.1.1.1","rsaEncryption");U("1.2.840.113549.1.1.4","md5WithRSAEncryption");U("1.2.840.113549.1.1.5","sha1WithRSAEncryption");U("1.2.840.113549.1.1.7","RSAES-OAEP");U("1.2.840.113549.1.1.8","mgf1");U("1.2.840.113549.1.1.9","pSpecified");U("1.2.840.113549.1.1.10","RSASSA-PSS");U("1.2.840.113549.1.1.11","sha256WithRSAEncryption");U("1.2.840.113549.1.1.12","sha384WithRSAEncryption");U("1.2.840.113549.1.1.13","sha512WithRSAEncryption");U("1.3.101.112","EdDSA25519");U("1.2.840.10040.4.3","dsa-with-sha1");U("1.3.14.3.2.7","desCBC");U("1.3.14.3.2.26","sha1");U("2.16.840.1.101.3.4.2.1","sha256");U("2.16.840.1.101.3.4.2.2","sha384");U("2.16.840.1.101.3.4.2.3","sha512");U("1.2.840.113549.2.5","md5");U("1.2.840.113549.1.7.1","data");U("1.2.840.113549.1.7.2","signedData");U("1.2.840.113549.1.7.3","envelopedData");U("1.2.840.113549.1.7.4","signedAndEnvelopedData");U("1.2.840.113549.1.7.5","digestedData");U("1.2.840.113549.1.7.6","encryptedData");U("1.2.840.113549.1.9.1","emailAddress");U("1.2.840.113549.1.9.2","unstructuredName");U("1.2.840.113549.1.9.3","contentType");U("1.2.840.113549.1.9.4","messageDigest");U("1.2.840.113549.1.9.5","signingTime");U("1.2.840.113549.1.9.6","counterSignature");U("1.2.840.113549.1.9.7","challengePassword");U("1.2.840.113549.1.9.8","unstructuredAddress");U("1.2.840.113549.1.9.14","extensionRequest");U("1.2.840.113549.1.9.20","friendlyName");U("1.2.840.113549.1.9.21","localKeyId");U("1.2.840.113549.1.9.22.1","x509Certificate");U("1.2.840.113549.1.12.10.1.1","keyBag");U("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");U("1.2.840.113549.1.12.10.1.3","certBag");U("1.2.840.113549.1.12.10.1.4","crlBag");U("1.2.840.113549.1.12.10.1.5","secretBag");U("1.2.840.113549.1.12.10.1.6","safeContentsBag");U("1.2.840.113549.1.5.13","pkcs5PBES2");U("1.2.840.113549.1.5.12","pkcs5PBKDF2");U("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");U("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");U("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");U("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");U("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");U("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");U("1.2.840.113549.2.7","hmacWithSHA1");U("1.2.840.113549.2.8","hmacWithSHA224");U("1.2.840.113549.2.9","hmacWithSHA256");U("1.2.840.113549.2.10","hmacWithSHA384");U("1.2.840.113549.2.11","hmacWithSHA512");U("1.2.840.113549.3.7","des-EDE3-CBC");U("2.16.840.1.101.3.4.1.2","aes128-CBC");U("2.16.840.1.101.3.4.1.22","aes192-CBC");U("2.16.840.1.101.3.4.1.42","aes256-CBC");U("2.5.4.3","commonName");U("2.5.4.5","serialName");U("2.5.4.6","countryName");U("2.5.4.7","localityName");U("2.5.4.8","stateOrProvinceName");U("2.5.4.9","streetAddress");U("2.5.4.10","organizationName");U("2.5.4.11","organizationalUnitName");U("2.5.4.13","description");U("2.5.4.15","businessCategory");U("2.5.4.17","postalCode");U("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");U("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");U("2.16.840.1.113730.1.1","nsCertType");U("2.16.840.1.113730.1.13","nsComment");Ae("2.5.29.1","authorityKeyIdentifier");Ae("2.5.29.2","keyAttributes");Ae("2.5.29.3","certificatePolicies");Ae("2.5.29.4","keyUsageRestriction");Ae("2.5.29.5","policyMapping");Ae("2.5.29.6","subtreesConstraint");Ae("2.5.29.7","subjectAltName");Ae("2.5.29.8","issuerAltName");Ae("2.5.29.9","subjectDirectoryAttributes");Ae("2.5.29.10","basicConstraints");Ae("2.5.29.11","nameConstraints");Ae("2.5.29.12","policyConstraints");Ae("2.5.29.13","basicConstraints");U("2.5.29.14","subjectKeyIdentifier");U("2.5.29.15","keyUsage");Ae("2.5.29.16","privateKeyUsagePeriod");U("2.5.29.17","subjectAltName");U("2.5.29.18","issuerAltName");U("2.5.29.19","basicConstraints");Ae("2.5.29.20","cRLNumber");Ae("2.5.29.21","cRLReason");Ae("2.5.29.22","expirationDate");Ae("2.5.29.23","instructionCode");Ae("2.5.29.24","invalidityDate");Ae("2.5.29.25","cRLDistributionPoints");Ae("2.5.29.26","issuingDistributionPoint");Ae("2.5.29.27","deltaCRLIndicator");Ae("2.5.29.28","issuingDistributionPoint");Ae("2.5.29.29","certificateIssuer");Ae("2.5.29.30","nameConstraints");U("2.5.29.31","cRLDistributionPoints");U("2.5.29.32","certificatePolicies");Ae("2.5.29.33","policyMappings");Ae("2.5.29.34","policyConstraints");U("2.5.29.35","authorityKeyIdentifier");Ae("2.5.29.36","policyConstraints");U("2.5.29.37","extKeyUsage");Ae("2.5.29.46","freshestCRL");Ae("2.5.29.54","inhibitAnyPolicy");U("1.3.6.1.4.1.11129.2.4.2","timestampList");U("1.3.6.1.5.5.7.1.1","authorityInfoAccess");U("1.3.6.1.5.5.7.3.1","serverAuth");U("1.3.6.1.5.5.7.3.2","clientAuth");U("1.3.6.1.5.5.7.3.3","codeSigning");U("1.3.6.1.5.5.7.3.4","emailProtection");U("1.3.6.1.5.5.7.3.8","timeStamping")});var dn=R((_C,sy)=>{var Ue=ye();$e();rf();var W=sy.exports=Ue.asn1=Ue.asn1||{};W.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};W.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};W.create=function(t,e,r,i,n){if(Ue.util.isArray(i)){for(var s=[],a=0;a<i.length;++a)i[a]!==void 0&&s.push(i[a]);i=s}var o={tagClass:t,type:e,constructed:r,composed:r||Ue.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(o.bitStringContents=n.bitStringContents,o.original=W.copy(o)),o};W.copy=function(t,e){var r;if(Ue.util.isArray(t)){r=[];for(var i=0;i<t.length;++i)r.push(W.copy(t[i],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:W.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};W.equals=function(t,e,r){if(Ue.util.isArray(t)){if(!Ue.util.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!W.equals(t[i],e[i]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var n=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&W.equals(t.value,e.value);return r&&r.includeBitStringContents&&(n=n&&t.bitStringContents===e.bitStringContents),n};W.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,i=e&128;return i?r=t.getInt((e&127)<<3):r=e,r}};function Oa(t,e,r){if(r>e){var i=new Error("Too few bytes to parse DER.");throw i.available=t.length(),i.remaining=e,i.requested=r,i}}var y5=function(t,e){var r=t.getByte();if(e--,r!==128){var i,n=r&128;if(!n)i=r;else{var s=r&127;Oa(t,e,s),i=t.getInt(s<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};W.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Ue.util.createBuffer(t)),nf(t,t.length(),0,e)};function nf(t,e,r,i){var n;Oa(t,e,2);var s=t.getByte();e--;var a=s&192,o=s&31;n=t.length();var u=y5(t,e);if(e-=n-t.length(),u!==void 0&&u>e){if(i.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var f,h,d=(s&32)==32;if(d)if(f=[],u===void 0)for(;;){if(Oa(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}n=t.length(),f.push(nf(t,e,r+1,i)),e-=n-t.length()}else for(;u>0;)n=t.length(),f.push(nf(t,u,r+1,i)),e-=n-t.length(),u-=n-t.length();if(f===void 0&&a===W.Class.UNIVERSAL&&o===W.Type.BITSTRING&&(h=t.bytes(u)),f===void 0&&i.decodeBitStrings&&a===W.Class.UNIVERSAL&&o===W.Type.BITSTRING&&u>1){var g=t.read,b=e,x=0;if(o===W.Type.BITSTRING&&(Oa(t,e,1),x=t.getByte(),e--),x===0)try{n=t.length();var I={verbose:i.verbose,strict:!0,decodeBitStrings:!0},S=nf(t,e,r+1,I),P=n-t.length();e-=P,o==W.Type.BITSTRING&&P++;var M=S.tagClass;P===u&&(M===W.Class.UNIVERSAL||M===W.Class.CONTEXT_SPECIFIC)&&(f=[S])}catch(L){}f===void 0&&(t.read=g,e=b)}if(f===void 0){if(u===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(o===W.Type.BMPSTRING)for(f="";u>0;u-=2)Oa(t,e,2),f+=String.fromCharCode(t.getInt16()),e-=2;else f=t.getBytes(u)}var q=h===void 0?null:{bitStringContents:h};return W.create(a,o,d,f,q)}W.toDer=function(t){var e=Ue.util.createBuffer(),r=t.tagClass|t.type,i=Ue.util.createBuffer(),n=!1;if("bitStringContents"in t&&(n=!0,t.original&&(n=W.equals(t,t.original))),n)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:i.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&i.putBuffer(W.toDer(t.value[s]))}else if(t.type===W.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)i.putInt16(t.value.charCodeAt(s));else t.type===W.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(e.putByte(r),i.length()<=127)e.putByte(i.length()&127);else{var a=i.length(),o="";do o+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(o.length|128);for(var s=o.length-1;s>=0;--s)e.putByte(o.charCodeAt(s))}return e.putBuffer(i),e};W.oidToDer=function(t){var e=t.split("."),r=Ue.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,s,a,o=2;o<e.length;++o){i=!0,n=[],s=parseInt(e[o],10);do a=s&127,s=s>>>7,i||(a|=128),n.push(a),i=!1;while(s>0);for(var u=n.length-1;u>=0;--u)r.putByte(n[u])}return r};W.derToOid=function(t){var e;typeof t=="string"&&(t=Ue.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)r=t.getByte(),i=i<<7,r&128?i+=r&127:(e+="."+(i+r),i=0);return e};W.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(t.substr(2,2),10)-1,n=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(o=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,o,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var f=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),d=f*60+h;d*=6e4,u==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};W.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),i=parseInt(t.substr(4,2),10)-1,n=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;t.charAt(t.length-1)==="Z"&&(f=!0);var h=t.length-5,d=t.charAt(h);if(d==="+"||d==="-"){var g=parseInt(t.substr(h+1,2),10),b=parseInt(t.substr(h+4,2),10);c=g*60+b,c*=6e4,d==="+"&&(c*=-1),f=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),f?(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,o,u),e.setTime(+e+c)):(e.setFullYear(r,i,n),e.setHours(s,a,o,u)),e};W.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};W.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};W.integerToDer=function(t){var e=Ue.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};W.derToInteger=function(t){typeof t=="string"&&(t=Ue.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};W.validate=function(t,e,r,i){var n=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Ue.util.isArray(e.value))for(var s=0,a=0;n&&a<e.value.length;++a)n=e.value[a].optional||!1,t.value[s]&&(n=W.validate(t.value[s],e.value[a],r,i),n?++s:e.value[a].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(n&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else i&&(t.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return n};var ny=/[^\\u0000-\\u00ff]/;W.prettyPrint=function(t,e,r){var i="";e=e||0,r=r||2,e>0&&(i+=`
`);for(var n="",s=0;s<e*r;++s)n+=" ";switch(i+=n+"Tag: ",t.tagClass){case W.Class.UNIVERSAL:i+="Universal:";break;case W.Class.APPLICATION:i+="Application:";break;case W.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case W.Class.PRIVATE:i+="Private:";break}if(t.tagClass===W.Class.UNIVERSAL)switch(i+=t.type,t.type){case W.Type.NONE:i+=" (None)";break;case W.Type.BOOLEAN:i+=" (Boolean)";break;case W.Type.INTEGER:i+=" (Integer)";break;case W.Type.BITSTRING:i+=" (Bit string)";break;case W.Type.OCTETSTRING:i+=" (Octet string)";break;case W.Type.NULL:i+=" (Null)";break;case W.Type.OID:i+=" (Object Identifier)";break;case W.Type.ODESC:i+=" (Object Descriptor)";break;case W.Type.EXTERNAL:i+=" (External or Instance of)";break;case W.Type.REAL:i+=" (Real)";break;case W.Type.ENUMERATED:i+=" (Enumerated)";break;case W.Type.EMBEDDED:i+=" (Embedded PDV)";break;case W.Type.UTF8:i+=" (UTF8)";break;case W.Type.ROID:i+=" (Relative Object Identifier)";break;case W.Type.SEQUENCE:i+=" (Sequence)";break;case W.Type.SET:i+=" (Set)";break;case W.Type.PRINTABLESTRING:i+=" (Printable String)";break;case W.Type.IA5String:i+=" (IA5String (ASCII))";break;case W.Type.UTCTIME:i+=" (UTC time)";break;case W.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case W.Type.BMPSTRING:i+=" (BMP String)";break}else i+=t.type;if(i+=`
`,i+=n+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,o="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,o+=W.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(o+=","));i+=n+"Sub values: "+a+o}else{if(i+=n+"Value: ",t.type===W.Type.OID){var u=W.derToOid(t.value);i+=u,Ue.pki&&Ue.pki.oids&&u in Ue.pki.oids&&(i+=" ("+Ue.pki.oids[u]+") ")}if(t.type===W.Type.INTEGER)try{i+=W.derToInteger(t.value)}catch(f){i+="0x"+Ue.util.bytesToHex(t.value)}else if(t.type===W.Type.BITSTRING){if(t.value.length>1?i+="0x"+Ue.util.bytesToHex(t.value.slice(1)):i+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else t.type===W.Type.OCTETSTRING?(ny.test(t.value)||(i+="("+t.value+") "),i+="0x"+Ue.util.bytesToHex(t.value)):t.type===W.Type.UTF8?i+=Ue.util.decodeUtf8(t.value):t.type===W.Type.PRINTABLESTRING||t.type===W.Type.IA5String?i+=t.value:ny.test(t.value)?i+="0x"+Ue.util.bytesToHex(t.value):t.value.length===0?i+="[null]":i+=t.value}return i}});var Q0=R((EC,ay)=>{var Nt=ye();$e();ay.exports=Nt.cipher=Nt.cipher||{};Nt.cipher.algorithms=Nt.cipher.algorithms||{};Nt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Nt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Nt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Nt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Nt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Nt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Nt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Nt.cipher.algorithms[t]=e};Nt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Nt.cipher.algorithms?Nt.cipher.algorithms[t]:null};var X0=Nt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};X0.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Nt.util.createBuffer(),this.output=t.output||Nt.util.createBuffer(),this.mode.start(e)};X0.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};X0.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var tu=R((SC,oy)=>{var Lt=ye();$e();Lt.cipher=Lt.cipher||{};var de=oy.exports=Lt.cipher.modes=Lt.cipher.modes||{};de.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};de.ecb.prototype.start=function(t){};de.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};de.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};de.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};de.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};de.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};de.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=sf(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};de.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};de.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};de.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};de.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};de.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Lt.util.createBuffer(),this._partialBytes=0};de.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=sf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};de.cfb.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};de.cfb.prototype.decrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};de.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Lt.util.createBuffer(),this._partialBytes=0};de.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=sf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};de.ofb.prototype.encrypt=function(t,e,r){var i=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};de.ofb.prototype.decrypt=de.ofb.prototype.encrypt;de.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Lt.util.createBuffer(),this._partialBytes=0};de.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=sf(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};de.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]);else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}af(this._inBlock)};de.ctr.prototype.decrypt=de.ctr.prototype.encrypt;de.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Lt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};de.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Lt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Lt.util.createBuffer(t.additionalData):r=Lt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Lt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(eu(i*8)))}this._inBlock=this._j0.slice(0),af(this._inBlock),this._partialBytes=0,r=Lt.util.createBuffer(r),this._aDataLength=eu(r.length()*8);var n=r.length()%this.blockSize;for(n&&r.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};de.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s<=0||r){if(r){var a=i%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),af(this._inBlock)};de.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),af(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};de.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Lt.util.createBuffer();var i=this._aDataLength.concat(eu(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^n[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};de.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var s=t[n/32|0]&1<<31-n%32;s&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i)}return r};de.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,i=3;i>0;--i)e[i]=t[i]>>>1|(t[i-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};de.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var i=r/8|0,n=t[i]>>>(7-r%8)*4&15,s=this._m[r][n];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};de.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};de.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,i=4*r,n=16*r,s=new Array(n),a=0;a<n;++a){var o=[0,0,0,0],u=a/i|0,c=(i-1-a%i)*e;o[u]=1<<e-1<<c,s[a]=this.generateSubHashTable(this.multiply(o,t),e)}return s};de.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,i=r>>>1,n=new Array(r);n[i]=t.slice(0);for(var s=i>>>1;s>0;)this.pow(n[2*s],n[s]=[]),s>>=1;for(s=2;s<i;){for(var a=1;a<s;++a){var o=n[s],u=n[a];n[s+a]=[o[0]^u[0],o[1]^u[1],o[2]^u[2],o[3]^u[3]]}s*=2}for(n[0]=[0,0,0,0],s=i+1;s<r;++s){var c=n[s^i];n[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return n};function sf(t,e){if(typeof t=="string"&&(t=Lt.util.createBuffer(t)),Lt.util.isArray(t)&&t.length>4){var r=t;t=Lt.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Lt.util.isArray(t)){for(var n=[],s=e/4,i=0;i<s;++i)n.push(t.getInt32());t=n}return t}function af(t){t[t.length-1]=t[t.length-1]+1&4294967295}function eu(t){return[t/4294967296|0,t&4294967295]}});var su=R((AC,hy)=>{var Le=ye();Q0();tu();$e();hy.exports=Le.aes=Le.aes||{};Le.aes.startEncrypting=function(t,e,r,i){var n=of({key:t,output:r,decrypt:!1,mode:i});return n.start(e),n};Le.aes.createEncryptionCipher=function(t,e){return of({key:t,output:null,decrypt:!1,mode:e})};Le.aes.startDecrypting=function(t,e,r,i){var n=of({key:t,output:r,decrypt:!0,mode:i});return n.start(e),n};Le.aes.createDecryptionCipher=function(t,e){return of({key:t,output:null,decrypt:!0,mode:e})};Le.aes.Algorithm=function(t,e){ru||cy();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return nu(r._w,i,n,!1)},decrypt:function(i,n){return nu(r._w,i,n,!0)}}}),r._init=!1};Le.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Le.util.createBuffer(e);else if(Le.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Le.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(!Le.util.isArray(e)){r=e,e=[];var n=r.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(r.getInt32())}}if(!Le.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=uy(e,t.decrypt&&!a),this._init=!0}};Le.aes._expandKey=function(t,e){return ru||cy(),uy(t,e)};Le.aes._updateBlock=nu;ks("AES-ECB",Le.cipher.modes.ecb);ks("AES-CBC",Le.cipher.modes.cbc);ks("AES-CFB",Le.cipher.modes.cfb);ks("AES-OFB",Le.cipher.modes.ofb);ks("AES-CTR",Le.cipher.modes.ctr);ks("AES-GCM",Le.cipher.modes.gcm);function ks(t,e){var r=function(){return new Le.aes.Algorithm(t,e)};Le.cipher.registerAlgorithm(t,r)}var ru=!1,Ns=4,or,iu,fy,Jn,Ur;function cy(){ru=!0,fy=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;or=new Array(256),iu=new Array(256),Jn=new Array(4),Ur=new Array(4);for(var e=0;e<4;++e)Jn[e]=new Array(256),Ur[e]=new Array(256);for(var r=0,i=0,n,s,a,o,u,c,f,e=0;e<256;++e){o=i^i<<1^i<<2^i<<3^i<<4,o=o>>8^o&255^99,or[r]=o,iu[o]=r,u=t[o],n=t[r],s=t[n],a=t[s],c=u<<24^o<<16^o<<8^(o^u),f=(n^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^n^a);for(var h=0;h<4;++h)Jn[h][r]=c,Ur[h][o]=f,c=c<<24|c>>>8,f=f<<24|f>>>8;r===0?r=i=1:(r=n^t[t[t[n^a]]],i^=t[t[i]])}}function uy(t,e){for(var r=t.slice(0),i,n=1,s=r.length,a=s+6+1,o=Ns*a,u=s;u<o;++u)i=r[u-1],u%s==0?(i=or[i>>>16&255]<<24^or[i>>>8&255]<<16^or[i&255]<<8^or[i>>>24]^fy[n]<<24,n++):s>6&&u%s==4&&(i=or[i>>>24]<<24^or[i>>>16&255]<<16^or[i>>>8&255]<<8^or[i&255]),r[u]=r[u-s]^i;if(e){var c,f=Ur[0],h=Ur[1],d=Ur[2],g=Ur[3],b=r.slice(0);o=r.length;for(var u=0,x=o-Ns;u<o;u+=Ns,x-=Ns)if(u===0||u===o-Ns)b[u]=r[x],b[u+1]=r[x+3],b[u+2]=r[x+2],b[u+3]=r[x+1];else for(var I=0;I<Ns;++I)c=r[x+I],b[u+(3&-I)]=f[or[c>>>24]]^h[or[c>>>16&255]]^d[or[c>>>8&255]]^g[or[c&255]];r=b}return r}function nu(t,e,r,i){var n=t.length/4-1,s,a,o,u,c;i?(s=Ur[0],a=Ur[1],o=Ur[2],u=Ur[3],c=iu):(s=Jn[0],a=Jn[1],o=Jn[2],u=Jn[3],c=or);var f,h,d,g,b,x,I;f=e[0]^t[0],h=e[i?3:1]^t[1],d=e[2]^t[2],g=e[i?1:3]^t[3];for(var S=3,P=1;P<n;++P)b=s[f>>>24]^a[h>>>16&255]^o[d>>>8&255]^u[g&255]^t[++S],x=s[h>>>24]^a[d>>>16&255]^o[g>>>8&255]^u[f&255]^t[++S],I=s[d>>>24]^a[g>>>16&255]^o[f>>>8&255]^u[h&255]^t[++S],g=s[g>>>24]^a[f>>>16&255]^o[h>>>8&255]^u[d&255]^t[++S],f=b,h=x,d=I;r[0]=c[f>>>24]<<24^c[h>>>16&255]<<16^c[d>>>8&255]<<8^c[g&255]^t[++S],r[i?3:1]=c[h>>>24]<<24^c[d>>>16&255]<<16^c[g>>>8&255]<<8^c[f&255]^t[++S],r[2]=c[d>>>24]<<24^c[g>>>16&255]<<16^c[f>>>8&255]<<8^c[h&255]^t[++S],r[i?1:3]=c[g>>>24]<<24^c[f>>>16&255]<<16^c[h>>>8&255]<<8^c[d&255]^t[++S]}function of(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,i;t.decrypt?i=Le.cipher.createDecipher(r,t.key):i=Le.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var o=null;a instanceof Le.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,n.call(i,a)},i}});var py=R((IC,dy)=>{var ze=ye();Q0();tu();$e();dy.exports=ze.des=ze.des||{};ze.des.startEncrypting=function(t,e,r,i){var n=ff({key:t,output:r,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};ze.des.createEncryptionCipher=function(t,e){return ff({key:t,output:null,decrypt:!1,mode:e})};ze.des.startDecrypting=function(t,e,r,i){var n=ff({key:t,output:r,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};ze.des.createDecryptionCipher=function(t,e){return ff({key:t,output:null,decrypt:!0,mode:e})};ze.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return ly(r._keys,i,n,!1)},decrypt:function(i,n){return ly(r._keys,i,n,!0)}}}),r._init=!1};ze.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=ze.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=S5(e),this._init=!0}};oi("DES-ECB",ze.cipher.modes.ecb);oi("DES-CBC",ze.cipher.modes.cbc);oi("DES-CFB",ze.cipher.modes.cfb);oi("DES-OFB",ze.cipher.modes.ofb);oi("DES-CTR",ze.cipher.modes.ctr);oi("3DES-ECB",ze.cipher.modes.ecb);oi("3DES-CBC",ze.cipher.modes.cbc);oi("3DES-CFB",ze.cipher.modes.cfb);oi("3DES-OFB",ze.cipher.modes.ofb);oi("3DES-CTR",ze.cipher.modes.ctr);function oi(t,e){var r=function(){return new ze.des.Algorithm(t,e)};ze.cipher.registerAlgorithm(t,r)}var b5=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],g5=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],v5=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],m5=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],x5=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],w5=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],_5=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],E5=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function S5(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],b=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=t.length()>8?3:1,I=[],S=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,M,q=0;q<x;q++){var L=t.getInt32(),O=t.getInt32();M=(L>>>4^O)&252645135,O^=M,L^=M<<4,M=(O>>>-16^L)&65535,L^=M,O^=M<<-16,M=(L>>>2^O)&858993459,O^=M,L^=M<<2,M=(O>>>-16^L)&65535,L^=M,O^=M<<-16,M=(L>>>1^O)&1431655765,O^=M,L^=M<<1,M=(O>>>8^L)&16711935,L^=M,O^=M<<8,M=(L>>>1^O)&1431655765,O^=M,L^=M<<1,M=L<<8|O>>>20&240,L=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=M;for(var H=0;H<S.length;++H){S[H]?(L=L<<2|L>>>26,O=O<<2|O>>>26):(L=L<<1|L>>>27,O=O<<1|O>>>27),L&=-15,O&=-15;var z=e[L>>>28]|r[L>>>24&15]|i[L>>>20&15]|n[L>>>16&15]|s[L>>>12&15]|a[L>>>8&15]|o[L>>>4&15],Q=u[O>>>28]|c[O>>>24&15]|f[O>>>20&15]|h[O>>>16&15]|d[O>>>12&15]|g[O>>>8&15]|b[O>>>4&15];M=(Q>>>16^z)&65535,I[P++]=z^M,I[P++]=Q^M<<16}}return I}function ly(t,e,r,i){var n=t.length===32?3:9,s;n===3?s=i?[30,-2,-2]:[0,32,2]:s=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=e[0],u=e[1];a=(o>>>4^u)&252645135,u^=a,o^=a<<4,a=(o>>>16^u)&65535,u^=a,o^=a<<16,a=(u>>>2^o)&858993459,o^=a,u^=a<<2,a=(u>>>8^o)&16711935,o^=a,u^=a<<8,a=(o>>>1^u)&1431655765,u^=a,o^=a<<1,o=o<<1|o>>>31,u=u<<1|u>>>31;for(var c=0;c<n;c+=3){for(var f=s[c+1],h=s[c+2],d=s[c];d!=f;d+=h){var g=u^t[d],b=(u>>>4|u<<28)^t[d+1];a=o,o=u,u=a^(g5[g>>>24&63]|m5[g>>>16&63]|w5[g>>>8&63]|E5[g&63]|b5[b>>>24&63]|v5[b>>>16&63]|x5[b>>>8&63]|_5[b&63])}a=o,o=u,u=a}o=o>>>1|o<<31,u=u>>>1|u<<31,a=(o>>>1^u)&1431655765,u^=a,o^=a<<1,a=(u>>>8^o)&16711935,o^=a,u^=a<<8,a=(u>>>2^o)&858993459,o^=a,u^=a<<2,a=(o>>>16^u)&65535,u^=a,o^=a<<16,a=(o>>>4^u)&252645135,u^=a,o^=a<<4,r[0]=o,r[1]=u}function ff(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,i;t.decrypt?i=ze.cipher.createDecipher(r,t.key):i=ze.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var o=null;a instanceof ze.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,n.call(i,a)},i}});var Xn=R((BC,yy)=>{var cf=ye();yy.exports=cf.md=cf.md||{};cf.md.algorithms=cf.md.algorithms||{}});var gy=R((CC,by)=>{var ki=ye();Xn();$e();var A5=by.exports=ki.hmac=ki.hmac||{};A5.create=function(){var t=null,e=null,r=null,i=null,n={};return n.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in ki.md.algorithms)e=ki.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=ki.util.createBuffer(a);else if(ki.util.isArray(a)){var o=a;a=ki.util.createBuffer();for(var u=0;u<o.length;++u)a.putByte(o[u])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=ki.util.createBuffer(),i=ki.util.createBuffer(),c=a.length();for(var u=0;u<c;++u){var o=a.at(u);r.putByte(54^o),i.putByte(92^o)}if(c<e.blockLength)for(var o=e.blockLength-c,u=0;u<o;++u)r.putByte(54),i.putByte(92);t=a,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},n.update=function(s){e.update(s)},n.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(i),e.update(s),e.digest()},n.digest=n.getMac,n}});var Ls=R(()=>{});var my=R((PC,vy)=>{var fr=ye();gy();Xn();$e();var I5=fr.pkcs5=fr.pkcs5||{},Ni;fr.util.isNodejs&&!fr.options.usePureJavaScript&&(Ni=Ls());vy.exports=fr.pbkdf2=I5.pbkdf2=function(t,e,r,i,n,s){if(typeof n=="function"&&(s=n,n=null),fr.util.isNodejs&&!fr.options.usePureJavaScript&&Ni.pbkdf2&&(n===null||typeof n!="object")&&(Ni.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?Ni.pbkdf2Sync.length===4?Ni.pbkdf2(t,e,r,i,function(M,q){if(M)return s(M);s(null,q.toString("binary"))}):Ni.pbkdf2(t,e,r,i,n,function(M,q){if(M)return s(M);s(null,q.toString("binary"))}):Ni.pbkdf2Sync.length===4?Ni.pbkdf2Sync(t,e,r,i).toString("binary"):Ni.pbkdf2Sync(t,e,r,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in fr.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=fr.md[n].create()}var a=n.digestLength;if(i>4294967295*a){var o=new Error("Derived key is too long.");if(s)return s(o);throw o}var u=Math.ceil(i/a),c=i-(u-1)*a,f=fr.hmac.create();f.start(n,t);var h="",d,g,b;if(!s){for(var x=1;x<=u;++x){f.start(null,null),f.update(e),f.update(fr.util.int32ToBytes(x)),d=b=f.digest().getBytes();for(var I=2;I<=r;++I)f.start(null,null),f.update(b),g=f.digest().getBytes(),d=fr.util.xorBytes(d,g,a),b=g;h+=x<u?d:d.substr(0,c)}return h}var x=1,I;function S(){if(x>u)return s(null,h);f.start(null,null),f.update(e),f.update(fr.util.int32ToBytes(x)),d=b=f.digest().getBytes(),I=2,P()}function P(){if(I<=r)return f.start(null,null),f.update(b),g=f.digest().getBytes(),d=fr.util.xorBytes(d,g,a),b=g,++I,fr.util.setImmediate(P);h+=x<u?d:d.substr(0,c),++x,S()}S()}});var _y=R((MC,wy)=>{var uf=ye();$e();var xy=wy.exports=uf.pem=uf.pem||{};xy.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,i;if(t.procType&&(i={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=hf(i)),t.contentDomain&&(i={name:"Content-Domain",values:[t.contentDomain]},r+=hf(i)),t.dekInfo&&(i={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&i.values.push(t.dekInfo.parameters),r+=hf(i)),t.headers)for(var n=0;n<t.headers.length;++n)r+=hf(t.headers[n]);return t.procType&&(r+=`\r
`),r+=uf.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};xy.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,s;s=r.exec(t),!!s;){var a={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:uf.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var o=s[2].split(n),u=0;s&&u<o.length;){for(var c=o[u].replace(/\s+$/,""),f=u+1;f<o.length;++f){var h=o[f];if(!/\s/.test(h[0]))break;c+=h,u=f}if(s=c.match(i),s){for(var d={name:s[1],values:[]},g=s[2].split(","),b=0;b<g.length;++b)d.values.push(B5(g[b]));if(a.procType)if(!a.contentDomain&&d.name==="Content-Domain")a.contentDomain=g[0]||"";else if(!a.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:g[0],parameters:g[1]||null}}else a.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:g[0],type:g[1]}}}++u}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function hf(t){for(var e=t.name+": ",r=[],i=function(u,c){return" "+c},n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,i));e+=r.join(",")+`\r
`;for(var s=0,a=-1,n=0;n<e.length;++n,++s)if(s>65&&a!==-1){var o=e[a];o===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+o+e.substr(a+1),s=n-a-1,a=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(a=n);return e}function B5(t){return t.replace(/^\s+/,"")}});var Cy=R((DC,By)=>{var fi=ye();Xn();$e();var Ey=By.exports=fi.sha256=fi.sha256||{};fi.md.sha256=fi.md.algorithms.sha256=Ey;Ey.create=function(){Sy||C5();var t=null,e=fi.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=fi.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=fi.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=a[1],a[1]=a[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),Iy(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=fi.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(au.substr(0,i.blockLength-a));for(var o,u,c=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)o=i.fullMessageLength[f+1]*8,u=o/4294967296>>>0,c+=u,n.putInt32(c>>>0),c=o>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Iy(h,r,n);var d=fi.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d.putInt32(h.h5),d.putInt32(h.h6),d.putInt32(h.h7),d},i};var au=null,Sy=!1,Ay=null;function C5(){au=String.fromCharCode(128),au+=fi.util.fillString(String.fromCharCode(0),64),Ay=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Sy=!0}function Iy(t,e,r){for(var i,n,s,a,o,u,c,f,h,d,g,b,x,I,S,P=r.length();P>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)i=e[c-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[c-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[c]=i+e[c-7]+n+e[c-16]|0;for(f=t.h0,h=t.h1,d=t.h2,g=t.h3,b=t.h4,x=t.h5,I=t.h6,S=t.h7,c=0;c<64;++c)a=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),o=I^b&(x^I),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),u=f&h|d&(f^h),i=S+a+o+Ay[c]+e[c],n=s+u,S=I,I=x,x=b,b=g+i>>>0,g=d,d=h,h=f,f=i+n>>>0;t.h0=t.h0+f|0,t.h1=t.h1+h|0,t.h2=t.h2+d|0,t.h3=t.h3+g|0,t.h4=t.h4+b|0,t.h5=t.h5+x|0,t.h6=t.h6+I|0,t.h7=t.h7+S|0,P-=64}}});var Ty=R((OC,Ry)=>{var ci=ye();$e();var lf=null;ci.util.isNodejs&&!ci.options.usePureJavaScript&&!process.versions["node-webkit"]&&(lf=Ls());var R5=Ry.exports=ci.prng=ci.prng||{};R5.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,i=new Array(32),n=0;n<32;++n)i[n]=r.create();e.pools=i,e.pool=0,e.generate=function(c,f){if(!f)return e.generateSync(c);var h=e.plugin.cipher,d=e.plugin.increment,g=e.plugin.formatKey,b=e.plugin.formatSeed,x=ci.util.createBuffer();e.key=null,I();function I(S){if(S)return f(S);if(x.length()>=c)return f(null,x.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return ci.util.nextTick(function(){s(I)});var P=h(e.key,e.seed);e.generated+=P.length,x.putBytes(P),e.key=g(h(e.key,d(e.seed))),e.seed=b(h(e.key,e.seed)),ci.util.setImmediate(I)}},e.generateSync=function(c){var f=e.plugin.cipher,h=e.plugin.increment,d=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var b=ci.util.createBuffer();b.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&a();var x=f(e.key,e.seed);e.generated+=x.length,b.putBytes(x),e.key=d(f(e.key,h(e.seed))),e.seed=g(f(e.key,e.seed))}return b.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return o(),c();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(h,d){if(h)return c(h);e.collect(d),o(),c()})}function a(){if(e.pools[0].messageLength>=32)return o();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var f=1,h=0;h<32;++h)e.reseeds%f==0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),f=f<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var d=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function u(c){var f=null,h=ci.util.globalScope,d=h.crypto||h.msCrypto;d&&d.getRandomValues&&(f=function(L){return d.getRandomValues(L)});var g=ci.util.createBuffer();if(f)for(;g.length()<c;){var b=Math.max(1,Math.min(c-g.length(),65536)/4),x=new Uint32Array(Math.floor(b));try{f(x);for(var I=0;I<x.length;++I)g.putInt32(x[I])}catch(L){if(!(typeof QuotaExceededError!="undefined"&&L instanceof QuotaExceededError))throw L}}if(g.length()<c)for(var S,P,M,q=Math.floor(Math.random()*65536);g.length()<c;){P=16807*(q&65535),S=16807*(q>>16),P+=(S&32767)<<16,P+=S>>15,P=(P&2147483647)+(P>>31),q=P&4294967295;for(var I=0;I<3;++I)M=q>>>(I<<3),M^=Math.floor(Math.random()*256),g.putByte(String.fromCharCode(M&255))}return g.getBytes(c)}return lf?(e.seedFile=function(c,f){lf.randomBytes(c,function(h,d){if(h)return f(h);f(null,d.toString())})},e.seedFileSync=function(c){return lf.randomBytes(c).toString()}):(e.seedFile=function(c,f){try{f(null,u(c))}catch(h){f(h)}},e.seedFileSync=u),e.collect=function(c){for(var f=c.length,h=0;h<f;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,f){for(var h="",d=0;d<f;d+=8)h+=String.fromCharCode(c>>d&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,d){function g(b){var x=b.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",g),d(x.forge.prng.err,x.forge.prng.bytes))}self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:h}}})};else{var f=function(h){var d=h.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(g,b){c.postMessage({forge:{prng:{err:g,bytes:b}}})})};c.addEventListener("message",f)}},e}});var qs=R((kC,ou)=>{var qt=ye();su();Cy();Ty();$e();(function(){if(qt.random&&qt.random.getBytes){ou.exports=qt.random;return}(function(t){var e={},r=new Array(4),i=qt.util.createBuffer();e.formatKey=function(h){var d=qt.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),qt.aes._expandKey(h,!1)},e.formatSeed=function(h){var d=qt.util.createBuffer(h);return h=new Array(4),h[0]=d.getInt32(),h[1]=d.getInt32(),h[2]=d.getInt32(),h[3]=d.getInt32(),h},e.cipher=function(h,d){return qt.aes._updateBlock(h,d,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},e.increment=function(h){return++h[3],h},e.md=qt.md.sha256;function n(){var h=qt.prng.create(e);return h.getBytes=function(d,g){return h.generate(d,g)},h.getBytesSync=function(d){return h.generate(d)},h}var s=n(),a=null,o=qt.util.globalScope,u=o.crypto||o.msCrypto;if(u&&u.getRandomValues&&(a=function(h){return u.getRandomValues(h)}),qt.options.usePureJavaScript||!qt.util.isNodejs&&!a){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var f in navigator)try{typeof navigator[f]=="string"&&(c+=navigator[f])}catch(h){}s.collect(c),c=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!qt.random)qt.random=s;else for(var f in s)qt.random[f]=s[f];qt.random.createInstance=n,ou.exports=qt.random})(typeof jQuery!="undefined"?jQuery:null)})()});var Oy=R((NC,Dy)=>{var lr=ye();$e();var fu=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Py=[1,2,3,5],T5=function(t,e){return t<<e&65535|(t&65535)>>16-e},P5=function(t,e){return(t&65535)>>e|t<<16-e&65535};Dy.exports=lr.rc2=lr.rc2||{};lr.rc2.expandKey=function(t,e){typeof t=="string"&&(t=lr.util.createBuffer(t)),e=e||128;var r=t,i=t.length(),n=e,s=Math.ceil(n/8),a=255>>(n&7),o;for(o=i;o<128;o++)r.putByte(fu[r.at(o-1)+r.at(o-i)&255]);for(r.setAt(128-s,fu[r.at(128-s)&a]),o=127-s;o>=0;o--)r.setAt(o,fu[r.at(o+1)^r.at(o+s)]);return r};var My=function(t,e,r){var i=!1,n=null,s=null,a=null,o,u,c,f,h=[];for(t=lr.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(o=function(b){for(c=0;c<4;c++)b[c]+=h[f]+(b[(c+3)%4]&b[(c+2)%4])+(~b[(c+3)%4]&b[(c+1)%4]),b[c]=T5(b[c],Py[c]),f++},u=function(b){for(c=0;c<4;c++)b[c]+=h[b[(c+3)%4]&63]}):(o=function(b){for(c=3;c>=0;c--)b[c]=P5(b[c],Py[c]),b[c]-=h[f]+(b[(c+3)%4]&b[(c+2)%4])+(~b[(c+3)%4]&b[(c+1)%4]),f--},u=function(b){for(c=3;c>=0;c--)b[c]-=h[b[(c+3)%4]&63]});var d=function(b){var x=[];for(c=0;c<4;c++){var I=n.getInt16Le();a!==null&&(r?I^=a.getInt16Le():a.putInt16Le(I)),x.push(I&65535)}f=r?0:63;for(var S=0;S<b.length;S++)for(var P=0;P<b[S][0];P++)b[S][1](x);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(x[c]):x[c]^=a.getInt16Le()),s.putInt16Le(x[c])},g=null;return g={start:function(b,x){b&&typeof b=="string"&&(b=lr.util.createBuffer(b)),i=!1,n=lr.util.createBuffer(),s=x||new lr.util.createBuffer,a=b,g.output=s},update:function(b){for(i||n.putBuffer(b);n.length()>=8;)d([[5,o],[1,u],[6,o],[1,u],[5,o]])},finish:function(b){var x=!0;if(r)if(b)x=b(8,n,!r);else{var I=n.length()===8?8:8-n.length();n.fillWithByte(I,I)}if(x&&(i=!0,g.update()),!r&&(x=n.length()===0,x))if(b)x=b(8,s,!r);else{var S=s.length(),P=s.at(S-1);P>S?x=!1:s.truncate(P)}return x}},g};lr.rc2.startEncrypting=function(t,e,r){var i=lr.rc2.createEncryptionCipher(t,128);return i.start(e,r),i};lr.rc2.createEncryptionCipher=function(t,e){return My(t,e,!0)};lr.rc2.startDecrypting=function(t,e,r){var i=lr.rc2.createDecryptionCipher(t,128);return i.start(e,r),i};lr.rc2.createDecryptionCipher=function(t,e){return My(t,e,!1)}});var Us=R((LC,zy)=>{var cu=ye();zy.exports=cu.jsbn=cu.jsbn||{};var Li,M5=244837814094590,ky=(M5&16777215)==15715070;function K(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}cu.jsbn.BigInteger=K;function we(){return new K(null)}function D5(t,e,r,i,n,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[i]+n;n=Math.floor(a/67108864),r.data[i++]=a&67108863}return n}function O5(t,e,r,i,n,s){for(var a=e&32767,o=e>>15;--s>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,f=o*u+c*a;u=a*u+((f&32767)<<15)+r.data[i]+(n&1073741823),n=(u>>>30)+(f>>>15)+o*c+(n>>>30),r.data[i++]=u&1073741823}return n}function Ny(t,e,r,i,n,s){for(var a=e&16383,o=e>>14;--s>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,f=o*u+c*a;u=a*u+((f&16383)<<14)+r.data[i]+n,n=(u>>28)+(f>>14)+o*c,r.data[i++]=u&268435455}return n}typeof navigator=="undefined"?(K.prototype.am=Ny,Li=28):ky&&navigator.appName=="Microsoft Internet Explorer"?(K.prototype.am=O5,Li=30):ky&&navigator.appName!="Netscape"?(K.prototype.am=D5,Li=26):(K.prototype.am=Ny,Li=28);K.prototype.DB=Li;K.prototype.DM=(1<<Li)-1;K.prototype.DV=1<<Li;var uu=52;K.prototype.FV=Math.pow(2,uu);K.prototype.F1=uu-Li;K.prototype.F2=2*Li-uu;var k5="0123456789abcdefghijklmnopqrstuvwxyz",df=new Array,Ks,Sr;Ks="0".charCodeAt(0);for(Sr=0;Sr<=9;++Sr)df[Ks++]=Sr;Ks="a".charCodeAt(0);for(Sr=10;Sr<36;++Sr)df[Ks++]=Sr;Ks="A".charCodeAt(0);for(Sr=10;Sr<36;++Sr)df[Ks++]=Sr;function Ly(t){return k5.charAt(t)}function qy(t,e){var r=df[t.charCodeAt(e)];return r??-1}function N5(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function L5(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function pn(t){var e=we();return e.fromInt(t),e}function q5(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var i=t.length,n=!1,s=0;--i>=0;){var a=r==8?t[i]&255:qy(t,i);if(a<0){t.charAt(i)=="-"&&(n=!0);continue}n=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&K.ZERO.subTo(this,this)}function K5(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function F5(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,i,n=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0)for(o<this.DB&&(i=this.data[a]>>o)>0&&(n=!0,s=Ly(i));a>=0;)o<e?(i=(this.data[a]&(1<<o)-1)<<e-o,i|=this.data[--a]>>(o+=this.DB-e)):(i=this.data[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),i>0&&(n=!0),n&&(s+=Ly(i));return n?s:"0"}function U5(){var t=we();return K.ZERO.subTo(this,t),t}function z5(){return this.s<0?this.negate():this}function G5(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function pf(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function V5(){return this.t<=0?0:this.DB*(this.t-1)+pf(this.data[this.t-1]^this.s&this.DM)}function H5(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function j5(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function W5(t,e){var r=t%this.DB,i=this.DB-r,n=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+s+1]=this.data[o]>>i|a,a=(this.data[o]&n)<<r;for(o=s-1;o>=0;--o)e.data[o]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function Y5(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var i=t%this.DB,n=this.DB-i,s=(1<<i)-1;e.data[0]=this.data[r]>>i;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<n,e.data[a-r]=this.data[a]>>i;i>0&&(e.data[this.t-r-1]|=(this.s&s)<<n),e.t=this.t-r,e.clamp()}function $5(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]-t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e.data[r++]=this.DV+i:i>0&&(e.data[r++]=i),e.t=r,e.clamp()}function Z5(t,e){var r=this.abs(),i=t.abs(),n=r.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+r.t]=r.am(0,i.data[n],e,n,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&K.ZERO.subTo(e,e)}function J5(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function X5(t,e,r){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=we());var s=we(),a=this.s,o=t.s,u=this.DB-pf(i.data[i.t-1]);u>0?(i.lShiftTo(u,s),n.lShiftTo(u,r)):(i.copyTo(s),n.copyTo(r));var c=s.t,f=s.data[c-1];if(f!=0){var h=f*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),d=this.FV/h,g=(1<<this.F1)/h,b=1<<this.F2,x=r.t,I=x-c,S=e??we();for(s.dlShiftTo(I,S),r.compareTo(S)>=0&&(r.data[r.t++]=1,r.subTo(S,r)),K.ONE.dlShiftTo(c,S),S.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--I>=0;){var P=r.data[--x]==f?this.DM:Math.floor(r.data[x]*d+(r.data[x-1]+b)*g);if((r.data[x]+=s.am(0,P,r,I,0,c))<P)for(s.dlShiftTo(I,S),r.subTo(S,r);r.data[x]<--P;)r.subTo(S,r)}e!=null&&(r.drShiftTo(c,e),a!=o&&K.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&K.ZERO.subTo(r,r)}}}function Q5(t){var e=we();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(K.ZERO)>0&&t.subTo(e,e),e}function Qn(t){this.m=t}function ex(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function tx(t){return t}function rx(t){t.divRemTo(this.m,null,t)}function ix(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function nx(t,e){t.squareTo(e),this.reduce(e)}Qn.prototype.convert=ex;Qn.prototype.revert=tx;Qn.prototype.reduce=rx;Qn.prototype.mulTo=ix;Qn.prototype.sqrTo=nx;function sx(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function es(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function ax(t){var e=we();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(K.ZERO)>0&&this.m.subTo(e,e),e}function ox(t){var e=we();return t.copyTo(e),this.reduce(e),e}function fx(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,i=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,i,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function cx(t,e){t.squareTo(e),this.reduce(e)}function ux(t,e,r){t.multiplyTo(e,r),this.reduce(r)}es.prototype.convert=ax;es.prototype.revert=ox;es.prototype.reduce=fx;es.prototype.mulTo=ux;es.prototype.sqrTo=cx;function hx(){return(this.t>0?this.data[0]&1:this.s)==0}function lx(t,e){if(t>4294967295||t<1)return K.ONE;var r=we(),i=we(),n=e.convert(this),s=pf(t)-1;for(n.copyTo(r);--s>=0;)if(e.sqrTo(r,i),(t&1<<s)>0)e.mulTo(i,n,r);else{var a=r;r=i,i=a}return e.revert(r)}function dx(t,e){var r;return t<256||e.isEven()?r=new Qn(e):r=new es(e),this.exp(t,r)}K.prototype.copyTo=N5;K.prototype.fromInt=L5;K.prototype.fromString=q5;K.prototype.clamp=K5;K.prototype.dlShiftTo=H5;K.prototype.drShiftTo=j5;K.prototype.lShiftTo=W5;K.prototype.rShiftTo=Y5;K.prototype.subTo=$5;K.prototype.multiplyTo=Z5;K.prototype.squareTo=J5;K.prototype.divRemTo=X5;K.prototype.invDigit=sx;K.prototype.isEven=hx;K.prototype.exp=lx;K.prototype.toString=F5;K.prototype.negate=U5;K.prototype.abs=z5;K.prototype.compareTo=G5;K.prototype.bitLength=V5;K.prototype.mod=Q5;K.prototype.modPowInt=dx;K.ZERO=pn(0);K.ONE=pn(1);function px(){var t=we();return this.copyTo(t),t}function yx(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function bx(){return this.t==0?this.s:this.data[0]<<24>>24}function gx(){return this.t==0?this.s:this.data[0]<<16>>16}function vx(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function mx(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function xx(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=pn(r),n=we(),s=we(),a="";for(this.divRemTo(i,n,s);n.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,n.divRemTo(i,n,s);return s.intValue().toString(t)+a}function wx(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),n=!1,s=0,a=0,o=0;o<t.length;++o){var u=qy(t,o);if(u<0){t.charAt(o)=="-"&&this.signum()==0&&(n=!0);continue}a=e*a+u,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),n&&K.ZERO.subTo(this,this)}function _x(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(K.ONE.shiftLeft(t-1),hu,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(K.ONE.shiftLeft(t-1),this);else{var i=new Array,n=t&7;i.length=(t>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function Ex(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,i,n=0;if(t-- >0)for(r<this.DB&&(i=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this.data[t]&(1<<r)-1)<<8-r,i|=this.data[--t]>>(r+=this.DB-8)):(i=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function Sx(t){return this.compareTo(t)==0}function Ax(t){return this.compareTo(t)<0?this:t}function Ix(t){return this.compareTo(t)>0?this:t}function Bx(t,e,r){var i,n,s=Math.min(t.t,this.t);for(i=0;i<s;++i)r.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){for(n=t.s&this.DM,i=s;i<this.t;++i)r.data[i]=e(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=s;i<t.t;++i)r.data[i]=e(n,t.data[i]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Cx(t,e){return t&e}function Rx(t){var e=we();return this.bitwiseTo(t,Cx,e),e}function hu(t,e){return t|e}function Tx(t){var e=we();return this.bitwiseTo(t,hu,e),e}function Ky(t,e){return t^e}function Px(t){var e=we();return this.bitwiseTo(t,Ky,e),e}function Fy(t,e){return t&~e}function Mx(t){var e=we();return this.bitwiseTo(t,Fy,e),e}function Dx(){for(var t=we(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Ox(t){var e=we();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function kx(t){var e=we();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Nx(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function Lx(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Nx(this.data[t]);return this.s<0?this.t*this.DB:-1}function qx(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Kx(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=qx(this.data[r]^e);return t}function Fx(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Ux(t,e){var r=K.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function zx(t){return this.changeBit(t,hu)}function Gx(t){return this.changeBit(t,Fy)}function Vx(t){return this.changeBit(t,Ky)}function Hx(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]+t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i+=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e.data[r++]=i:i<-1&&(e.data[r++]=this.DV+i),e.t=r,e.clamp()}function jx(t){var e=we();return this.addTo(t,e),e}function Wx(t){var e=we();return this.subTo(t,e),e}function Yx(t){var e=we();return this.multiplyTo(t,e),e}function $x(t){var e=we();return this.divRemTo(t,e,null),e}function Zx(t){var e=we();return this.divRemTo(t,null,e),e}function Jx(t){var e=we(),r=we();return this.divRemTo(t,e,r),new Array(e,r)}function Xx(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Qx(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function ka(){}function Uy(t){return t}function ew(t,e,r){t.multiplyTo(e,r)}function tw(t,e){t.squareTo(e)}ka.prototype.convert=Uy;ka.prototype.revert=Uy;ka.prototype.mulTo=ew;ka.prototype.sqrTo=tw;function rw(t){return this.exp(t,new ka)}function iw(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()}function nw(t,e,r){--e;var i=r.t=this.t+t.t-e;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r.data[this.t+i-e]=this.am(e-i,t.data[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)}function Fs(t){this.r2=we(),this.q3=we(),K.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function sw(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=we();return t.copyTo(e),this.reduce(e),e}function aw(t){return t}function ow(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function fw(t,e){t.squareTo(e),this.reduce(e)}function cw(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Fs.prototype.convert=sw;Fs.prototype.revert=aw;Fs.prototype.reduce=ow;Fs.prototype.mulTo=cw;Fs.prototype.sqrTo=fw;function uw(t,e){var r=t.bitLength(),i,n=pn(1),s;if(r<=0)return n;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?s=new Qn(e):e.isEven()?s=new Fs(e):s=new es(e);var a=new Array,o=3,u=i-1,c=(1<<i)-1;if(a[1]=s.convert(this),i>1){var f=we();for(s.sqrTo(a[1],f);o<=c;)a[o]=we(),s.mulTo(f,a[o-2],a[o]),o+=2}var h=t.t-1,d,g=!0,b=we(),x;for(r=pf(t.data[h])-1;h>=0;){for(r>=u?d=t.data[h]>>r-u&c:(d=(t.data[h]&(1<<r+1)-1)<<u-r,h>0&&(d|=t.data[h-1]>>this.DB+r-u)),o=i;(d&1)==0;)d>>=1,--o;if((r-=o)<0&&(r+=this.DB,--h),g)a[d].copyTo(n),g=!1;else{for(;o>1;)s.sqrTo(n,b),s.sqrTo(b,n),o-=2;o>0?s.sqrTo(n,b):(x=n,n=b,b=x),s.mulTo(b,a[d],n)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(n,b),x=n,n=b,b=x,--r<0&&(r=this.DB-1,--h)}return s.revert(n)}function hw(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var i=e;e=r,r=i}var n=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function lw(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var i=this.t-1;i>=0;--i)r=(e*r+this.data[i])%t;return r}function dw(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return K.ZERO;for(var r=t.clone(),i=this.clone(),n=pn(1),s=pn(0),a=pn(0),o=pn(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!n.isEven()||!s.isEven())&&(n.addTo(this,n),s.subTo(t,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(i)>=0?(r.subTo(i,r),e&&n.subTo(a,n),s.subTo(o,s)):(i.subTo(r,i),e&&a.subTo(n,a),o.subTo(s,o))}if(i.compareTo(K.ONE)!=0)return K.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var zr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],pw=(1<<26)/zr[zr.length-1];function yw(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=zr[zr.length-1]){for(e=0;e<zr.length;++e)if(r.data[0]==zr[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<zr.length;){for(var i=zr[e],n=e+1;n<zr.length&&i<pw;)i*=zr[n++];for(i=r.modInt(i);e<n;)if(i%zr[e++]==0)return!1}return r.millerRabin(t)}function bw(t){var e=this.subtract(K.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i=e.shiftRight(r),n=gw(),s,a=0;a<t;++a){do s=new K(this.bitLength(),n);while(s.compareTo(K.ONE)<=0||s.compareTo(e)>=0);var o=s.modPow(i,this);if(o.compareTo(K.ONE)!=0&&o.compareTo(e)!=0){for(var u=1;u++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(K.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function gw(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}K.prototype.chunkSize=vx;K.prototype.toRadix=xx;K.prototype.fromRadix=wx;K.prototype.fromNumber=_x;K.prototype.bitwiseTo=Bx;K.prototype.changeBit=Ux;K.prototype.addTo=Hx;K.prototype.dMultiply=Xx;K.prototype.dAddOffset=Qx;K.prototype.multiplyLowerTo=iw;K.prototype.multiplyUpperTo=nw;K.prototype.modInt=lw;K.prototype.millerRabin=bw;K.prototype.clone=px;K.prototype.intValue=yx;K.prototype.byteValue=bx;K.prototype.shortValue=gx;K.prototype.signum=mx;K.prototype.toByteArray=Ex;K.prototype.equals=Sx;K.prototype.min=Ax;K.prototype.max=Ix;K.prototype.and=Rx;K.prototype.or=Tx;K.prototype.xor=Px;K.prototype.andNot=Mx;K.prototype.not=Dx;K.prototype.shiftLeft=Ox;K.prototype.shiftRight=kx;K.prototype.getLowestSetBit=Lx;K.prototype.bitCount=Kx;K.prototype.testBit=Fx;K.prototype.setBit=zx;K.prototype.clearBit=Gx;K.prototype.flipBit=Vx;K.prototype.add=jx;K.prototype.subtract=Wx;K.prototype.multiply=Yx;K.prototype.divide=$x;K.prototype.remainder=Zx;K.prototype.divideAndRemainder=Jx;K.prototype.modPow=uw;K.prototype.modInverse=dw;K.prototype.pow=rw;K.prototype.gcd=hw;K.prototype.isProbablePrime=yw});var Wy=R((qC,jy)=>{var ui=ye();Xn();$e();var Gy=jy.exports=ui.sha1=ui.sha1||{};ui.md.sha1=ui.md.algorithms.sha1=Gy;Gy.create=function(){Vy||vw();var t=null,e=ui.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=ui.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=ui.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=a[1],a[1]=a[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),Hy(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=ui.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(lu.substr(0,i.blockLength-a));for(var o,u,c=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)o=i.fullMessageLength[f+1]*8,u=o/4294967296>>>0,c+=u,n.putInt32(c>>>0),c=o>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Hy(h,r,n);var d=ui.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d},i};var lu=null,Vy=!1;function vw(){lu=String.fromCharCode(128),lu+=ui.util.fillString(String.fromCharCode(0),64),Vy=!0}function Hy(t,e,r){for(var i,n,s,a,o,u,c,f,h=r.length();h>=64;){for(n=t.h0,s=t.h1,a=t.h2,o=t.h3,u=t.h4,f=0;f<16;++f)i=r.getInt32(),e[f]=i,c=o^s&(a^o),i=(n<<5|n>>>27)+c+u+1518500249+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<20;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,c=o^s&(a^o),i=(n<<5|n>>>27)+c+u+1518500249+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<32;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+1859775393+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<40;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+1859775393+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<60;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s&a|o&(s^a),i=(n<<5|n>>>27)+c+u+2400959708+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<80;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,c=s^a^o,i=(n<<5|n>>>27)+c+u+3395469782+i,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;t.h0=t.h0+n|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,t.h4=t.h4+u|0,h-=64}}});var Zy=R((KC,$y)=>{var hi=ye();$e();qs();Wy();var Yy=$y.exports=hi.pkcs1=hi.pkcs1||{};Yy.encode_rsa_oaep=function(t,e,r){var i,n,s,a;typeof r=="string"?(i=r,n=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,n=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=hi.md.sha1.create(),a||(a=s);var o=Math.ceil(t.n.bitLength()/8),u=o-2*s.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}i||(i=""),s.update(i,"raw");for(var f=s.digest(),h="",d=u-e.length,g=0;g<d;g++)h+="\0";var b=f.getBytes()+h+""+e;if(!n)n=hi.random.getBytes(s.digestLength);else if(n.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=n.length,c.digestLength=s.digestLength,c}var x=yf(n,o-s.digestLength-1,a),I=hi.util.xorBytes(b,x,b.length),S=yf(I,s.digestLength,a),P=hi.util.xorBytes(n,S,n.length);return"\0"+P+I};Yy.decode_rsa_oaep=function(t,e,r){var i,n,s;typeof r=="string"?(i=r,n=arguments[3]||void 0):r&&(i=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var I=new Error("RSAES-OAEP encoded message length is invalid.");throw I.length=e.length,I.expectedLength=a,I}if(n===void 0?n=hi.md.sha1.create():n.start(),s||(s=n),a<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var o=n.digest().getBytes(),u=e.charAt(0),c=e.substring(1,n.digestLength+1),f=e.substring(1+n.digestLength),h=yf(f,n.digestLength,s),d=hi.util.xorBytes(c,h,c.length),g=yf(d,a-n.digestLength-1,s),b=hi.util.xorBytes(f,g,f.length),x=b.substring(0,n.digestLength),I=u!=="\0",S=0;S<n.digestLength;++S)I|=o.charAt(S)!==x.charAt(S);for(var P=1,M=n.digestLength,q=n.digestLength;q<b.length;q++){var L=b.charCodeAt(q),O=L&1^1,H=P?65534:0;I|=L&H,P=P&O,M+=P}if(I||b.charCodeAt(M)!==1)throw new Error("Invalid RSAES-OAEP padding.");return b.substring(M+1)};function yf(t,e,r){r||(r=hi.md.sha1.create());for(var i="",n=Math.ceil(e/r.digestLength),s=0;s<n;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}});var Jy=R((FC,du)=>{var yn=ye();$e();Us();qs();(function(){if(yn.prime){du.exports=yn.prime;return}var t=du.exports=yn.prime=yn.prime||{},e=yn.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(h,d){return h|d};t.generateProbablePrime=function(h,d,g){typeof d=="function"&&(g=d,d={}),d=d||{};var b=d.algorithm||"PRIMEINC";typeof b=="string"&&(b={name:b}),b.options=b.options||{};var x=d.prng||yn.random,I={nextBytes:function(S){for(var P=x.getBytesSync(S.length),M=0;M<S.length;++M)S[M]=P.charCodeAt(M)}};if(b.name==="PRIMEINC")return s(h,I,b.options,g);throw new Error("Invalid prime generation algorithm: "+b.name)};function s(h,d,g,b){return"workers"in g?u(h,d,g,b):a(h,d,g,b)}function a(h,d,g,b){var x=c(h,d),I=0,S=f(x.bitLength());"millerRabinTests"in g&&(S=g.millerRabinTests);var P=10;"maxBlockTime"in g&&(P=g.maxBlockTime),o(x,h,d,I,S,P,b)}function o(h,d,g,b,x,I,S){var P=+new Date;do{if(h.bitLength()>d&&(h=c(d,g)),h.isProbablePrime(x))return S(null,h);h.dAddOffset(r[b++%8],0)}while(I<0||+new Date-P<I);yn.util.setImmediate(function(){o(h,d,g,b,x,I,S)})}function u(h,d,g,b){if(typeof Worker=="undefined")return a(h,d,g,b);var x=c(h,d),I=g.workers,S=g.workLoad||100,P=S*30/8,M=g.workerScript||"forge/prime.worker.js";if(I===-1)return yn.util.estimateCores(function(L,O){L&&(O=2),I=O-1,q()});q();function q(){I=Math.max(1,I);for(var L=[],O=0;O<I;++O)L[O]=new Worker(M);for(var H=I,O=0;O<I;++O)L[O].addEventListener("message",Q);var z=!1;function Q(A){if(!z){--H;var l=A.data;if(l.found){for(var y=0;y<L.length;++y)L[y].terminate();return z=!0,b(null,new e(l.prime,16))}x.bitLength()>h&&(x=c(h,d));var v=x.toString(16);A.target.postMessage({hex:v,workLoad:S}),x.dAddOffset(P,0)}}}}function c(h,d){var g=new e(h,d),b=h-1;return g.testBit(b)||g.bitwiseTo(e.ONE.shiftLeft(b),n,g),g.dAddOffset(31-g.mod(i).byteValue(),0),g}function f(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var zs=R((UC,nb)=>{var ne=ye();dn();Us();rf();Zy();Jy();qs();$e();typeof ve=="undefined"&&(ve=ne.jsbn.BigInteger);var ve,pu=ne.util.isNodejs?Ls():null,D=ne.asn1,Ar=ne.util;ne.pki=ne.pki||{};nb.exports=ne.pki.rsa=ne.rsa=ne.rsa||{};var se=ne.pki,mw=[6,4,2,4,2,4,6,2],xw={name:"PrivateKeyInfo",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:D.Class.UNIVERSAL,type:D.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ww={name:"RSAPrivateKey",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},_w={name:"RSAPublicKey",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:D.Class.UNIVERSAL,type:D.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Ew=ne.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:D.Class.UNIVERSAL,type:D.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:D.Class.UNIVERSAL,type:D.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:D.Class.UNIVERSAL,type:D.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Sw=function(t){var e;if(t.algorithm in se.oids)e=se.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var i=D.oidToDer(e).getBytes(),n=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[]),s=D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[]);s.value.push(D.create(D.Class.UNIVERSAL,D.Type.OID,!1,i)),s.value.push(D.create(D.Class.UNIVERSAL,D.Type.NULL,!1,""));var a=D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(s),n.value.push(a),D.toDer(n).getBytes()},Xy=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(ve.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(ve.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new ve(ne.util.bytesToHex(ne.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(ve.ONE));t=t.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);n.compareTo(s)<0;)n=n.add(e.p);var a=n.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(i.modInverse(e.n)).mod(e.n),a};se.rsa.encrypt=function(t,e,r){var i=r,n,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(i=r===2,n=Qy(t,e,r)):(n=ne.util.createBuffer(),n.putBytes(t));for(var a=new ve(n.toHex(),16),o=Xy(a,e,i),u=o.toString(16),c=ne.util.createBuffer(),f=s-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(ne.util.hexToBytes(u)),c.getBytes()};se.rsa.decrypt=function(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8);if(t.length!==n){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=n,s}var a=new ve(ne.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=Xy(a,e,r),u=o.toString(16),c=ne.util.createBuffer(),f=n-Math.ceil(u.length/2);f>0;)c.putByte(0),--f;return c.putBytes(ne.util.hexToBytes(u)),i!==!1?bf(c.getBytes(),e,r):c.getBytes()};se.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var i=r.prng||ne.random,n={nextBytes:function(o){for(var u=i.getBytesSync(o.length),c=0;c<o.length;++c)o[c]=u.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:n,eInt:e||65537,e:new ve(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};se.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new ve(null);r.fromInt(30);for(var i=0,n=function(h,d){return h|d},s=+new Date,a,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new ve(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(ve.ONE.shiftLeft(c),n,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(Iw(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(mw[i++%8],0):t.pqState===2?t.pqState=t.num.subtract(ve.ONE).gcd(t.e).compareTo(ve.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(ve.ONE),t.q1=t.q.subtract(ve.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(ve.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var f=t.e.modInverse(t.phi);t.keys={privateKey:se.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:se.rsa.setPublicKey(t.n,t.e)}}a=+new Date,o+=a-s,s=a}return t.keys!==null};se.rsa.generateKeyPair=function(t,e,r,i){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!ne.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(i){if(eb("generateKeyPair"))return pu.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,u,c){if(o)return i(o);i(null,{privateKey:se.privateKeyFromPem(c),publicKey:se.publicKeyFromPem(u)})});if(tb("generateKey")&&tb("exportKey"))return Ar.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:ib(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Ar.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){i(o)}).then(function(o){if(o){var u=se.privateKeyFromAsn1(D.fromDer(ne.util.createBuffer(o)));i(null,{privateKey:u,publicKey:se.setRsaPublicKey(u.n,u.e)})}});if(rb("generateKey")&&rb("exportKey")){var n=Ar.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:ib(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(o){var u=o.target.result,c=Ar.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(f){var h=f.target.result,d=se.privateKeyFromAsn1(D.fromDer(ne.util.createBuffer(h)));i(null,{privateKey:d,publicKey:se.setRsaPublicKey(d.n,d.e)})},c.onerror=function(f){i(f)}},n.onerror=function(o){i(o)};return}}else if(eb("generateKeyPairSync")){var s=pu.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:se.privateKeyFromPem(s.privateKey),publicKey:se.publicKeyFromPem(s.publicKey)}}}var a=se.rsa.createKeyPairGenerationState(t,e,r);if(!i)return se.rsa.stepKeyPairGenerationState(a,0),a.keys;Aw(a,r,i)};se.setRsaPublicKey=se.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(i,n,s){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(o,u,c){return Qy(o,u,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(o,u){return ne.pkcs1.encode_rsa_oaep(u,o,s)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(o){return o}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var a=n.encode(i,r,!0);return se.rsa.encrypt(a,r,!0)},r.verify=function(i,n,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(o,u){u=bf(u,r,!0);var c=D.fromDer(u);return o===c.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(o,u){return u=bf(u,r,!0),o===u}});var a=se.rsa.decrypt(n,r,!0,!1);return s.verify(i,a,r.n.bitLength())},r};se.setRsaPrivateKey=se.rsa.setPrivateKey=function(t,e,r,i,n,s,a,o){var u={n:t,e,d:r,p:i,q:n,dP:s,dQ:a,qInv:o};return u.decrypt=function(c,f,h){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var d=se.rsa.decrypt(c,u,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:bf};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(g,b){return ne.pkcs1.decode_rsa_oaep(b,g,h)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(d,u,!1)},u.sign=function(c,f){var h=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:Sw},h=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return c}},h=1);var d=f.encode(c,u.n.bitLength());return se.rsa.encrypt(d,u,h)},u};se.wrapRsaPrivateKey=function(t){return D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,D.integerToDer(0).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(se.oids.rsaEncryption).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.NULL,!1,"")]),D.create(D.Class.UNIVERSAL,D.Type.OCTETSTRING,!1,D.toDer(t).getBytes())])};se.privateKeyFromAsn1=function(t){var e={},r=[];if(D.validate(t,xw,e,r)&&(t=D.fromDer(ne.util.createBuffer(e.privateKey))),e={},r=[],!D.validate(t,ww,e,r)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=r,i}var n,s,a,o,u,c,f,h;return n=ne.util.createBuffer(e.privateKeyModulus).toHex(),s=ne.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=ne.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=ne.util.createBuffer(e.privateKeyPrime1).toHex(),u=ne.util.createBuffer(e.privateKeyPrime2).toHex(),c=ne.util.createBuffer(e.privateKeyExponent1).toHex(),f=ne.util.createBuffer(e.privateKeyExponent2).toHex(),h=ne.util.createBuffer(e.privateKeyCoefficient).toHex(),se.setRsaPrivateKey(new ve(n,16),new ve(s,16),new ve(a,16),new ve(o,16),new ve(u,16),new ve(c,16),new ve(f,16),new ve(h,16))};se.privateKeyToAsn1=se.privateKeyToRSAPrivateKey=function(t){return D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,D.integerToDer(0).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.n)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.e)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.d)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.p)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.q)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.dP)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.dQ)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.qInv))])};se.publicKeyFromAsn1=function(t){var e={},r=[];if(D.validate(t,Ew,e,r)){var i=D.derToOid(e.publicKeyOid);if(i!==se.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}t=e.rsaPublicKey}if(r=[],!D.validate(t,_w,e,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var s=ne.util.createBuffer(e.publicKeyModulus).toHex(),a=ne.util.createBuffer(e.publicKeyExponent).toHex();return se.setRsaPublicKey(new ve(s,16),new ve(a,16))};se.publicKeyToAsn1=se.publicKeyToSubjectPublicKeyInfo=function(t){return D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.OID,!1,D.oidToDer(se.oids.rsaEncryption).getBytes()),D.create(D.Class.UNIVERSAL,D.Type.NULL,!1,"")]),D.create(D.Class.UNIVERSAL,D.Type.BITSTRING,!1,[se.publicKeyToRSAPublicKey(t)])])};se.publicKeyToRSAPublicKey=function(t){return D.create(D.Class.UNIVERSAL,D.Type.SEQUENCE,!0,[D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.n)),D.create(D.Class.UNIVERSAL,D.Type.INTEGER,!1,li(t.e))])};function Qy(t,e,r){var i=ne.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(t.length>n-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=n-11,s}i.putByte(0),i.putByte(r);var a=n-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var u=0;u<a;++u)i.putByte(o)}else for(;a>0;){for(var c=0,f=ne.random.getBytes(a),u=0;u<a;++u)o=f.charCodeAt(u),o===0?++c:i.putByte(o);a=c}return i.putByte(0),i.putBytes(t),i}function bf(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8),s=ne.util.createBuffer(t),a=s.getByte(),o=s.getByte();if(a!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var u=0;if(o===0){u=n-3-i;for(var c=0;c<u;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(u=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++u}else if(o===2)for(u=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++u}var f=s.getByte();if(f!==0||u!==n-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function Aw(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){s(t.pBits,function(o,u){if(o)return r(o);if(t.p=u,t.q!==null)return a(o,t.q);s(t.qBits,a)})}function s(o,u){ne.prime.generateProbablePrime(o,i,u)}function a(o,u){if(o)return r(o);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(ve.ONE).gcd(t.e).compareTo(ve.ONE)!==0){t.p=null,n();return}if(t.q.subtract(ve.ONE).gcd(t.e).compareTo(ve.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract(ve.ONE),t.q1=t.q.subtract(ve.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(ve.ONE)!==0){t.p=t.q=null,n();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var f=t.e.modInverse(t.phi);t.keys={privateKey:se.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:se.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function li(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=ne.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function Iw(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function eb(t){return ne.util.isNodejs&&typeof pu[t]=="function"}function tb(t){return typeof Ar.globalScope!="undefined"&&typeof Ar.globalScope.crypto=="object"&&typeof Ar.globalScope.crypto.subtle=="object"&&typeof Ar.globalScope.crypto.subtle[t]=="function"}function rb(t){return typeof Ar.globalScope!="undefined"&&typeof Ar.globalScope.msCrypto=="object"&&typeof Ar.globalScope.msCrypto.subtle=="object"&&typeof Ar.globalScope.msCrypto.subtle[t]=="function"}function ib(t){for(var e=ne.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}});var yu=R((zC,cb)=>{var $=ye();su();dn();py();Xn();rf();my();_y();qs();Oy();zs();$e();typeof sb=="undefined"&&(sb=$.jsbn.BigInteger);var sb,N=$.asn1,oe=$.pki=$.pki||{};cb.exports=oe.pbe=$.pbe=$.pbe||{};var ts=oe.oids,Bw={name:"EncryptedPrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Cw={name:"PBES2Algorithms",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Rw={name:"pkcs-12PbeParams",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"iterations"}]};oe.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i=$.random.getBytesSync(r.saltSize),n=r.count,s=N.integerToDer(n),a,o,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,f,h;switch(r.algorithm){case"aes128":a=16,c=16,f=ts["aes128-CBC"],h=$.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,f=ts["aes192-CBC"],h=$.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,f=ts["aes256-CBC"],h=$.aes.createEncryptionCipher;break;case"des":a=8,c=8,f=ts.desCBC,h=$.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),b=fb(g),x=$.pkcs5.pbkdf2(e,i,n,a,b),I=$.random.getBytesSync(c),S=h(x);S.start(I),S.update(N.toDer(t)),S.finish(),u=S.output.getBytes();var P=Tw(i,s,a,g);o=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(ts.pkcs5PBES2).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(ts.pkcs5PBKDF2).getBytes()),P]),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(f).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,I)])])])}else if(r.algorithm==="3des"){a=24;var M=new $.util.ByteBuffer(i),x=oe.pbe.generatePkcs12Key(e,M,1,n,a),I=oe.pbe.generatePkcs12Key(e,M,2,n,a),S=$.des.createEncryptionCipher(x);S.start(I),S.update(N.toDer(t)),S.finish(),u=S.output.getBytes(),o=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(ts["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,i),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var q=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[o,N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,u)]);return q};oe.decryptPrivateKeyInfo=function(t,e){var r=null,i={},n=[];if(!N.validate(t,Bw,i,n)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=N.derToOid(i.encryptionOid),o=oe.pbe.getCipher(a,i.encryptionParams,e),u=$.util.createBuffer(i.encryptedData);return o.update(u),o.finish()&&(r=N.fromDer(o.output)),r};oe.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:N.toDer(t).getBytes()};return $.pem.encode(r,{maxline:e})};oe.encryptedPrivateKeyFromPem=function(t){var e=$.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return N.fromDer(e.body)};oe.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var i=oe.wrapRsaPrivateKey(oe.privateKeyToAsn1(t));return i=oe.encryptPrivateKeyInfo(i,e,r),oe.encryptedPrivateKeyToPem(i)}var n,s,a,o;switch(r.algorithm){case"aes128":n="AES-128-CBC",a=16,s=$.random.getBytesSync(16),o=$.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",a=24,s=$.random.getBytesSync(16),o=$.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",a=32,s=$.random.getBytesSync(16),o=$.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",a=24,s=$.random.getBytesSync(8),o=$.des.createEncryptionCipher;break;case"des":n="DES-CBC",a=8,s=$.random.getBytesSync(8),o=$.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=$.pbe.opensslDeriveBytes(e,s.substr(0,8),a),f=o(c);f.start(s),f.update(N.toDer(oe.privateKeyToAsn1(t))),f.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:$.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return $.pem.encode(h)};oe.decryptRsaPrivateKey=function(t,e){var r=null,i=$.pem.decode(t)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var s,a;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,a=$.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=$.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=$.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=$.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=$.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=function(h){return $.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,a=function(h){return $.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,a=function(h){return $.rc2.createDecryptionCipher(h,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var o=$.util.hexToBytes(i.dekInfo.parameters),u=$.pbe.opensslDeriveBytes(e,o.substr(0,8),s),c=a(u);if(c.start(o),c.update($.util.createBuffer(i.body)),c.finish())r=c.output.getBytes();else return r}else r=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?r=oe.decryptPrivateKeyInfo(N.fromDer(r),e):r=N.fromDer(r),r!==null&&(r=oe.privateKeyFromAsn1(r)),r};oe.pbe.generatePkcs12Key=function(t,e,r,i,n,s){var a,o;if(typeof s=="undefined"||s===null){if(!("sha1"in $.md))throw new Error('"sha1" hash algorithm unavailable.');s=$.md.sha1.create()}var u=s.digestLength,c=s.blockLength,f=new $.util.ByteBuffer,h=new $.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)h.putInt16(t.charCodeAt(o));h.putInt16(0)}var d=h.length(),g=e.length(),b=new $.util.ByteBuffer;b.fillWithByte(r,c);var x=c*Math.ceil(g/c),I=new $.util.ByteBuffer;for(o=0;o<x;o++)I.putByte(e.at(o%g));var S=c*Math.ceil(d/c),P=new $.util.ByteBuffer;for(o=0;o<S;o++)P.putByte(h.at(o%d));var M=I;M.putBuffer(P);for(var q=Math.ceil(n/u),L=1;L<=q;L++){var O=new $.util.ByteBuffer;O.putBytes(b.bytes()),O.putBytes(M.bytes());for(var H=0;H<i;H++)s.start(),s.update(O.getBytes()),O=s.digest();var z=new $.util.ByteBuffer;for(o=0;o<c;o++)z.putByte(O.at(o%u));var Q=Math.ceil(g/c)+Math.ceil(d/c),A=new $.util.ByteBuffer;for(a=0;a<Q;a++){var l=new $.util.ByteBuffer(M.getBytes(c)),y=511;for(o=z.length()-1;o>=0;o--)y=y>>8,y+=z.at(o)+l.at(o),l.setAt(o,y&255);A.putBuffer(l)}M=A,f.putBuffer(O)}return f.truncate(f.length()-n),f};oe.pbe.getCipher=function(t,e,r){switch(t){case oe.oids.pkcs5PBES2:return oe.pbe.getCipherForPBES2(t,e,r);case oe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case oe.oids["pbewithSHAAnd40BitRC2-CBC"]:return oe.pbe.getCipherForPKCS12PBE(t,e,r);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=t,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};oe.pbe.getCipherForPBES2=function(t,e,r){var i={},n=[];if(!N.validate(e,Cw,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}if(t=N.derToOid(i.kdfOid),t!==oe.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=N.derToOid(i.encOid),t!==oe.oids["aes128-CBC"]&&t!==oe.oids["aes192-CBC"]&&t!==oe.oids["aes256-CBC"]&&t!==oe.oids["des-EDE3-CBC"]&&t!==oe.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=i.kdfSalt,o=$.util.createBuffer(i.kdfIterationCount);o=o.getInt(o.length()<<3);var u,c;switch(oe.oids[t]){case"aes128-CBC":u=16,c=$.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=$.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=$.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=$.des.createDecryptionCipher;break;case"desCBC":u=8,c=$.des.createDecryptionCipher;break}var f=ob(i.prfOid),h=$.pkcs5.pbkdf2(r,a,o,u,f),d=i.encIv,g=c(h);return g.start(d),g};oe.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},n=[];if(!N.validate(e,Rw,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=$.util.createBuffer(i.salt),o=$.util.createBuffer(i.iterations);o=o.getInt(o.length()<<3);var u,c,f;switch(t){case oe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,f=$.des.startDecrypting;break;case oe.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,f=function(x,I){var S=$.rc2.createDecryptionCipher(x,40);return S.start(I,null),S};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=ob(i.prfOid),d=oe.pbe.generatePkcs12Key(r,a,1,o,u,h);h.start();var g=oe.pbe.generatePkcs12Key(r,a,2,o,c,h);return f(d,g)};oe.pbe.opensslDeriveBytes=function(t,e,r,i){if(typeof i=="undefined"||i===null){if(!("md5"in $.md))throw new Error('"md5" hash algorithm unavailable.');i=$.md.md5.create()}e===null&&(e="");for(var n=[ab(i,t+e)],s=16,a=1;s<r;++a,s+=16)n.push(ab(i,n[a-1]+t+e));return n.join("").substr(0,r)};function ab(t,e){return t.start().update(e).digest().getBytes()}function ob(t){var e;if(!t)e="hmacWithSHA1";else if(e=oe.oids[N.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return fb(e)}function fb(t){var e=$.md;switch(t){case"hmacWithSHA224":e=$.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Tw(t,e,r,i){var n=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,t),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,$.util.hexToBytes(r.toString(16))),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(oe.oids[i]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")])),n}});var Gr={};Vt(Gr,{concat:()=>Pw});function Pw(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}var Vr=Ce(()=>{});var Na=R(ub=>{"use strict";ub.get=(t=globalThis)=>{let e=t.crypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var bu=R((VC,lb)=>{"use strict";var{concat:Mw}=(Vr(),Gr),{fromString:hb}=(jt(),Ht),Dw=Na();function Ow({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let a=Dw.get();r*=8;async function o(c,f){let h=a.getRandomValues(new Uint8Array(n)),d=a.getRandomValues(new Uint8Array(e)),g={name:t,iv:d},b={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},x=await a.subtle.importKey("raw",hb(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),I=await a.subtle.deriveKey(b,x,{name:t,length:r},!0,["encrypt"]),S=await a.subtle.encrypt(g,I,c);return Mw([h,g.iv,new Uint8Array(S)])}async function u(c,f){let h=c.slice(0,n),d=c.slice(n,n+e),g=c.slice(n+e),b={name:t,iv:d},x={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},I=await a.subtle.importKey("raw",hb(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),S=await a.subtle.deriveKey(x,I,{name:t,length:r},!0,["decrypt"]),P=await a.subtle.decrypt(b,S,g);return new Uint8Array(P)}return{encrypt:o,decrypt:u}}lb.exports={create:Ow}});var pb=R((HC,db)=>{"use strict";var{base64:kw}=($n(),cn),Nw=bu();db.exports={import:async function(t,e){let r=kw.decode(t);return await Nw.create().decrypt(r,e)}}});var Hr={};Vt(Hr,{equals:()=>Lw});function Lw(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var jr=Ce(()=>{});var gf=R((jC,vb)=>{var Fe=ye();Xn();$e();var La=vb.exports=Fe.sha512=Fe.sha512||{};Fe.md.sha512=Fe.md.algorithms.sha512=La;var yb=Fe.sha384=Fe.sha512.sha384=Fe.sha512.sha384||{};yb.create=function(){return La.create("SHA-384")};Fe.md.sha384=Fe.md.algorithms.sha384=yb;Fe.sha512.sha256=Fe.sha512.sha256||{create:function(){return La.create("SHA-512/256")}};Fe.md["sha512/256"]=Fe.md.algorithms["sha512/256"]=Fe.sha512.sha256;Fe.sha512.sha224=Fe.sha512.sha224||{create:function(){return La.create("SHA-512/224")}};Fe.md["sha512/224"]=Fe.md.algorithms["sha512/224"]=Fe.sha512.sha224;La.create=function(t){if(bb||qw(),typeof t=="undefined"&&(t="SHA-512"),!(t in rs))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=rs[t],r=null,i=Fe.util.createBuffer(),n=new Array(80),s=0;s<80;++s)n[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var u=o.messageLengthSize/4,c=0;c<u;++c)o.fullMessageLength.push(0);i=Fe.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return o},o.start(),o.update=function(u,c){c==="utf8"&&(u=Fe.util.encodeUtf8(u));var f=u.length;o.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var h=o.fullMessageLength.length-1;h>=0;--h)o.fullMessageLength[h]+=f[1],f[1]=f[0]+(o.fullMessageLength[h]/4294967296>>>0),o.fullMessageLength[h]=o.fullMessageLength[h]>>>0,f[0]=f[1]/4294967296>>>0;return i.putBytes(u),gb(r,n,i),(i.read>2048||i.length()===0)&&i.compact(),o},o.digest=function(){var u=Fe.util.createBuffer();u.putBytes(i.bytes());var c=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,f=c&o.blockLength-1;u.putBytes(gu.substr(0,o.blockLength-f));for(var h,d,g=o.fullMessageLength[0]*8,b=0;b<o.fullMessageLength.length-1;++b)h=o.fullMessageLength[b+1]*8,d=h/4294967296>>>0,g+=d,u.putInt32(g>>>0),g=h>>>0;u.putInt32(g);for(var x=new Array(r.length),b=0;b<r.length;++b)x[b]=r[b].slice(0);gb(x,n,u);var I=Fe.util.createBuffer(),S;t==="SHA-512"?S=x.length:t==="SHA-384"?S=x.length-2:S=x.length-4;for(var b=0;b<S;++b)I.putInt32(x[b][0]),(b!==S-1||t!=="SHA-512/224")&&I.putInt32(x[b][1]);return I},o};var gu=null,bb=!1,vu=null,rs=null;function qw(){gu=String.fromCharCode(128),gu+=Fe.util.fillString(String.fromCharCode(0),128),vu=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],rs={},rs["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],rs["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],rs["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],rs["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],bb=!0}function gb(t,e,r){for(var i,n,s,a,o,u,c,f,h,d,g,b,x,I,S,P,M,q,L,O,H,z,Q,A,l,y,v,m,w,C,B,_,p,E,V,j=r.length();j>=128;){for(w=0;w<16;++w)e[w][0]=r.getInt32()>>>0,e[w][1]=r.getInt32()>>>0;for(;w<80;++w)_=e[w-2],C=_[0],B=_[1],i=((C>>>19|B<<13)^(B>>>29|C<<3)^C>>>6)>>>0,n=((C<<13|B>>>19)^(B<<3|C>>>29)^(C<<26|B>>>6))>>>0,E=e[w-15],C=E[0],B=E[1],s=((C>>>1|B<<31)^(C>>>8|B<<24)^C>>>7)>>>0,a=((C<<31|B>>>1)^(C<<24|B>>>8)^(C<<25|B>>>7))>>>0,p=e[w-7],V=e[w-16],B=n+p[1]+a+V[1],e[w][0]=i+p[0]+s+V[0]+(B/4294967296>>>0)>>>0,e[w][1]=B>>>0;for(x=t[0][0],I=t[0][1],S=t[1][0],P=t[1][1],M=t[2][0],q=t[2][1],L=t[3][0],O=t[3][1],H=t[4][0],z=t[4][1],Q=t[5][0],A=t[5][1],l=t[6][0],y=t[6][1],v=t[7][0],m=t[7][1],w=0;w<80;++w)c=((H>>>14|z<<18)^(H>>>18|z<<14)^(z>>>9|H<<23))>>>0,f=((H<<18|z>>>14)^(H<<14|z>>>18)^(z<<23|H>>>9))>>>0,h=(l^H&(Q^l))>>>0,d=(y^z&(A^y))>>>0,o=((x>>>28|I<<4)^(I>>>2|x<<30)^(I>>>7|x<<25))>>>0,u=((x<<4|I>>>28)^(I<<30|x>>>2)^(I<<25|x>>>7))>>>0,g=(x&S|M&(x^S))>>>0,b=(I&P|q&(I^P))>>>0,B=m+f+d+vu[w][1]+e[w][1],i=v+c+h+vu[w][0]+e[w][0]+(B/4294967296>>>0)>>>0,n=B>>>0,B=u+b,s=o+g+(B/4294967296>>>0)>>>0,a=B>>>0,v=l,m=y,l=Q,y=A,Q=H,A=z,B=O+n,H=L+i+(B/4294967296>>>0)>>>0,z=B>>>0,L=M,O=q,M=S,q=P,S=x,P=I,B=n+a,x=i+s+(B/4294967296>>>0)>>>0,I=B>>>0;B=t[0][1]+I,t[0][0]=t[0][0]+x+(B/4294967296>>>0)>>>0,t[0][1]=B>>>0,B=t[1][1]+P,t[1][0]=t[1][0]+S+(B/4294967296>>>0)>>>0,t[1][1]=B>>>0,B=t[2][1]+q,t[2][0]=t[2][0]+M+(B/4294967296>>>0)>>>0,t[2][1]=B>>>0,B=t[3][1]+O,t[3][0]=t[3][0]+L+(B/4294967296>>>0)>>>0,t[3][1]=B>>>0,B=t[4][1]+z,t[4][0]=t[4][0]+H+(B/4294967296>>>0)>>>0,t[4][1]=B>>>0,B=t[5][1]+A,t[5][0]=t[5][0]+Q+(B/4294967296>>>0)>>>0,t[5][1]=B>>>0,B=t[6][1]+y,t[6][0]=t[6][0]+l+(B/4294967296>>>0)>>>0,t[6][1]=B>>>0,B=t[7][1]+m,t[7][0]=t[7][0]+v+(B/4294967296>>>0)>>>0,t[7][1]=B>>>0,j-=128}}});var vf=R(qa=>{"use strict";$e();Us();var Kw=ye(),{fromString:Fw}=(jt(),Ht),{toString:mb}=(Xt(),Jt),{concat:xb}=(Vr(),Gr);qa.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=xb([new Uint8Array(e-r.length),r])}return mb(r,"base64url")};qa.base64urlToBigInteger=t=>{let e=qa.base64urlToBuffer(t);return new Kw.jsbn.BigInteger(mb(e,"base16"),16)};qa.base64urlToBuffer=(t,e)=>{let r=Fw(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=xb([new Uint8Array(e-r.length),r])}return r}});var Eb=R(Ka=>{"use strict";dn();zs();var bn=ye(),{bigIntegerToUintBase64url:di,base64urlToBigInteger:pi}=vf(),{fromString:wb}=(jt(),Ht),{toString:_b}=(Xt(),Jt);Ka.pkcs1ToJwk=function(t){let e=bn.asn1.fromDer(_b(t,"ascii")),r=bn.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:di(r.n),e:di(r.e),d:di(r.d),p:di(r.p),q:di(r.q),dp:di(r.dP),dq:di(r.dQ),qi:di(r.qInv),alg:"RS256",kid:"2011-04-29"}};Ka.jwkToPkcs1=function(t){let e=bn.pki.privateKeyToAsn1({n:pi(t.n),e:pi(t.e),d:pi(t.d),p:pi(t.p),q:pi(t.q),dP:pi(t.dp),dQ:pi(t.dq),qInv:pi(t.qi)});return wb(bn.asn1.toDer(e).getBytes(),"ascii")};Ka.pkixToJwk=function(t){let e=bn.asn1.fromDer(_b(t,"ascii")),r=bn.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:di(r.n),e:di(r.e),alg:"RS256",kid:"2011-04-29"}};Ka.jwkToPkix=function(t){let e=bn.pki.publicKeyToAsn1({n:pi(t.n),e:pi(t.e)});return wb(bn.asn1.toDer(e).getBytes(),"ascii")}});var Bb=R(($C,Ib)=>{"use strict";zs();var Sb=ye(),{base64urlToBigInteger:Uw}=vf();function Ab(t,e){return e.map(r=>Uw(t[r]))}function zw(t){return Sb.pki.setRsaPrivateKey(...Ab(t,["n","e","d","p","q","dp","dq","qi"]))}function Gw(t){return Sb.pki.setRsaPublicKey(...Ab(t,["n","e"]))}Ib.exports={jwk2pub:Gw,jwk2priv:zw}});var Tb=R(Ki=>{"use strict";var qi=Na(),Vw=Go(),{toString:Hw}=(Xt(),Jt),{fromString:jw}=(jt(),Ht);Ki.utils=Eb();Ki.generateKey=async function(t){let e=await qi.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Cb(e);return{privateKey:r[0],publicKey:r[1]}};Ki.unmarshalPrivateKey=async function(t){let r=[await qi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Ww(t)],i=await Cb({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};Ki.getRandomValues=Vw;Ki.hashAndSign=async function(t,e){let r=await qi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await qi.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};Ki.hashAndVerify=async function(t,e,r){let i=await qi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return qi.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function Cb(t){return Promise.all([qi.get().subtle.exportKey("jwk",t.privateKey),qi.get().subtle.exportKey("jwk",t.publicKey)])}function Ww(t){return qi.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:Yw,jwk2priv:$w}=Bb();function Rb(t,e,r,i){let n=e?Yw(t):$w(t),s=Hw(Uint8Array.from(r),"ascii"),a=i(s,n);return jw(a,"ascii")}Ki.encrypt=function(t,e){return Rb(t,!0,e,(r,i)=>i.encrypt(r))};Ki.decrypt=function(t,e){return Rb(t,!1,e,(r,i)=>i.decrypt(r))}});var mf=R((JC,Pb)=>{"use strict";var{base64:Zw}=($n(),cn),Jw=bu();Pb.exports={export:async function(t,e){let i=await Jw.create().encrypt(t,e);return Zw.encode(i)}}});var Nb=R((XC,kb)=>{"use strict";var{sha256:Mb}=(Fr(),_r),Db=We(),{equals:Ob}=(jr(),Hr),{toString:Xw}=(Xt(),Jt);gf();var xf=ye(),Ir=Tb(),wf=Qo(),Qw=mf(),_f=class{constructor(e){this._key=e}async verify(e,r){return Ir.hashAndVerify(this._key,r,e)}marshal(){return Ir.utils.jwkToPkix(this._key)}get bytes(){return wf.PublicKey.encode({Type:wf.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Ir.encrypt(this._key,e)}equals(e){return Ob(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Mb.digest(this.bytes);return e}},Fa=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Ir.getRandomValues(16)}async sign(e){return Ir.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw Db(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new _f(this._publicKey)}decrypt(e){return Ir.decrypt(this._key,e)}marshal(){return Ir.utils.jwkToPkcs1(this._key)}get bytes(){return wf.PrivateKey.encode({Type:wf.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return Ob(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Mb.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Xw(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new xf.util.ByteBuffer(this.marshal()),n=xf.asn1.fromDer(i),s=xf.pki.privateKeyFromAsn1(n),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return xf.pki.encryptRsaPrivateKey(s,e,a)}else{if(r==="libp2p-key")return Qw.export(this.bytes,e);throw Db(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function e_(t){let e=Ir.utils.pkcs1ToJwk(t),r=await Ir.unmarshalPrivateKey(e);return new Fa(r.privateKey,r.publicKey)}function t_(t){let e=Ir.utils.pkixToJwk(t);return new _f(e)}async function r_(t){let e=await Ir.unmarshalPrivateKey(t);return new Fa(e.privateKey,e.publicKey)}async function i_(t){let e=await Ir.generateKey(t);return new Fa(e.privateKey,e.publicKey)}kb.exports={RsaPublicKey:_f,RsaPrivateKey:Fa,unmarshalRsaPublicKey:t_,unmarshalRsaPrivateKey:e_,generateKeyPair:i_,fromJwk:r_}});var Gb=R((Ve,Ga)=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.utils=Ve.verify=Ve.sign=Ve.getPublicKey=Ve.SignResult=Ve.Signature=Ve.Point=Ve.ExtendedPoint=Ve.CURVE=void 0;var je={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};Ve.CURVE=je;var cr=32,Ua=19681161376707505956807079304988542015446066515923890162744021073123829784752n,n_=25063068953384623474111414158702152701244531502492656460079210482610430750235n,s_=54469307008909316920995813868745141605393597292927456921205312896311721017578n,a_=1159843021668779879193775521855586647937357759715417654439879720876111806838n,o_=40440834346308536858101042469323190826248399146238708352240133220865137265952n,Te=class{constructor(e,r,i,n){this.x=e,this.y=r,this.z=i,this.t=n}static fromAffine(e){if(!(e instanceof Ge))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ge.ZERO)?Te.ZERO:new Te(e.x,e.y,1n,F(e.x*e.y))}static toAffineBatch(e){let r=c_(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){let r=wu(e.slice(0,cr)),i=this.calcElligatorRistrettoMap(r),n=wu(e.slice(cr,cr*2)),s=this.calcElligatorRistrettoMap(n);return i.add(s)}static calcElligatorRistrettoMap(e){let{d:r}=je,i=F(Ua*e*e),n=F((i+1n)*a_),s=-1n,a=F((s-r*i)*F(i+r)),{isValid:o,value:u}=Eu(n,a),c=F(u*e);vn(c)||(c=F(-c)),o||(u=c),o||(s=i);let f=F(s*(i-1n)*o_-a),h=u*u,d=F((u+u)*a),g=F(f*n_),b=F(1n-h),x=F(1n+h);return new Te(F(d*x),F(b*g),F(g*x),F(d*b))}static fromRistrettoBytes(e){let{a:r,d:i}=je,n="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",s=wu(e);if(!l_(qb(s,cr),e)||vn(s))throw new Error(n);let a=F(s*s),o=F(1n+r*a),u=F(1n-r*a),c=F(o*o),f=F(u*u),h=F(r*i*c-f),{isValid:d,value:g}=Fb(F(h*f)),b=F(g*u),x=F(g*b*h),I=F((s+s)*b);vn(I)&&(I=F(-I));let S=F(o*x),P=F(I*S);if(!d||vn(P)||S===0n)throw new Error(n);return new Te(I,S,1n,P)}toRistrettoBytes(){let{x:e,y:r,z:i,t:n}=this,s=F((i+r)*(i-r)),a=F(e*r),{value:o}=Fb(F(s*a**2n)),u=F(o*s),c=F(o*a),f=F(u*c*n),h;vn(n*f)?([e,r]=[F(r*Ua),F(e*Ua)],h=F(u*s_)):h=c,vn(e*f)&&(r=F(-r));let d=F((i-r)*h);return vn(d)&&(d=F(-d)),qb(d,cr)}equals(e){let r=this,i=e,[n,s,a,o]=[r.t,i.t,r.z,i.z];return F(n*o)===F(s*a)}negate(){return new Te(F(-this.x),this.y,this.z,F(-this.t))}double(){let e=this.x,r=this.y,i=this.z,{a:n}=je,s=F(e**2n),a=F(r**2n),o=F(2n*i**2n),u=F(n*s),c=F((e+r)**2n-s-a),f=F(u+a),h=F(f-o),d=F(u-a),g=F(c*h),b=F(f*d),x=F(c*d),I=F(h*f);return new Te(g,b,I,x)}add(e){let r=this.x,i=this.y,n=this.z,s=this.t,a=e.x,o=e.y,u=e.z,c=e.t,f=F((i-r)*(o+a)),h=F((i+r)*(o-a)),d=F(h-f);if(d===0n)return this.double();let g=F(n*2n*c),b=F(s*2n*u),x=F(b+g),I=F(h+f),S=F(b-g),P=F(x*d),M=F(I*S),q=F(x*S),L=F(d*I);return new Te(P,M,L,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!Kb(e))throw new TypeError("Point#multiply: expected number or bigint");let r=F(BigInt(e),je.n);if(r===1n)return this;let i=Te.ZERO,n=this;for(;r>0n;)r&1n&&(i=i.add(n)),n=n.double(),r>>=1n;return i}precomputeWindow(e){let r=256/e+1,i=[],n=this,s=n;for(let a=0;a<r;a++){s=n,i.push(s);for(let o=1;o<2**(e-1);o++)s=s.add(n),i.push(s);n=s.double()}return i}wNAF(e,r){!r&&this.equals(Te.BASE)&&(r=Ge.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&mu.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=Te.normalizeZ(n),mu.set(r,n)));let s=Te.ZERO,a=Te.ZERO,o=256/i+1,u=2**(i-1),c=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let d=0;d<o;d++){let g=d*u,b=Number(e&c);if(e>>=h,b>u&&(b-=f,e+=1n),b===0)a=a.add(d%2?n[g].negate():n[g]);else{let x=n[g+Math.abs(b)-1];s=s.add(b<0?x.negate():x)}}return[s,a]}multiply(e,r){if(!Kb(e))throw new TypeError("Point#multiply: expected number or bigint");let i=F(BigInt(e),je.n);return Te.normalizeZ(this.wNAF(i,r))[0]}toAffine(e=_u(this.z)){let r=F(this.x*e),i=F(this.y*e);return new Ge(r,i)}};Ve.ExtendedPoint=Te;Te.BASE=new Te(je.Gx,je.Gy,1n,F(je.Gx*je.Gy));Te.ZERO=new Te(0n,1n,1n,0n);var mu=new WeakMap,Ge=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,mu.delete(this)}static fromHex(e){let{d:r,P:i}=je,n=e instanceof Uint8Array?e:za(e);if(n.length!==32)throw new Error("Point.fromHex: expected 32 bytes");let s=n[31],a=s&~128,o=(s&128)!=0,u=Uint8Array.from(Array.from(n.slice(0,31)).concat(a)),c=Gs(u);if(c>=i)throw new Error("Point.fromHex expects hex <= Fp");let f=F(c*c),h=F(f-1n),d=F(r*f+1n),{isValid:g,value:b}=Eu(h,d);if(!g)throw new Error("Point.fromHex: invalid y coordinate");let x=(b&1n)===1n;return o!==x&&(b=F(-b)),new Ge(b,c)}static async fromPrivateKey(e){let r=await Ve.utils.sha512(zb(e));return Ge.BASE.multiply(Ub(r))}toRawBytes(){let e=xu(this.y),r=new Uint8Array(cr);for(let n=e.length-2,s=0;s<cr&&n>=0;n-=2,s++)r[s]=Number.parseInt(e[n]+e[n+1],16);let i=this.x&1n?128:0;return r[cr-1]|=i,r}toHex(){return Lb(this.toRawBytes())}toX25519(){return F((1n+this.y)*_u(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ge(F(-this.x),this.y)}add(e){return Te.fromAffine(this).add(Te.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Te.fromAffine(this).multiply(e,this).toAffine()}};Ve.Point=Ge;Ge.BASE=new Ge(je.Gx,je.Gy);Ge.ZERO=new Ge(0n,1n);var gn=class{constructor(e,r){this.r=e,this.s=r}static fromHex(e){e=Au(e);let r=Ge.fromHex(e.slice(0,32)),i=Gs(e.slice(32));if(!d_(i))throw new Error("Signature.fromHex expects s <= CURVE.n");return new gn(r,i)}toRawBytes(){let e=za(xu(this.s)).reverse(),r=new Uint8Array(cr);r.set(e);let i=new Uint8Array(cr*2);return i.set(this.r.toRawBytes()),i.set(r,32),i}toHex(){return Lb(this.toRawBytes())}};Ve.Signature=gn;Ve.SignResult=gn;function f_(...t){if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}function Lb(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function za(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2;e[r]=Number.parseInt(t.slice(i,i+2),16)}return e}function xu(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function qb(t,e=cr){let r=xu(t).padStart(e*2,"0");return za(r).reverse()}function vn(t){return(F(t)&1n)===1n}function Kb(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function Gs(t){let e=0n;for(let r=0;r<t.length;r++)e+=BigInt(t[r])<<8n*BigInt(r);return e}function wu(t){return F(Gs(t)&2n**255n-1n)}function F(t,e=je.P){let r=t%e;return r>=0n?r:e+r}function _u(t,e=je.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=F(t,e),i=e,[n,s,a,o]=[0n,1n,1n,0n];for(;r!==0n;){let c=i/r,f=i%r,h=n-a*c,d=s-o*c;[i,r]=[r,f],[n,s]=[a,o],[a,o]=[h,d]}if(i!==1n)throw new Error("invert: does not exist");return F(n,e)}function c_(t,e=je.P){let r=t.length,i=new Array(r),n=1n;for(let s=0;s<r;s++)t[s]!==0n&&(i[s]=n,n=F(n*t[s],e));n=_u(n,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let a=F(n*t[s],e);t[s]=F(n*i[s],e),n=a}return t}function yi(t,e){let{P:r}=je,i=t;for(;e-- >0n;)i*=i,i%=r;return i}function u_(t){let{P:e}=je,i=t*t%e*t%e,n=yi(i,2n)*i%e,s=yi(n,1n)*t%e,a=yi(s,5n)*s%e,o=yi(a,10n)*a%e,u=yi(o,20n)*o%e,c=yi(u,40n)*u%e,f=yi(c,80n)*c%e,h=yi(f,80n)*c%e,d=yi(h,10n)*a%e;return yi(d,2n)*t%e}function Eu(t,e){let r=F(e*e*e),i=F(r*r*e),n=F(t*r*u_(t*i)),s=F(e*n*n),a=n,o=F(n*Ua),u=s===t,c=s===F(-t),f=s===F(-t*Ua);return u&&(n=a),(c||f)&&(n=o),vn(n)&&(n=F(-n)),{isValid:u||c,value:n}}function Fb(t){return Eu(1n,t)}async function Su(...t){let e=f_(...t),r=await Ve.utils.sha512(e),i=Gs(r);return F(i,je.n)}function h_(t){return t.slice(cr)}function Ub(t){let e=cr-1,r=t.slice(0,cr);return r[0]&=248,r[e]&=127,r[e]|=64,F(Gs(r),je.n)}function l_(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Au(t){return t instanceof Uint8Array?t:za(t)}function d_(t){return 0<t&&t<je.n}function zb(t){let e;if(typeof t=="bigint"||typeof t=="number"&&Number.isSafeInteger(t)){if(e=BigInt(t),e<0n||e>2n**256n)throw new Error("Expected 32 bytes of private key");t=e.toString(16).padStart(cr*2,"0")}if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");return za(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");return t}else throw new TypeError("Expected valid private key")}async function p_(t){let e=await Ge.fromPrivateKey(t);return typeof t=="string"?e.toHex():e.toRawBytes()}Ve.getPublicKey=p_;async function y_(t,e){let r=await Ve.utils.sha512(zb(e)),i=Ub(r),n=Ge.BASE.multiply(i),s=Au(t),a=await Su(h_(r),s),o=Ge.BASE.multiply(a),u=await Su(o.toRawBytes(),n.toRawBytes(),s),c=F(a+u*i,je.n),f=new gn(o,c);return typeof t=="string"?f.toHex():f.toRawBytes()}Ve.sign=y_;async function b_(t,e,r){e=Au(e),r instanceof Ge||(r=Ge.fromHex(r)),t instanceof gn||(t=gn.fromHex(t));let i=await Su(t.r.toRawBytes(),r.toRawBytes(),e),n=Te.fromAffine(r).multiplyUnsafe(i),s=Te.BASE.multiply(t.s);return Te.fromAffine(t.r).add(n).subtract(s).multiplyUnsafe(8n).equals(Te.ZERO)}Ve.verify=b_;Ge.BASE._setWindowSize(8);var mn=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0,e=typeof Ga!="undefined"&&typeof Ga.require=="function"&&Ga.require.bind(Ga);return{node:e&&!t?e("crypto"):void 0,web:t}})();Ve.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(t=32)=>{if(mn.web)return mn.web.getRandomValues(new Uint8Array(t));if(mn.node){let{randomBytes:e}=mn.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=1024;for(;t--;){let e=Ve.utils.randomBytes(32),r=Gs(e);if(r>1n&&r<je.n)return e}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async t=>{if(mn.web){let e=await mn.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(mn.node)return Uint8Array.from(mn.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ge.BASE){let r=e.equals(Ge.BASE)?e:new Ge(e.x,e.y);return r._setWindowSize(t),r.multiply(1n),r}}});var Hb=R(xn=>{"use strict";var Va=Gb(),g_=32,v_=64,Ef=32;xn.publicKeyLength=g_;xn.privateKeyLength=v_;xn.generateKey=async function(){let t=Va.utils.randomPrivateKey(),e=await Va.getPublicKey(t);return{privateKey:Vb(t,e),publicKey:e}};xn.generateKeyFromSeed=async function(t){if(t.length!==Ef)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Va.getPublicKey(e);return{privateKey:Vb(e,r),publicKey:r}};xn.hashAndSign=function(t,e){let r=t.slice(0,Ef);return Va.sign(e,r)};xn.hashAndVerify=function(t,e,r){return Va.verify(e,r,t)};function Vb(t,e){let r=new Uint8Array(xn.privateKeyLength);for(let i=0;i<Ef;i++)r[i]=t[i],r[Ef+i]=e[i];return r}});var Zb=R((eR,$b)=>{"use strict";var jb=We(),{equals:Wb}=(jr(),Hr),{sha256:Yb}=(Fr(),_r),{base58btc:m_}=(Yn(),Wn),{identity:x_}=(Ta(),Os),er=Hb(),Sf=Qo(),w_=mf(),Af=class{constructor(e){this._key=Hs(e,er.publicKeyLength)}async verify(e,r){return er.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Sf.PublicKey.encode({Type:Sf.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return Wb(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Yb.digest(this.bytes);return e}},Vs=class{constructor(e,r){this._key=Hs(e,er.privateKeyLength),this._publicKey=Hs(r,er.publicKeyLength)}async sign(e){return er.hashAndSign(this._key,e)}get public(){return new Af(this._publicKey)}marshal(){return this._key}get bytes(){return Sf.PrivateKey.encode({Type:Sf.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return Wb(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Yb.digest(this.bytes);return e}async id(){let e=await x_.digest(this.public.bytes);return m_.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return w_.export(this.bytes,e);throw jb(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function __(t){if(t.length>er.privateKeyLength){t=Hs(t,er.privateKeyLength+er.publicKeyLength);let i=t.slice(0,er.privateKeyLength),n=t.slice(er.privateKeyLength,t.length);return new Vs(i,n)}t=Hs(t,er.privateKeyLength);let e=t.slice(0,er.privateKeyLength),r=t.slice(er.publicKeyLength);return new Vs(e,r)}function E_(t){return t=Hs(t,er.publicKeyLength),new Af(t)}async function S_(){let{privateKey:t,publicKey:e}=await er.generateKey();return new Vs(t,e)}async function A_(t){let{privateKey:e,publicKey:r}=await er.generateKeyFromSeed(t);return new Vs(e,r)}function Hs(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw jb(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}$b.exports={Ed25519PublicKey:Af,Ed25519PrivateKey:Vs,unmarshalEd25519PrivateKey:__,unmarshalEd25519PublicKey:E_,generateKeyPair:S_,generateKeyPairFromSeed:A_}});var h2=R((Ee,u2)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.utils=Ee.schnorr=Ee.verify=Ee.signSync=Ee.sign=Ee.getSharedSecret=Ee.recoverPublicKey=Ee.getPublicKey=Ee.SignResult=Ee.Signature=Ee.Point=Ee.CURVE=void 0;var Ie={a:0n,b:7n,P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,h:1n,Gx:55066263022277343669578718895168534326250603453777594175500187360389116729240n,Gy:32670510020758816978083085130507043184471273380659243275938904335757337482424n,beta:0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501een};Ee.CURVE=Ie;function Jb(t){let{a:e,b:r}=Ie;return Z(t**3n+e*t+r)}var If=Ie.a===0n,_e=class{constructor(e,r,i){this.x=e,this.y=r,this.z=i}static fromAffine(e){if(!(e instanceof Be))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new _e(e.x,e.y,1n)}static toAffineBatch(e){let r=B_(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return _e.toAffineBatch(e).map(_e.fromAffine)}equals(e){let r=this,i=e,n=Z(r.z*r.z),s=Z(r.z*n),a=Z(i.z*i.z),o=Z(i.z*a);return Z(r.x*a)===Z(n*i.x)&&Z(r.y*o)===Z(s*i.y)}negate(){return new _e(this.x,Z(-this.y),this.z)}double(){let e=this.x,r=this.y,i=this.z,n=Z(e**2n),s=Z(r**2n),a=Z(s**2n),o=Z(2n*(Z(Z((e+s)**2n))-n-a)),u=Z(3n*n),c=Z(u**2n),f=Z(c-2n*o),h=Z(u*(o-f)-8n*a),d=Z(2n*r*i);return new _e(f,h,d)}add(e){if(!(e instanceof _e))throw new TypeError("JacobianPoint#add: expected JacobianPoint");let r=this.x,i=this.y,n=this.z,s=e.x,a=e.y,o=e.z;if(s===0n||a===0n)return this;if(r===0n||i===0n)return e;let u=Z(n**2n),c=Z(o**2n),f=Z(r*c),h=Z(s*u),d=Z(i*o*c),g=Z(Z(a*n)*u),b=Z(h-f),x=Z(g-d);if(b===0n)return x===0n?this.double():_e.ZERO;let I=Z(b**2n),S=Z(b*I),P=Z(f*I),M=Z(x**2n-S-2n*P),q=Z(x*(P-M)-d*S),L=Z(n*o*b);return new _e(M,q,L)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!e2(e))throw new TypeError("Point#multiply: expected valid scalar");let r=Z(BigInt(e),Ie.n);if(!If){let f=_e.ZERO,h=this;for(;r>0n;)r&1n&&(f=f.add(h)),h=h.double(),r>>=1n;return f}let[i,n,s,a]=r2(r),o=_e.ZERO,u=_e.ZERO,c=this;for(;n>0n||a>0n;)n&1n&&(o=o.add(c)),a&1n&&(u=u.add(c)),c=c.double(),n>>=1n,a>>=1n;return i&&(o=o.negate()),s&&(u=u.negate()),u=new _e(Z(u.x*Ie.beta),u.y,u.z),o.add(u)}precomputeWindow(e){let r=If?128/e+1:256/e+1,i=[],n=this,s=n;for(let a=0;a<r;a++){s=n,i.push(s);for(let o=1;o<2**(e-1);o++)s=s.add(n),i.push(s);n=s.double()}return i}wNAF(e,r){!r&&this.equals(_e.BASE)&&(r=Be.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&Iu.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=_e.normalizeZ(n),Iu.set(r,n)));let s=_e.ZERO,a=_e.ZERO,o=If?128/i+1:256/i+1,u=2**(i-1),c=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let d=0;d<o;d++){let g=d*u,b=Number(e&c);if(e>>=h,b>u&&(b-=f,e+=1n),b===0)a=a.add(d%2?n[g].negate():n[g]);else{let x=n[g+Math.abs(b)-1];s=s.add(b<0?x.negate():x)}}return[s,a]}multiply(e,r){if(!e2(e))throw new TypeError("Point#multiply: expected valid scalar");let i=Z(BigInt(e),Ie.n),n,s;if(If){let[a,o,u,c]=r2(i),f,h,d,g;[f,d]=this.wNAF(o,r),[h,g]=this.wNAF(c,r),a&&(f=f.negate()),u&&(h=h.negate()),h=new _e(Z(h.x*Ie.beta),h.y,h.z),[n,s]=[f.add(h),d.add(g)]}else[n,s]=this.wNAF(i,r);return _e.normalizeZ([n,s])[0]}toAffine(e=Wa(this.z)){let r=e**2n,i=Z(this.x*r),n=Z(this.y*r*e);return new Be(i,n)}};_e.BASE=new _e(Ie.Gx,Ie.Gy,1n);_e.ZERO=new _e(0n,1n,0n);var Iu=new WeakMap,Be=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Iu.delete(this)}static fromCompressedHex(e){let r=e.length===32,i=Br(r?e:e.slice(1)),n=Jb(i),s=I_(n),a=(s&1n)===1n;r?a&&(s=Z(-s)):(e[0]&1)==1!==a&&(s=Z(-s));let o=new Be(i,s);return o.assertValidity(),o}static fromUncompressedHex(e){let r=Br(e.slice(1,33)),i=Br(e.slice(33)),n=new Be(r,i);return n.assertValidity(),n}static fromHex(e){let r=Rf(e),i=r[0];if(r.length===32||r.length===33&&(i===2||i===3))return this.fromCompressedHex(r);if(r.length===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r.length}`)}static fromPrivateKey(e){return Be.BASE.multiply(js(e))}static fromSignature(e,r,i){let n=e instanceof Uint8Array?Br(e):Ui(e),s=s2(r),{r:a,s:o}=s;if(i!==0&&i!==1)throw new Error("Cannot recover signature: invalid yParity bit");let u=2+(i&1),c=Be.fromHex(`0${u}${wn(a)}`),f=_e.fromAffine(c).multiplyUnsafe(o),h=_e.BASE.multiply(n),d=Wa(a,Ie.n),b=f.subtract(h).multiplyUnsafe(d).toAffine();return b.assertValidity(),b}toRawBytes(e=!1){return _n(this.toHex(e))}toHex(e=!1){let r=wn(this.x);return e?`${this.y&1n?"03":"02"}${r}`:`04${r}${wn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{P:r}=Ie,{x:i,y:n}=this;if(i===0n||n===0n||i>=r||n>=r)throw new Error(e);let s=Z(n*n),a=Jb(i);if((s-a)%r!==0n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Be(this.x,Z(-this.y))}double(){return _e.fromAffine(this).double().toAffine()}add(e){return _e.fromAffine(this).add(_e.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return _e.fromAffine(this).multiply(e,this).toAffine()}};Ee.Point=Be;Be.BASE=new Be(Ie.Gx,Ie.Gy);Be.ZERO=new Be(0n,0n);function Xb(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}var Fi=class{constructor(e,r){this.r=e,this.s=r}static fromCompact(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError("Signature.fromCompact: Expected string or Uint8Array");let r=e instanceof Uint8Array?Bf(e):e;if(r.length!==128)throw new Error("Signature.fromCompact: Expected 64-byte hex");let i=new Fi(Ui(r.slice(0,64)),Ui(r.slice(64,128)));return i.assertValidity(),i}static fromDER(e){let r="Signature.fromDER";if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError(`${r}: Expected string or Uint8Array`);let i=e instanceof Uint8Array?Bf(e):e,n=ja(i.slice(2,4));if(i.slice(0,2)!=="30"||n!==i.length-4||i.slice(4,6)!=="02")throw new Error(`${r}: Invalid signature ${i}`);let s=ja(i.slice(6,8)),a=8+s,o=i.slice(8,a);if(o.startsWith("00")&&ja(o.slice(2,4))<=127)throw new Error(`${r}: Invalid r with trailing length`);let u=Ui(o);if(i.slice(a,a+2)!=="02")throw new Error(`${r}: Invalid r-s separator`);let f=ja(i.slice(a+2,a+4)),h=n-f-s-10;if(h>0||h===-4)throw new Error(`${r}: Invalid total length`);if(f>n-s-4)throw new Error(`${r}: Invalid s`);let d=a+4,g=i.slice(d,d+f);if(g.startsWith("00")&&ja(g.slice(2,4))<=127)throw new Error(`${r}: Invalid s with trailing length`);let b=Ui(g),x=new Fi(u,b);return x.assertValidity(),x}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Ya(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ya(r))throw new Error("Invalid Signature: s must be 0 < s < n")}toDERRawBytes(e=!1){return _n(this.toDERHex(e))}toDERHex(e=!1){let r=Xb(Ha(this.s));if(e)return r;let i=Xb(Ha(this.r)),n=Ha(i.length/2),s=Ha(r.length/2);return`30${Ha(i.length/2+r.length/2+4)}02${n}${i}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return _n(this.toCompactHex())}toCompactHex(){return wn(this.r)+wn(this.s)}};Ee.Signature=Fi;Ee.SignResult=Fi;function Qb(...t){if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return r}function Bf(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function wn(t){return t.toString(16).padStart(64,"0")}function Cf(t){return _n(wn(t))}function Ha(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Ui(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function _n(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2;e[r]=Number.parseInt(t.slice(i,i+2),16)}return e}function Rf(t){return t instanceof Uint8Array?t:_n(t)}function Br(t){return Ui(Bf(t))}function ja(t){return Number.parseInt(t,16)*2}function e2(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function Z(t,e=Ie.P){let r=t%e;return r>=0?r:e+r}function Cr(t,e){let{P:r}=Ie,i=t;for(;e-- >0n;)i*=i,i%=r;return i}function I_(t){let{P:e}=Ie,r=t*t*t%e,i=r*r*t%e,n=Cr(i,3n)*i%e,s=Cr(n,3n)*i%e,a=Cr(s,2n)*r%e,o=Cr(a,11n)*a%e,u=Cr(o,22n)*o%e,c=Cr(u,44n)*u%e,f=Cr(c,88n)*c%e,h=Cr(f,44n)*u%e,d=Cr(h,3n)*i%e,g=Cr(d,23n)*o%e,b=Cr(g,6n)*r%e;return Cr(b,2n)}function Wa(t,e=Ie.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Z(t,e),i=e,[n,s,a,o]=[0n,1n,1n,0n];for(;r!==0n;){let c=i/r,f=i%r,h=n-a*c,d=s-o*c;[i,r]=[r,f],[n,s]=[a,o],[a,o]=[h,d]}if(i!==1n)throw new Error("invert: does not exist");return Z(n,e)}function B_(t,e=Ie.P){let r=t.length,i=new Array(r),n=1n;for(let s=0;s<r;s++)t[s]!==0n&&(i[s]=n,n=Z(n*t[s],e));n=Wa(n,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let a=Z(n*t[s],e);t[s]=Z(n*i[s],e),n=a}return t}var t2=(t,e)=>(t+e/2n)/e,Tf=2n**128n;function r2(t){let{n:e}=Ie,r=0x3086d221a7d46bcde86c90e49284eb15n,i=-0xe4437ed6010e88286f547fa90abfe4c3n,n=0x114ca50f7a8e2f3f657c1108d9d44cfd8n,s=r,a=t2(s*t,e),o=t2(-i*t,e),u=Z(t-a*r-o*n,e),c=Z(-a*i-o*s,e),f=u>Tf,h=c>Tf;if(f&&(u=e-u),h&&(c=e-c),u>Tf||c>Tf)throw new Error("splitScalarEndo: Endomorphism failed");return[f,u,h,c]}function C_(t){typeof t!="string"&&(t=Bf(t));let e=Ui(t||"0"),i=t.length/2*8-256;return i>0&&(e=e>>BigInt(i)),e>=Ie.n&&(e-=Ie.n),e}function i2(t,e){if(t==null)throw new Error(`sign: expected valid msgHash, not "${t}"`);let r=typeof t=="string"?Ui(t):Br(t),i=Cf(r),n=Br(i),s=Cf(e),a=new Uint8Array(32).fill(1),o=new Uint8Array(32).fill(0),u=Uint8Array.from([0]),c=Uint8Array.from([1]);return[i,n,s,a,o,u,c]}async function R_(t,e){let r=js(e),[i,n,s,a,o,u,c]=i2(t,r),f=Ee.utils.hmacSha256;o=await f(o,a,u,s,i),a=await f(o,a),o=await f(o,a,c,s,i),a=await f(o,a);for(let h=0;h<1e3;h++){a=await f(o,a);let d=n2(a,n,r);if(d)return d;o=await f(o,a,u),a=await f(o,a)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function T_(t,e){let r=js(e),[i,n,s,a,o,u,c]=i2(t,r),f=Ee.utils.hmacSha256Sync;if(!f)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");if(o=f(o,a,u,s,i),o instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");a=f(o,a),o=f(o,a,c,s,i),a=f(o,a);for(let h=0;h<1e3;h++){a=f(o,a);let d=n2(a,n,r);if(d)return d;o=f(o,a,u),a=f(o,a)}throw new TypeError("secp256k1: Tried 1,000 k values for sign(), all were invalid")}function Ya(t){return 0<t&&t<Ie.n}function n2(t,e,r){let i=Br(t);if(!Ya(i))return;let n=Ie.n,s=Be.BASE.multiply(i),a=Z(s.x,n),o=Z(Wa(i,n)*(e+a*r),n);if(!(a===0n||o===0n))return[s,a,o]}function js(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=Ui(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=Br(t)}else throw new TypeError("Expected valid private key");if(!Ya(e))throw new Error("Expected private key: 0 < key < n");return e}function Bu(t){return t instanceof Be?(t.assertValidity(),t):Be.fromHex(t)}function s2(t){return t instanceof Fi?(t.assertValidity(),t):Fi.fromDER(t)}function P_(t,e=!1){let r=Be.fromPrivateKey(t);return typeof t=="string"?r.toHex(e):r.toRawBytes(e)}Ee.getPublicKey=P_;function M_(t,e,r){let i=Be.fromSignature(t,e,r);return typeof t=="string"?i.toHex():i.toRawBytes()}Ee.recoverPublicKey=M_;function a2(t){let e=t instanceof Uint8Array,r=typeof t=="string",i=(e||r)&&t.length;return e?i===33||i===65:r?i===66||i===130:t instanceof Be}function D_(t,e,r=!1){if(a2(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!a2(e))throw new TypeError("getSharedSecret: second arg must be public key");let i=Bu(e);i.assertValidity();let n=i.multiply(js(t));return typeof t=="string"?n.toHex(r):n.toRawBytes(r)}Ee.getSharedSecret=D_;function o2(t,e,r=!1){let[i,n,s]=t,{canonical:a,der:o,recovered:u}=e,c=(i.x===n?0:2)|Number(i.y&1n),f=s,h=Ie.n>>1n;s>h&&a&&(f=Ie.n-s,c^=1);let d=new Fi(n,f);d.assertValidity();let g=o===!1?d.toCompactHex():d.toDERHex(),b=r?g:_n(g);return u?[b,c]:b}async function O_(t,e,r={}){return o2(await R_(t,e),r,typeof t=="string")}Ee.sign=O_;function k_(t,e,r={}){return o2(T_(t,e),r,typeof t=="string")}Ee.signSync=k_;function N_(t,e,r){let{n:i}=Ie,n;try{n=s2(t)}catch(I){return!1}let{r:s,s:a}=n,o=C_(e);if(o===0n)return!1;let u=_e.fromAffine(Bu(r)),c=Wa(a,i),f=Z(o*c,i),h=Z(s*c,i),d=_e.BASE.multiply(f),g=u.multiplyUnsafe(h),b=d.add(g).toAffine();return Z(b.x,i)===s}Ee.verify=N_;async function Cu(t,...e){let r=new Uint8Array(t.split("").map(s=>s.charCodeAt(0))),i=await Ee.utils.sha256(r),n=await Ee.utils.sha256(Qb(i,i,...e));return Br(n)}async function f2(t,e,r){let i=Cf(t),n=await Cu("BIP0340/challenge",i,e.toRawX(),r);return Z(n,Ie.n)}function Ru(t){return Z(t.y,2n)===0n}var is=class{constructor(e,r){if(this.r=e,this.s=r,e<=0n||r<=0n||e>=Ie.P||r>=Ie.n)throw new Error("Invalid signature")}static fromHex(e){let r=Rf(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let i=Br(r.slice(0,32)),n=Br(r.slice(32));return new is(i,n)}toHex(){return wn(this.r)+wn(this.s)}toRawBytes(){return _n(this.toHex())}};function L_(t){let e=Be.fromPrivateKey(t);return typeof t=="string"?e.toHexX():e.toRawX()}async function q_(t,e,r=Ee.utils.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);e||(e=0n);let{n:i}=Ie,n=Rf(t),s=js(e),a=Rf(r);if(a.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let o=Be.fromPrivateKey(s),u=Ru(o)?s:i-s,c=await Cu("BIP0340/aux",a),f=u^c,h=await Cu("BIP0340/nonce",Cf(f),o.toRawX(),n),d=Z(h,i);if(d===0n)throw new Error("sign: Creation of signature failed. k is zero");let g=Be.fromPrivateKey(d),b=Ru(g)?d:i-d,x=await f2(g.x,o,n),I=new is(g.x,Z(b+x*u,i));if(!await c2(I.toRawBytes(),n,o.toRawX()))throw new Error("sign: Invalid signature produced");return typeof t=="string"?I.toHex():I.toRawBytes()}async function c2(t,e,r){let i=t instanceof is?t:is.fromHex(t),n=typeof e=="string"?_n(e):e,s=Bu(r),a=await f2(i.r,s,n),o=Be.fromPrivateKey(i.s),u=s.multiply(a),c=o.subtract(u);return!(c.equals(Be.BASE)||!Ru(c)||c.x!==i.r)}Ee.schnorr={Signature:is,getPublicKey:L_,sign:q_,verify:c2};Be.BASE._setWindowSize(8);var vr=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0;return{node:typeof u2!="undefined"&&typeof xo=="function"&&!t?Ls():void 0,web:t}})();Ee.utils={isValidPrivateKey(t){try{return js(t),!0}catch(e){return!1}},randomBytes:(t=32)=>{if(vr.web)return vr.web.getRandomValues(new Uint8Array(t));if(vr.node){let{randomBytes:e}=vr.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let t=8;for(;t--;){let e=Ee.utils.randomBytes(32),r=Br(e);if(Ya(r)&&r!==1n)return e}throw new Error("Valid private key was not found in 8 iterations. PRNG is broken")},sha256:async t=>{if(vr.web){let e=await vr.web.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}else if(vr.node){let{createHash:e}=vr.node;return Uint8Array.from(e("sha256").update(t).digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(vr.web){let r=await vr.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=Qb(...e),n=await vr.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}else if(vr.node){let{createHmac:r}=vr.node,i=r("sha256",t);for(let n of e)i.update(n);return Uint8Array.from(i.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,precompute(t=8,e=Be.BASE){let r=e===Be.BASE?e:new Be(e.x,e.y);return r._setWindowSize(t),r.multiply(3n),r}}});var p2=R((tR,d2)=>{"use strict";var $a=We(),En=h2(),{sha256:l2}=(Fr(),_r);d2.exports=()=>{let t=32;function e(){return En.utils.randomPrivateKey()}async function r(c,f){let{digest:h}=await l2.digest(f);try{return await En.sign(h,c)}catch(d){throw $a(d,"ERR_INVALID_INPUT")}}async function i(c,f,h){try{let{digest:d}=await l2.digest(h);return En.verify(f,d,c)}catch(d){throw $a(d,"ERR_INVALID_INPUT")}}function n(c){return En.Point.fromHex(c).toRawBytes(!0)}function s(c){return En.Point.fromHex(c).toRawBytes(!1)}function a(c){try{En.getPublicKey(c,!0)}catch(f){throw $a(f,"ERR_INVALID_PRIVATE_KEY")}}function o(c){try{En.Point.fromHex(c)}catch(f){throw $a(f,"ERR_INVALID_PUBLIC_KEY")}}function u(c){try{return En.getPublicKey(c,!0)}catch(f){throw $a(f,"ERR_INVALID_PRIVATE_KEY")}}return{generateKey:e,privateKeyLength:t,hashAndSign:r,hashAndVerify:i,compressPublicKey:n,decompressPublicKey:s,validatePrivateKey:a,validatePublicKey:o,computePublicKey:u}}});var v2=R((rR,g2)=>{"use strict";var{sha256:y2}=(Fr(),_r),K_=We(),{equals:b2}=(jr(),Hr),{toString:F_}=(Xt(),Jt),U_=mf();g2.exports=(t,e,r)=>{r=r||p2()();class i{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,f){return r.hashAndVerify(this._key,f,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return b2(this.bytes,c.bytes)}async hash(){let{bytes:c}=await y2.digest(this.bytes);return c}}class n{constructor(c,f){this._key=c,this._publicKey=f||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return b2(this.bytes,c.bytes)}async hash(){let{bytes:c}=await y2.digest(this.bytes);return c}async id(){let c=await this.public.hash();return F_(c,"base58btc")}async export(c,f="libp2p-key"){if(f==="libp2p-key")return U_.export(this.bytes,c);throw K_(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(u){return new n(u)}function a(u){return new i(u)}async function o(){let u=await r.generateKey();return new n(u)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:o}}});var x2=R((iR,m2)=>{"use strict";m2.exports={SHA1:20,SHA256:32,SHA512:64}});var E2=R(_2=>{"use strict";var w2=Na(),z_=x2(),G_={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},V_=async(t,e)=>{let r=await w2.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};_2.create=async function(t,e){let r=G_[t],i=await w2.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return V_(i,n)},length:z_[t]}}});var C2=R((sR,B2)=>{"use strict";var S2=We(),{concat:A2}=(Vr(),Gr),{fromString:H_}=(jt(),Ht),j_=E2(),I2={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};B2.exports=async(t,e,r)=>{let i=I2[t];if(!i){let P=Object.keys(I2).join(" / ");throw S2(new Error(`unknown cipher type '${t}'. Must be ${P}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw S2(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,a=20,o=H_("key expansion"),u=2*(s+n+a),c=await j_.create(e,r),f=await c.digest(o),h=[],d=0;for(;d<u;){let P=await c.digest(A2([f,o])),M=P.length;d+M>u&&(M=u-d),h.push(P),d+=M,f=await c.digest(f)}let g=u/2,b=A2(h),x=b.slice(0,g),I=b.slice(g,u),S=P=>({iv:P.slice(0,s),cipherKey:P.slice(s,s+n),macKey:P.slice(s+n)});return{k1:S(x),k2:S(I)}}});var T2=R((aR,R2)=>{"use strict";var W_=We();R2.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw W_(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var N2=R(k2=>{"use strict";var Y_=We(),Za=Na(),{base64urlToBuffer:P2}=vf(),$_=T2(),{toString:Tu}=(Xt(),Jt),{concat:Z_}=(Vr(),Gr),{equals:J_}=(jr(),Hr),M2={"P-256":256,"P-384":384,"P-521":521};k2.generateEphmeralKeyPair=async function(t){$_(Object.keys(M2),t);let e=await Za.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,s)=>{let a;s?a=await Za.get().subtle.importKey("jwk",Q_(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):a=e.privateKey;let o=[await Za.get().subtle.importKey("jwk",O2(t,n),{name:"ECDH",namedCurve:t},!1,[]),a],u=await Za.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],M2[t]);return new Uint8Array(u,u.byteOffset,u.byteLength)},i=await Za.get().subtle.exportKey("jwk",e.publicKey);return{key:X_(i),genSharedKey:r}};var D2={"P-256":32,"P-384":48,"P-521":66};function X_(t){let e=D2[t.crv];return Z_([Uint8Array.from([4]),P2(t.x,e),P2(t.y,e)],1+e*2)}function O2(t,e){let r=D2[t];if(J_(!e.slice(0,1),Uint8Array.from([4])))throw Y_(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Tu(e.slice(1,r+1),"base64url"),y:Tu(e.slice(1+r),"base64url"),ext:!0}}var Q_=(t,e)=>({...O2(t,e.public),d:Tu(e.private,"base64url")})});var q2=R((fR,L2)=>{"use strict";var e9=N2();L2.exports=async t=>e9.generateEphmeralKeyPair(t)});var U2=R((cR,F2)=>{"use strict";var bi=Qo();dn();yu();var Pu=ye(),Ja=We(),{fromString:t9}=(jt(),Ht),r9=pb(),Rr={rsa:Nb(),ed25519:Zb(),secp256k1:v2()(bi,Go())},Pf={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function Ws(t){let e=Rr[t.toLowerCase()];if(!e){let r=Object.keys(Rr).join(" / ");throw Ja(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var i9=async(t,e)=>Ws(t).generateKeyPair(e),n9=async(t,e,r)=>{let i=Ws(t);if(t.toLowerCase()!=="ed25519")throw Ja(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},s9=t=>{let e=bi.PublicKey.decode(t),r=e.Data;switch(e.Type){case bi.KeyType.RSA:return Rr.rsa.unmarshalRsaPublicKey(r);case bi.KeyType.Ed25519:return Rr.ed25519.unmarshalEd25519PublicKey(r);case bi.KeyType.Secp256k1:if(Rr.secp256k1)return Rr.secp256k1.unmarshalSecp256k1PublicKey(r);throw Ja(new Error(Pf.message),Pf.code);default:Ws(e.Type)}},a9=(t,e)=>(e=(e||"rsa").toLowerCase(),Ws(e),t.bytes),K2=async t=>{let e=bi.PrivateKey.decode(t),r=e.Data;switch(e.Type){case bi.KeyType.RSA:return Rr.rsa.unmarshalRsaPrivateKey(r);case bi.KeyType.Ed25519:return Rr.ed25519.unmarshalEd25519PrivateKey(r);case bi.KeyType.Secp256k1:if(Rr.secp256k1)return Rr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw Ja(new Error(Pf.message),Pf.code);default:Ws(e.Type)}},o9=(t,e)=>(e=(e||"rsa").toLowerCase(),Ws(e),t.bytes),f9=async(t,e)=>{try{let n=await r9.import(t,e);return K2(n)}catch(n){}let r=Pu.pki.decryptRsaPrivateKey(t,e);if(r===null)throw Ja(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=Pu.asn1.toDer(Pu.pki.privateKeyToAsn1(r));return i=t9(i.getBytes(),"ascii"),Rr.rsa.unmarshalRsaPrivateKey(i)};F2.exports={supportedKeys:Rr,keysPBM:bi,keyStretcher:C2(),generateEphemeralKeyPair:q2(),generateKeyPair:i9,generateKeyPairFromSeed:n9,unmarshalPublicKey:s9,marshalPublicKey:a9,unmarshalPrivateKey:K2,marshalPrivateKey:o9,import:f9}});var z2=R((uR,Mu)=>{"use strict";function c9(t,{className:e,symbolName:r}){let i=Symbol.for(r),n={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=s=>!!(s&&s[i]),n}function u9(t,{className:e,symbolName:r,withoutNew:i}){let n=Symbol.for(r),s={[e]:function(...a){if(i&&!(this instanceof s))return new s(...a);let o=t.call(this,...a)||this;return o&&!o[n]&&Object.defineProperty(o,n,{value:!0}),o}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=a=>!!(a&&a[n]),s}Mu.exports=c9;Mu.exports.proto=u9});var H2=R((hR,V2)=>{"use strict";var Ys=Un(),G2=Ys.Reader,h9=Ys.Writer,Dt=Ys.util,Xa=Ys.roots["libp2p-peer-id"]||(Ys.roots["libp2p-peer-id"]={});Xa.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.id=Dt.newBuffer([]),t.prototype.pubKey=Dt.newBuffer([]),t.prototype.privKey=Dt.newBuffer([]),t.encode=function(r,i){return i||(i=h9.create()),i.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&i.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&i.uint32(26).bytes(r.privKey),i},t.decode=function(r,i){r instanceof G2||(r=G2.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Xa.PeerIdProto;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("id"))throw Dt.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof Xa.PeerIdProto)return r;var i=new Xa.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?Dt.base64.decode(r.id,i.id=Dt.newBuffer(Dt.base64.length(r.id)),0):r.id.length&&(i.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?Dt.base64.decode(r.pubKey,i.pubKey=Dt.newBuffer(Dt.base64.length(r.pubKey)),0):r.pubKey.length&&(i.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?Dt.base64.decode(r.privKey,i.privKey=Dt.newBuffer(Dt.base64.length(r.privKey)),0):r.privKey.length&&(i.privKey=r.privKey)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=Dt.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=Dt.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=Dt.newBuffer(n.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(n.id=i.bytes===String?Dt.base64.encode(r.id,0,r.id.length):i.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?Dt.base64.encode(r.pubKey,0,r.pubKey.length):i.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?Dt.base64.encode(r.privKey,0,r.privKey.length):i.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ys.util.toJSONOptions)},t}();V2.exports=Xa});var $s=R((tr,Q2)=>{"use strict";var{CID:Du}=(G0(),z1),l9=(Ba(),Ia),d9=(L0(),jo),p9=(Yn(),Wn),y9=($n(),cn),{base58btc:Ou}=(Yn(),Wn),{base32:b9}=(Ba(),Ia),{base16:j2}=(N0(),Ho),Qa=(Ds(),Yo),gi=U2(),g9=z2(),{PeerIdProto:W2}=H2(),{equals:ns}=(jr(),Hr),{fromString:eo}=(jt(),Ht),{toString:v9}=(Xt(),Jt),{identity:Mf}=(Ta(),Os),Y2={...l9,...d9,...p9,...y9},m9=Object.keys(Y2).reduce((t,e)=>t.or(Y2[e]),b9.decoder),x9=112,$2=114,Z2=class{constructor(e,r,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&i&&!ns(r.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Ou.encode(this.id).substring(1),this._privKey=r,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=Qa.decode(this.id);e.code===Mf.code&&(this._pubKey=gi.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return gi.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return gi.marshalPrivateKey(this.privKey)}marshal(e){return W2.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:X2(this.marshalPrivKey()),pubKey:X2(this.marshalPubKey())}}toHexString(){return j2.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=Du.createV1($2,Qa.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return ns(this.id,e);if(e.id)return ns(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&ns(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(Qa.decode(this.id).code===Mf.code)return!0}catch(e){}return!1}},vi=g9(Z2,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});tr=Q2.exports=vi;var to=t=>t.bytes.length<=42?Qa.create(Mf.code,t.bytes).bytes:t.hash(),ku=async(t,e)=>{let r=await to(e);return new vi(r,t,e)};tr.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await gi.generateKeyPair(t.keyType,t.bits);return ku(e,e.public)};tr.createFromHexString=t=>new vi(j2.decode("f"+t));tr.createFromBytes=t=>{try{let e=Du.decode(t);if(!J2(e))throw new Error("Supplied PeerID CID is invalid");return tr.createFromCID(e)}catch{if(Qa.decode(t).code!==Mf.code)throw new Error("Supplied PeerID CID is invalid");return new vi(t)}};tr.createFromB58String=t=>tr.createFromBytes(Ou.decode("z"+t));var J2=t=>t.code===$2||t.code===x9;tr.createFromCID=t=>{if(t=Du.asCID(t),!t||!J2(t))throw new Error("Supplied PeerID CID is invalid");return new vi(t.multihash.bytes)};tr.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=eo(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await gi.unmarshalPublicKey(e);return ku(void 0,r)};tr.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=eo(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await gi.unmarshalPrivateKey(t);return ku(e,e.public)};tr.createFromJSON=async t=>{let e=Ou.decode("z"+t.id),r=t.privKey&&eo(t.privKey,"base64pad"),i=t.pubKey&&eo(t.pubKey,"base64pad"),n=i&&await gi.unmarshalPublicKey(i);if(!r)return new vi(e,void 0,n);let s=await gi.unmarshalPrivateKey(r),a=await to(s.public),o;if(n&&(o=await to(n)),n&&!ns(a,o))throw new Error("Public and private key do not match");if(e&&!ns(a,e))throw new Error("Id and private key do not match");return new vi(e,s,n)};tr.createFromProtobuf=async t=>{typeof t=="string"&&(t=eo(t,"base16"));let{id:e,privKey:r,pubKey:i}=W2.decode(t);r=r?await gi.unmarshalPrivateKey(r):!1,i=i?await gi.unmarshalPublicKey(i):!1;let n,s;if(r&&(s=await to(r.public)),i&&(n=await to(i)),r){if(i&&!ns(s,n))throw new Error("Public and private key do not match");return new vi(s,r,r.public)}if(i)return new vi(n,void 0,i);if(e)return new vi(e);throw new Error("Protobuf did not contain any usable key material")};tr.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),tr.createFromBytes(m9.decode(t)));tr.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function X2(t){if(t)return v9(t,"base64pad")}});var Nu=R((lR,rg)=>{"use strict";var w9=Go(),{toString:_9}=(Xt(),Jt),{fromString:eg}=(jt(),Ht),tg=$s(),{sha256:E9}=(Fr(),_r),S9=()=>w9(8),A9=(t,e)=>{let r;t instanceof Uint8Array?r=tg.createFromBytes(t).id:r=tg.parse(t).id;let i=new Uint8Array(r.length+e.length);return i.set(r,0),i.set(e,r.length),i},I9=t=>E9.encode(t),B9=(t,e)=>{let r;Array.isArray(e)?r=i=>e.indexOf(i)>-1:r=i=>e.has(i);for(let i of t)if(r(i))return!0;return!1},C9=t=>Array.isArray(t)?t:[t],R9=(t,e)=>{let r=Object.assign({},t);return t.from instanceof Uint8Array&&(r.from=_9(t.from,"base58btc")),e&&(r.receivedFrom=e),r},T9=t=>{let e=Object.assign({},t);return typeof t.from=="string"&&(e.from=eg(t.from,"base58btc")),typeof t.data=="string"&&(e.data=eg(t.data)),e};rg.exports={randomSeqno:S9,msgId:A9,noSignMsgId:I9,anyMatch:B9,ensureArray:C9,normalizeInRpcMessage:R9,normalizeOutRpcMessage:T9}});var og=R((dR,ag)=>{"use strict";var Lu=$s(),{RPC:ig}=c0(),{concat:ng}=(Vr(),Gr),{fromString:P9}=(jt(),Ht),qu=P9("libp2p-pubsub:"),{normalizeOutRpcMessage:M9}=Nu();async function D9(t,e){let r=ng([qu,ig.Message.encode(M9(e)).finish()]),i=await t.privKey.sign(r);return{...e,signature:i,key:t.pubKey.bytes}}async function O9(t){if(!t.signature)throw new Error("Message must contain a signature to be verified");if(!t.from)throw new Error("Message must contain a from property to be verified");let e=ng([qu,ig.Message.encode({...t,from:Lu.createFromB58String(t.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await sg(t)).verify(e,t.signature)}async function sg(t){if(!t.from)throw new Error("Could not get the public key from the originator id");let e=Lu.createFromB58String(t.from);if(t.key){let r=await Lu.createFromPubKey(t.key);if(r.equals(e))return r.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}ag.exports={messagePublicKey:sg,signMessage:D9,SignPrefix:qu,verifySignature:O9}});var hg=R((pR,ug)=>{"use strict";var fg=Eo(),{EventEmitter:k9}=Uc(),dr=We(),{pipe:N9}=Gc(),{default:L9}=Ml(),q9=Ul(),{codes:Wr}=To(),{RPC:cg}=c0(),K9=f1(),{SignaturePolicy:zi}=u1(),Sn=Nu(),{signMessage:F9,verifySignature:U9}=og(),Df=class extends k9{constructor({debugName:e,multicodecs:r,libp2p:i,globalSignaturePolicy:n=zi.StrictSign,canRelayMessage:s=!1,emitSelf:a=!1,messageProcessingConcurrency:o=10}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!r)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Object.assign(fg(e),{err:fg(`${e}:error`)}),this.multicodecs=Sn.ensureArray(r),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!zi[n])throw dr(new Error("Invalid global signature policy"),Wr.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=s,this.emitSelf=a,this.topicValidators=new Map,this.queue=new L9({concurrency:o}),this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new q9({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:r,connection:i}){let n=i.remotePeer,s=n.toB58String(),a=this._addPeer(n,e),o=a.attachInboundStream(r);this._processMessages(s,o,a)}async _onPeerConnected(e,r){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:s}=await r.newStream(this.multicodecs);await this._addPeer(e,s).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,r){let i=e.toB58String();this.log("connection ended",i,r?r.message:""),this._removePeer(e)}_addPeer(e,r){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let s=new K9({id:e,protocol:r});return this.peers.set(i,s),s.once("close",()=>this._removePeer(e)),s}_removePeer(e){if(!e)return;let r=e.toB58String(),i=this.peers.get(r);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",r),this.peers.delete(r);for(let n of this.topics.values())n.delete(r);return i}}async _processMessages(e,r,i){try{await N9(r,async n=>{for await(let s of n){let a=s instanceof Uint8Array?s:s.slice(),o=this._decodeRpc(a);(async()=>{try{await this._processRpc(e,i,o)}catch(u){this.log.err(u)}})()}})}catch(n){this._onPeerDisconnected(i.id,n)}}async _processRpc(e,r,i){this.log("rpc from",e);let n=i.subscriptions,s=i.msgs;return n.length&&(n.forEach(a=>{this._processRpcSubOpt(e,a)}),this.emit("pubsub:subscription-change",r.id,n)),this._acceptFrom(e)?(s.length&&this.queue.addAll(s.map(a=>async()=>{if(!(this.canRelayMessage||a.topicIDs&&a.topicIDs.some(o=>this.subscriptions.has(o)))){this.log("received message we didn't subscribe to. Dropping.");return}try{let o=Sn.normalizeInRpcMessage(a,e);await this._processRpcMessage(o)}catch(o){this.log.err(o)}})),!0):(this.log("received message from unacceptable peer %s",e),!1)}_processRpcSubOpt(e,r){let i=r.topicID;if(!i)return;let n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),r.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(r){this.log("Message is invalid, dropping it. %O",r);return}return this._emitMessage(e),this._publish(Sn.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(r=>{this.subscriptions.has(r)&&this.emit(r,e)})}getMsgId(e){let r=this.globalSignaturePolicy;switch(r){case zi.StrictSign:return Sn.msgId(e.from,e.seqno);case zi.StrictNoSign:return Sn.noSignMsgId(e.data);default:throw dr(new Error("Cannot get message id: unhandled signature policy: "+r),Wr.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return cg.decode(e)}_encodeRpc(e){return cg.encode(e).finish()}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(r))}_sendSubscriptions(e,r,i){return this._sendRpc(e,{subscriptions:r.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let r=this.globalSignaturePolicy;switch(r){case zi.StrictNoSign:if(e.from)throw dr(new Error("StrictNoSigning: from should not be present"),Wr.ERR_UNEXPECTED_FROM);if(e.signature)throw dr(new Error("StrictNoSigning: signature should not be present"),Wr.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw dr(new Error("StrictNoSigning: key should not be present"),Wr.ERR_UNEXPECTED_KEY);if(e.seqno)throw dr(new Error("StrictNoSigning: seqno should not be present"),Wr.ERR_UNEXPECTED_SEQNO);break;case zi.StrictSign:if(!e.signature)throw dr(new Error("StrictSigning: Signing required and no signature was present"),Wr.ERR_MISSING_SIGNATURE);if(!e.seqno)throw dr(new Error("StrictSigning: Signing required and no seqno was present"),Wr.ERR_MISSING_SEQNO);if(!await U9(e))throw dr(new Error("StrictSigning: Invalid message signature"),Wr.ERR_INVALID_SIGNATURE);break;default:throw dr(new Error("Cannot validate message: unhandled signature policy: "+r),Wr.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);n&&await n(i,e)}}_buildMessage(e){let r=this.globalSignaturePolicy;switch(r){case zi.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=Sn.randomSeqno(),F9(this.peerId,e);case zi.StrictNoSign:return Promise.resolve(e);default:throw dr(new Error("Cannot build message: unhandled signature policy: "+r),Wr.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw dr(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw dr(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let r=this.topics.get(e);return r?Array.from(r):[]}async publish(e,r){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,r);let n={receivedFrom:this.peerId.toB58String(),data:r,topicIDs:[e]},s=await this._buildMessage(n),a=Sn.normalizeInRpcMessage(s);this.emitSelf&&this._emitMessage(a),await this._publish(a)}_publish(e){throw dr(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};Df.utils=Sn;Df.SignaturePolicy=zi;ug.exports=Df});var lg=R(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.createGossipRpc=void 0;function z9(t=[],e={}){return{subscriptions:[],msgs:t,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},e)}}Of.createGossipRpc=z9});var dg=R(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.shuffle=void 0;function G9(t){if(t.length<=1)return t;let e=()=>Math.floor(Math.random()*Math.floor(t.length));for(let r=0;r<t.length;r++){let i=e(),n=t[r];t[r]=t[i],t[i]=n}return t}kf.shuffle=G9});var ss=R(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.ERR_TOPIC_VALIDATOR_IGNORE=G.ERR_TOPIC_VALIDATOR_REJECT=G.TimeCacheDuration=G.GossipsubSeenTTL=G.GossipsubIWantFollowupTime=G.GossipsubMaxIHaveMessages=G.GossipsubMaxIHaveLength=G.GossipsubGraftFloodThreshold=G.GossipsubOpportunisticGraftPeers=G.GossipsubOpportunisticGraftTicks=G.GossipsubDirectConnectInitialDelay=G.GossipsubDirectConnectTicks=G.GossipsubConnectionTimeout=G.GossipsubMaxPendingConnections=G.GossipsubConnectors=G.GossipsubPruneBackoffTicks=G.GossipsubPruneBackoff=G.GossipsubPrunePeers=G.GossipsubFanoutTTL=G.GossipsubHeartbeatInterval=G.GossipsubHeartbeatInitialDelay=G.GossipsubGossipRetransmission=G.GossipsubGossipFactor=G.GossipsubDlazy=G.GossipsubHistoryGossip=G.GossipsubHistoryLength=G.GossipsubDout=G.GossipsubDscore=G.GossipsubDhi=G.GossipsubDlo=G.GossipsubD=G.GossipsubIDv11=G.GossipsubIDv10=G.FloodsubID=G.minute=G.second=void 0;G.second=1e3;G.minute=60*G.second;G.FloodsubID="/floodsub/1.0.0";G.GossipsubIDv10="/meshsub/1.0.0";G.GossipsubIDv11="/meshsub/1.1.0";G.GossipsubD=6;G.GossipsubDlo=4;G.GossipsubDhi=12;G.GossipsubDscore=4;G.GossipsubDout=2;G.GossipsubHistoryLength=5;G.GossipsubHistoryGossip=3;G.GossipsubDlazy=6;G.GossipsubGossipFactor=.25;G.GossipsubGossipRetransmission=3;G.GossipsubHeartbeatInitialDelay=100;G.GossipsubHeartbeatInterval=G.second;G.GossipsubFanoutTTL=G.minute;G.GossipsubPrunePeers=16;G.GossipsubPruneBackoff=G.minute;G.GossipsubPruneBackoffTicks=15;G.GossipsubConnectors=8;G.GossipsubMaxPendingConnections=128;G.GossipsubConnectionTimeout=30*G.second;G.GossipsubDirectConnectTicks=300;G.GossipsubDirectConnectInitialDelay=G.second;G.GossipsubOpportunisticGraftTicks=60;G.GossipsubOpportunisticGraftPeers=2;G.GossipsubGraftFloodThreshold=10*G.second;G.GossipsubMaxIHaveLength=5e3;G.GossipsubMaxIHaveMessages=10;G.GossipsubIWantFollowupTime=3*G.second;G.GossipsubSeenTTL=30*G.second;G.TimeCacheDuration=120*1e3;G.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT";G.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"});var yg=R(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.hasGossipProtocol=void 0;var pg=ss();function V9(t){return t===pg.GossipsubIDv10||t===pg.GossipsubIDv11}Nf.hasGossipProtocol=V9});var bg=R(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.messageIdToString=void 0;var H9=(Xt(),Jt);function j9(t){return H9.toString(t,"base64")}Lf.messageIdToString=j9});var as=R(mi=>{"use strict";var W9=mi&&mi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),qf=mi&&mi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&W9(e,t,r)};Object.defineProperty(mi,"__esModule",{value:!0});qf(lg(),mi);qf(dg(),mi);qf(yg(),mi);qf(bg(),mi)});var vg=R(Zs=>{"use strict";var Y9=Zs&&Zs.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function u(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):n(f.value).then(o,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.MessageCache=void 0;var Kf=as(),gg=class{constructor(e,r,i){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let n=0;n<r;n++)this.history[n]=[];this.gossip=e,this.msgIdFn=i}put(e){return Y9(this,void 0,void 0,function*(){let r=yield this.getMsgId(e),i=Kf.messageIdToString(r);this.msgs.set(i,e),this.history[0].push({msgID:r,topics:e.topicIDs})})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(Kf.messageIdToString(e))}getForPeer(e,r){let i=Kf.messageIdToString(e),n=this.msgs.get(i);if(!n)return[void 0,0];let s=this.peertx.get(i);s||(s=new Map,this.peertx.set(i,s));let a=(s.get(r)||0)+1;return s.set(r,a),[n,a]}getGossipIDs(e){let r=[];for(let i=0;i<this.gossip;i++)this.history[i].forEach(n=>{for(let s of n.topics)if(s===e){r.push(n.msgID);break}});return r}shift(){this.history[this.history.length-1].forEach(r=>{let i=Kf.messageIdToString(r.msgID);this.msgs.delete(i),this.peertx.delete(i)}),this.history.pop(),this.history.unshift([])}};Zs.MessageCache=gg});var xg=R((mg,ro)=>{(function(t,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof xo=="function"&&typeof ro=="object"&&ro&&ro.exports&&(ro.exports=e(Un()))})(mg,function(t){"use strict";var e=t.Reader,r=t.Writer,i=t.util,n=t.roots.default||(t.roots.default={});return n.RPC=function(){function s(o){if(this.subscriptions=[],this.msgs=[],o)for(var u=Object.keys(o),c=0;c<u.length;++c)o[u[c]]!=null&&(this[u[c]]=o[u[c]])}s.prototype.subscriptions=i.emptyArray,s.prototype.msgs=i.emptyArray,s.prototype.control=null;var a;return Object.defineProperty(s.prototype,"_control",{get:i.oneOfGetter(a=["control"]),set:i.oneOfSetter(a)}),s.encode=function(u,c){if(c||(c=r.create()),u.subscriptions!=null&&u.subscriptions.length)for(var f=0;f<u.subscriptions.length;++f)n.RPC.SubOpts.encode(u.subscriptions[f],c.uint32(10).fork()).ldelim();if(u.msgs!=null&&u.msgs.length)for(var f=0;f<u.msgs.length;++f)n.RPC.Message.encode(u.msgs[f],c.uint32(18).fork()).ldelim();return u.control!=null&&Object.hasOwnProperty.call(u,"control")&&n.RPC.ControlMessage.encode(u.control,c.uint32(26).fork()).ldelim(),c},s.decode=function(u,c){u instanceof e||(u=e.create(u));for(var f=c===void 0?u.len:u.pos+c,h=new n.RPC;u.pos<f;){var d=u.uint32();switch(d>>>3){case 1:h.subscriptions&&h.subscriptions.length||(h.subscriptions=[]),h.subscriptions.push(n.RPC.SubOpts.decode(u,u.uint32()));break;case 2:h.msgs&&h.msgs.length||(h.msgs=[]),h.msgs.push(n.RPC.Message.decode(u,u.uint32()));break;case 3:h.control=n.RPC.ControlMessage.decode(u,u.uint32());break;default:u.skipType(d&7);break}}return h},s.fromObject=function(u){if(u instanceof n.RPC)return u;var c=new n.RPC;if(u.subscriptions){if(!Array.isArray(u.subscriptions))throw TypeError(".RPC.subscriptions: array expected");c.subscriptions=[];for(var f=0;f<u.subscriptions.length;++f){if(typeof u.subscriptions[f]!="object")throw TypeError(".RPC.subscriptions: object expected");c.subscriptions[f]=n.RPC.SubOpts.fromObject(u.subscriptions[f])}}if(u.msgs){if(!Array.isArray(u.msgs))throw TypeError(".RPC.msgs: array expected");c.msgs=[];for(var f=0;f<u.msgs.length;++f){if(typeof u.msgs[f]!="object")throw TypeError(".RPC.msgs: object expected");c.msgs[f]=n.RPC.Message.fromObject(u.msgs[f])}}if(u.control!=null){if(typeof u.control!="object")throw TypeError(".RPC.control: object expected");c.control=n.RPC.ControlMessage.fromObject(u.control)}return c},s.toObject=function(u,c){c||(c={});var f={};if((c.arrays||c.defaults)&&(f.subscriptions=[],f.msgs=[]),u.subscriptions&&u.subscriptions.length){f.subscriptions=[];for(var h=0;h<u.subscriptions.length;++h)f.subscriptions[h]=n.RPC.SubOpts.toObject(u.subscriptions[h],c)}if(u.msgs&&u.msgs.length){f.msgs=[];for(var h=0;h<u.msgs.length;++h)f.msgs[h]=n.RPC.Message.toObject(u.msgs[h],c)}return u.control!=null&&u.hasOwnProperty("control")&&(f.control=n.RPC.ControlMessage.toObject(u.control,c),c.oneofs&&(f._control="control")),f},s.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},s.SubOpts=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.subscribe=null,o.prototype.topicID=null;var u;return Object.defineProperty(o.prototype,"_subscribe",{get:i.oneOfGetter(u=["subscribe"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.subscribe!=null&&Object.hasOwnProperty.call(f,"subscribe")&&h.uint32(8).bool(f.subscribe),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(18).string(f.topicID),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.SubOpts;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.subscribe=f.bool();break;case 2:g.topicID=f.string();break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.SubOpts)return f;var h=new n.RPC.SubOpts;return f.subscribe!=null&&(h.subscribe=Boolean(f.subscribe)),f.topicID!=null&&(h.topicID=String(f.topicID)),h},o.toObject=function(f,h){h||(h={});var d={};return f.subscribe!=null&&f.hasOwnProperty("subscribe")&&(d.subscribe=f.subscribe,h.oneofs&&(d._subscribe="subscribe")),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.Message=function(){function o(c){if(this.topicIDs=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.from=null,o.prototype.data=null,o.prototype.seqno=null,o.prototype.topicIDs=i.emptyArray,o.prototype.signature=null,o.prototype.key=null;var u;return Object.defineProperty(o.prototype,"_from",{get:i.oneOfGetter(u=["from"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_data",{get:i.oneOfGetter(u=["data"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_seqno",{get:i.oneOfGetter(u=["seqno"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_signature",{get:i.oneOfGetter(u=["signature"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_key",{get:i.oneOfGetter(u=["key"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.from!=null&&Object.hasOwnProperty.call(f,"from")&&h.uint32(10).bytes(f.from),f.data!=null&&Object.hasOwnProperty.call(f,"data")&&h.uint32(18).bytes(f.data),f.seqno!=null&&Object.hasOwnProperty.call(f,"seqno")&&h.uint32(26).bytes(f.seqno),f.topicIDs!=null&&f.topicIDs.length)for(var d=0;d<f.topicIDs.length;++d)h.uint32(34).string(f.topicIDs[d]);return f.signature!=null&&Object.hasOwnProperty.call(f,"signature")&&h.uint32(42).bytes(f.signature),f.key!=null&&Object.hasOwnProperty.call(f,"key")&&h.uint32(50).bytes(f.key),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.Message;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.from=f.bytes();break;case 2:g.data=f.bytes();break;case 3:g.seqno=f.bytes();break;case 4:g.topicIDs&&g.topicIDs.length||(g.topicIDs=[]),g.topicIDs.push(f.string());break;case 5:g.signature=f.bytes();break;case 6:g.key=f.bytes();break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.Message)return f;var h=new n.RPC.Message;if(f.from!=null&&(typeof f.from=="string"?i.base64.decode(f.from,h.from=i.newBuffer(i.base64.length(f.from)),0):f.from.length&&(h.from=f.from)),f.data!=null&&(typeof f.data=="string"?i.base64.decode(f.data,h.data=i.newBuffer(i.base64.length(f.data)),0):f.data.length&&(h.data=f.data)),f.seqno!=null&&(typeof f.seqno=="string"?i.base64.decode(f.seqno,h.seqno=i.newBuffer(i.base64.length(f.seqno)),0):f.seqno.length&&(h.seqno=f.seqno)),f.topicIDs){if(!Array.isArray(f.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");h.topicIDs=[];for(var d=0;d<f.topicIDs.length;++d)h.topicIDs[d]=String(f.topicIDs[d])}return f.signature!=null&&(typeof f.signature=="string"?i.base64.decode(f.signature,h.signature=i.newBuffer(i.base64.length(f.signature)),0):f.signature.length&&(h.signature=f.signature)),f.key!=null&&(typeof f.key=="string"?i.base64.decode(f.key,h.key=i.newBuffer(i.base64.length(f.key)),0):f.key.length&&(h.key=f.key)),h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.topicIDs=[]),f.from!=null&&f.hasOwnProperty("from")&&(d.from=h.bytes===String?i.base64.encode(f.from,0,f.from.length):h.bytes===Array?Array.prototype.slice.call(f.from):f.from,h.oneofs&&(d._from="from")),f.data!=null&&f.hasOwnProperty("data")&&(d.data=h.bytes===String?i.base64.encode(f.data,0,f.data.length):h.bytes===Array?Array.prototype.slice.call(f.data):f.data,h.oneofs&&(d._data="data")),f.seqno!=null&&f.hasOwnProperty("seqno")&&(d.seqno=h.bytes===String?i.base64.encode(f.seqno,0,f.seqno.length):h.bytes===Array?Array.prototype.slice.call(f.seqno):f.seqno,h.oneofs&&(d._seqno="seqno")),f.topicIDs&&f.topicIDs.length){d.topicIDs=[];for(var g=0;g<f.topicIDs.length;++g)d.topicIDs[g]=f.topicIDs[g]}return f.signature!=null&&f.hasOwnProperty("signature")&&(d.signature=h.bytes===String?i.base64.encode(f.signature,0,f.signature.length):h.bytes===Array?Array.prototype.slice.call(f.signature):f.signature,h.oneofs&&(d._signature="signature")),f.key!=null&&f.hasOwnProperty("key")&&(d.key=h.bytes===String?i.base64.encode(f.key,0,f.key.length):h.bytes===Array?Array.prototype.slice.call(f.key):f.key,h.oneofs&&(d._key="key")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlMessage=function(){function o(u){if(this.ihave=[],this.iwant=[],this.graft=[],this.prune=[],u)for(var c=Object.keys(u),f=0;f<c.length;++f)u[c[f]]!=null&&(this[c[f]]=u[c[f]])}return o.prototype.ihave=i.emptyArray,o.prototype.iwant=i.emptyArray,o.prototype.graft=i.emptyArray,o.prototype.prune=i.emptyArray,o.encode=function(c,f){if(f||(f=r.create()),c.ihave!=null&&c.ihave.length)for(var h=0;h<c.ihave.length;++h)n.RPC.ControlIHave.encode(c.ihave[h],f.uint32(10).fork()).ldelim();if(c.iwant!=null&&c.iwant.length)for(var h=0;h<c.iwant.length;++h)n.RPC.ControlIWant.encode(c.iwant[h],f.uint32(18).fork()).ldelim();if(c.graft!=null&&c.graft.length)for(var h=0;h<c.graft.length;++h)n.RPC.ControlGraft.encode(c.graft[h],f.uint32(26).fork()).ldelim();if(c.prune!=null&&c.prune.length)for(var h=0;h<c.prune.length;++h)n.RPC.ControlPrune.encode(c.prune[h],f.uint32(34).fork()).ldelim();return f},o.decode=function(c,f){c instanceof e||(c=e.create(c));for(var h=f===void 0?c.len:c.pos+f,d=new n.RPC.ControlMessage;c.pos<h;){var g=c.uint32();switch(g>>>3){case 1:d.ihave&&d.ihave.length||(d.ihave=[]),d.ihave.push(n.RPC.ControlIHave.decode(c,c.uint32()));break;case 2:d.iwant&&d.iwant.length||(d.iwant=[]),d.iwant.push(n.RPC.ControlIWant.decode(c,c.uint32()));break;case 3:d.graft&&d.graft.length||(d.graft=[]),d.graft.push(n.RPC.ControlGraft.decode(c,c.uint32()));break;case 4:d.prune&&d.prune.length||(d.prune=[]),d.prune.push(n.RPC.ControlPrune.decode(c,c.uint32()));break;default:c.skipType(g&7);break}}return d},o.fromObject=function(c){if(c instanceof n.RPC.ControlMessage)return c;var f=new n.RPC.ControlMessage;if(c.ihave){if(!Array.isArray(c.ihave))throw TypeError(".RPC.ControlMessage.ihave: array expected");f.ihave=[];for(var h=0;h<c.ihave.length;++h){if(typeof c.ihave[h]!="object")throw TypeError(".RPC.ControlMessage.ihave: object expected");f.ihave[h]=n.RPC.ControlIHave.fromObject(c.ihave[h])}}if(c.iwant){if(!Array.isArray(c.iwant))throw TypeError(".RPC.ControlMessage.iwant: array expected");f.iwant=[];for(var h=0;h<c.iwant.length;++h){if(typeof c.iwant[h]!="object")throw TypeError(".RPC.ControlMessage.iwant: object expected");f.iwant[h]=n.RPC.ControlIWant.fromObject(c.iwant[h])}}if(c.graft){if(!Array.isArray(c.graft))throw TypeError(".RPC.ControlMessage.graft: array expected");f.graft=[];for(var h=0;h<c.graft.length;++h){if(typeof c.graft[h]!="object")throw TypeError(".RPC.ControlMessage.graft: object expected");f.graft[h]=n.RPC.ControlGraft.fromObject(c.graft[h])}}if(c.prune){if(!Array.isArray(c.prune))throw TypeError(".RPC.ControlMessage.prune: array expected");f.prune=[];for(var h=0;h<c.prune.length;++h){if(typeof c.prune[h]!="object")throw TypeError(".RPC.ControlMessage.prune: object expected");f.prune[h]=n.RPC.ControlPrune.fromObject(c.prune[h])}}return f},o.toObject=function(c,f){f||(f={});var h={};if((f.arrays||f.defaults)&&(h.ihave=[],h.iwant=[],h.graft=[],h.prune=[]),c.ihave&&c.ihave.length){h.ihave=[];for(var d=0;d<c.ihave.length;++d)h.ihave[d]=n.RPC.ControlIHave.toObject(c.ihave[d],f)}if(c.iwant&&c.iwant.length){h.iwant=[];for(var d=0;d<c.iwant.length;++d)h.iwant[d]=n.RPC.ControlIWant.toObject(c.iwant[d],f)}if(c.graft&&c.graft.length){h.graft=[];for(var d=0;d<c.graft.length;++d)h.graft[d]=n.RPC.ControlGraft.toObject(c.graft[d],f)}if(c.prune&&c.prune.length){h.prune=[];for(var d=0;d<c.prune.length;++d)h.prune[d]=n.RPC.ControlPrune.toObject(c.prune[d],f)}return h},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlIHave=function(){function o(c){if(this.messageIDs=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null,o.prototype.messageIDs=i.emptyArray;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),f.messageIDs!=null&&f.messageIDs.length)for(var d=0;d<f.messageIDs.length;++d)h.uint32(18).bytes(f.messageIDs[d]);return h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.ControlIHave;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.topicID=f.string();break;case 2:g.messageIDs&&g.messageIDs.length||(g.messageIDs=[]),g.messageIDs.push(f.bytes());break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.ControlIHave)return f;var h=new n.RPC.ControlIHave;if(f.topicID!=null&&(h.topicID=String(f.topicID)),f.messageIDs){if(!Array.isArray(f.messageIDs))throw TypeError(".RPC.ControlIHave.messageIDs: array expected");h.messageIDs=[];for(var d=0;d<f.messageIDs.length;++d)typeof f.messageIDs[d]=="string"?i.base64.decode(f.messageIDs[d],h.messageIDs[d]=i.newBuffer(i.base64.length(f.messageIDs[d])),0):f.messageIDs[d].length&&(h.messageIDs[d]=f.messageIDs[d])}return h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.messageIDs=[]),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),f.messageIDs&&f.messageIDs.length){d.messageIDs=[];for(var g=0;g<f.messageIDs.length;++g)d.messageIDs[g]=h.bytes===String?i.base64.encode(f.messageIDs[g],0,f.messageIDs[g].length):h.bytes===Array?Array.prototype.slice.call(f.messageIDs[g]):f.messageIDs[g]}return d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlIWant=function(){function o(u){if(this.messageIDs=[],u)for(var c=Object.keys(u),f=0;f<c.length;++f)u[c[f]]!=null&&(this[c[f]]=u[c[f]])}return o.prototype.messageIDs=i.emptyArray,o.encode=function(c,f){if(f||(f=r.create()),c.messageIDs!=null&&c.messageIDs.length)for(var h=0;h<c.messageIDs.length;++h)f.uint32(10).bytes(c.messageIDs[h]);return f},o.decode=function(c,f){c instanceof e||(c=e.create(c));for(var h=f===void 0?c.len:c.pos+f,d=new n.RPC.ControlIWant;c.pos<h;){var g=c.uint32();switch(g>>>3){case 1:d.messageIDs&&d.messageIDs.length||(d.messageIDs=[]),d.messageIDs.push(c.bytes());break;default:c.skipType(g&7);break}}return d},o.fromObject=function(c){if(c instanceof n.RPC.ControlIWant)return c;var f=new n.RPC.ControlIWant;if(c.messageIDs){if(!Array.isArray(c.messageIDs))throw TypeError(".RPC.ControlIWant.messageIDs: array expected");f.messageIDs=[];for(var h=0;h<c.messageIDs.length;++h)typeof c.messageIDs[h]=="string"?i.base64.decode(c.messageIDs[h],f.messageIDs[h]=i.newBuffer(i.base64.length(c.messageIDs[h])),0):c.messageIDs[h].length&&(f.messageIDs[h]=c.messageIDs[h])}return f},o.toObject=function(c,f){f||(f={});var h={};if((f.arrays||f.defaults)&&(h.messageIDs=[]),c.messageIDs&&c.messageIDs.length){h.messageIDs=[];for(var d=0;d<c.messageIDs.length;++d)h.messageIDs[d]=f.bytes===String?i.base64.encode(c.messageIDs[d],0,c.messageIDs[d].length):f.bytes===Array?Array.prototype.slice.call(c.messageIDs[d]):c.messageIDs[d]}return h},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlGraft=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.ControlGraft;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.topicID=f.string();break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.ControlGraft)return f;var h=new n.RPC.ControlGraft;return f.topicID!=null&&(h.topicID=String(f.topicID)),h},o.toObject=function(f,h){h||(h={});var d={};return f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.ControlPrune=function(){function o(c){if(this.peers=[],c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.topicID=null,o.prototype.peers=i.emptyArray,o.prototype.backoff=null;var u;return Object.defineProperty(o.prototype,"_topicID",{get:i.oneOfGetter(u=["topicID"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_backoff",{get:i.oneOfGetter(u=["backoff"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){if(h||(h=r.create()),f.topicID!=null&&Object.hasOwnProperty.call(f,"topicID")&&h.uint32(10).string(f.topicID),f.peers!=null&&f.peers.length)for(var d=0;d<f.peers.length;++d)n.RPC.PeerInfo.encode(f.peers[d],h.uint32(18).fork()).ldelim();return f.backoff!=null&&Object.hasOwnProperty.call(f,"backoff")&&h.uint32(24).uint64(f.backoff),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.ControlPrune;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.topicID=f.string();break;case 2:g.peers&&g.peers.length||(g.peers=[]),g.peers.push(n.RPC.PeerInfo.decode(f,f.uint32()));break;case 3:g.backoff=f.uint64();break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.ControlPrune)return f;var h=new n.RPC.ControlPrune;if(f.topicID!=null&&(h.topicID=String(f.topicID)),f.peers){if(!Array.isArray(f.peers))throw TypeError(".RPC.ControlPrune.peers: array expected");h.peers=[];for(var d=0;d<f.peers.length;++d){if(typeof f.peers[d]!="object")throw TypeError(".RPC.ControlPrune.peers: object expected");h.peers[d]=n.RPC.PeerInfo.fromObject(f.peers[d])}}return f.backoff!=null&&(i.Long?(h.backoff=i.Long.fromValue(f.backoff)).unsigned=!0:typeof f.backoff=="string"?h.backoff=parseInt(f.backoff,10):typeof f.backoff=="number"?h.backoff=f.backoff:typeof f.backoff=="object"&&(h.backoff=new i.LongBits(f.backoff.low>>>0,f.backoff.high>>>0).toNumber(!0))),h},o.toObject=function(f,h){h||(h={});var d={};if((h.arrays||h.defaults)&&(d.peers=[]),f.topicID!=null&&f.hasOwnProperty("topicID")&&(d.topicID=f.topicID,h.oneofs&&(d._topicID="topicID")),f.peers&&f.peers.length){d.peers=[];for(var g=0;g<f.peers.length;++g)d.peers[g]=n.RPC.PeerInfo.toObject(f.peers[g],h)}return f.backoff!=null&&f.hasOwnProperty("backoff")&&(typeof f.backoff=="number"?d.backoff=h.longs===String?String(f.backoff):f.backoff:d.backoff=h.longs===String?i.Long.prototype.toString.call(f.backoff):h.longs===Number?new i.LongBits(f.backoff.low>>>0,f.backoff.high>>>0).toNumber(!0):f.backoff,h.oneofs&&(d._backoff="backoff")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s.PeerInfo=function(){function o(c){if(c)for(var f=Object.keys(c),h=0;h<f.length;++h)c[f[h]]!=null&&(this[f[h]]=c[f[h]])}o.prototype.peerID=null,o.prototype.signedPeerRecord=null;var u;return Object.defineProperty(o.prototype,"_peerID",{get:i.oneOfGetter(u=["peerID"]),set:i.oneOfSetter(u)}),Object.defineProperty(o.prototype,"_signedPeerRecord",{get:i.oneOfGetter(u=["signedPeerRecord"]),set:i.oneOfSetter(u)}),o.encode=function(f,h){return h||(h=r.create()),f.peerID!=null&&Object.hasOwnProperty.call(f,"peerID")&&h.uint32(10).bytes(f.peerID),f.signedPeerRecord!=null&&Object.hasOwnProperty.call(f,"signedPeerRecord")&&h.uint32(18).bytes(f.signedPeerRecord),h},o.decode=function(f,h){f instanceof e||(f=e.create(f));for(var d=h===void 0?f.len:f.pos+h,g=new n.RPC.PeerInfo;f.pos<d;){var b=f.uint32();switch(b>>>3){case 1:g.peerID=f.bytes();break;case 2:g.signedPeerRecord=f.bytes();break;default:f.skipType(b&7);break}}return g},o.fromObject=function(f){if(f instanceof n.RPC.PeerInfo)return f;var h=new n.RPC.PeerInfo;return f.peerID!=null&&(typeof f.peerID=="string"?i.base64.decode(f.peerID,h.peerID=i.newBuffer(i.base64.length(f.peerID)),0):f.peerID.length&&(h.peerID=f.peerID)),f.signedPeerRecord!=null&&(typeof f.signedPeerRecord=="string"?i.base64.decode(f.signedPeerRecord,h.signedPeerRecord=i.newBuffer(i.base64.length(f.signedPeerRecord)),0):f.signedPeerRecord.length&&(h.signedPeerRecord=f.signedPeerRecord)),h},o.toObject=function(f,h){h||(h={});var d={};return f.peerID!=null&&f.hasOwnProperty("peerID")&&(d.peerID=h.bytes===String?i.base64.encode(f.peerID,0,f.peerID.length):h.bytes===Array?Array.prototype.slice.call(f.peerID):f.peerID,h.oneofs&&(d._peerID="peerID")),f.signedPeerRecord!=null&&f.hasOwnProperty("signedPeerRecord")&&(d.signedPeerRecord=h.bytes===String?i.base64.encode(f.signedPeerRecord,0,f.signedPeerRecord.length):h.bytes===Array?Array.prototype.slice.call(f.signedPeerRecord):f.signedPeerRecord,h.oneofs&&(d._signedPeerRecord="signedPeerRecord")),d},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o}(),s}(),n})});var Ku=R(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getGossipPeers=void 0;var wg=as();function $9(t,e,r,i=()=>!0){let n=t.topics.get(e);if(!n)return new Set;let s=[];return n.forEach(a=>{let o=t.peers.get(a);!o||wg.hasGossipProtocol(o.protocol)&&i(a)&&s.push(a)}),s=wg.shuffle(s),r>0&&s.length>r&&(s=s.slice(0,r)),new Set(s)}Ff.getGossipPeers=$9});var Eg=R(xi=>{"use strict";var Z9=xi&&xi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),J9=xi&&xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X9=xi&&xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z9(e,t,r);return J9(e,t),e};Object.defineProperty(xi,"__esModule",{value:!0});xi.Heartbeat=void 0;var Fu=X9(ss()),Uf=Ku(),Q9=as(),_g=class{constructor(e){this.gossipsub=e}start(){if(this._heartbeatTimer)return;let e=this._heartbeat.bind(this),r=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,this.gossipsub._options.heartbeatInterval)},Fu.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(i,n)=>{this._heartbeatTimer._intervalId=setInterval(i,n)},cancel:()=>{clearTimeout(r),clearInterval(this._heartbeatTimer._intervalId)}}}stop(){!this._heartbeatTimer||(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){let{D:e,Dlo:r,Dhi:i,Dscore:n,Dout:s,fanoutTTL:a}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;let o=new Map,u=g=>{let b=o.get(g);return b===void 0&&(b=this.gossipsub.score.score(g),o.set(g,b)),b},c=new Map,f=new Map,h=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((g,b)=>{let x=S=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",S,b),this.gossipsub.score.prune(S,b),this.gossipsub._addBackoff(S,b),g.delete(S);let P=f.get(S);P?P.push(b):f.set(S,[b])},I=S=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",S,b),this.gossipsub.score.graft(S,b),g.add(S);let P=c.get(S);P?P.push(b):c.set(S,[b])};if(g.forEach(S=>{let P=u(S);P<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",S,P,b),x(S),h.set(S,!0))}),g.size<r){let S=this.gossipsub.backoff.get(b),P=e-g.size;Uf.getGossipPeers(this.gossipsub,b,P,q=>!g.has(q)&&!this.gossipsub.direct.has(q)&&(!S||!S.has(q))&&u(q)>=0).forEach(I)}if(g.size>i){let S=Array.from(g);S.sort((M,q)=>u(q)-u(M)),S=S.slice(0,n).concat(Q9.shuffle(S.slice(n)));let P=0;if(S.slice(0,e).forEach(M=>{this.gossipsub.outbound.get(M)&&P++}),P<s){let M=L=>{let O=S[L];for(let H=L;H>0;H--)S[H]=S[H-1];S[0]=O};if(P>0){let L=P;for(let O=1;O<e&&L>0;O++)this.gossipsub.outbound.get(S[O])&&(M(O),L--)}let q=e-P;for(let L=e;L<S.length&&q>0;L++)this.gossipsub.outbound.get(S[L])&&(M(L),q--)}S.slice(e).forEach(x)}if(g.size>=r){let S=0;if(g.forEach(P=>{this.gossipsub.outbound.get(P)&&S++}),S<s){let P=s-S,M=this.gossipsub.backoff.get(b);Uf.getGossipPeers(this.gossipsub,b,P,q=>!g.has(q)&&!this.gossipsub.direct.has(q)&&(!M||!M.has(q))&&u(q)>=0).forEach(I)}}if(this.gossipsub.heartbeatTicks%Fu.GossipsubOpportunisticGraftTicks==0&&g.size>1){let S=Array.from(g).sort((q,L)=>u(q)-u(L)),P=Math.floor(g.size/2),M=u(S[P]);if(M<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){let q=this.gossipsub.backoff.get(b);Uf.getGossipPeers(this.gossipsub,b,Fu.GossipsubOpportunisticGraftPeers,O=>g.has(O)&&!this.gossipsub.direct.has(O)&&(!q||!q.has(O))&&u(O)>M).forEach(O=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",O,b),I(O)})}}this.gossipsub._emitGossip(b,g)});let d=this.gossipsub._now();this.gossipsub.lastpub.forEach((g,b)=>{g+a<d&&(this.gossipsub.fanout.delete(b),this.gossipsub.lastpub.delete(b))}),this.gossipsub.fanout.forEach((g,b)=>{let x=this.gossipsub.topics.get(b);if(g.forEach(I=>{(!x.has(I)||u(I)<this.gossipsub._options.scoreThresholds.publishThreshold)&&g.delete(I)}),g.size<e){let I=e-g.size;Uf.getGossipPeers(this.gossipsub,b,I,P=>!g.has(P)&&!this.gossipsub.direct.has(P)&&u(P)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(P=>{g.add(P)})}this.gossipsub._emitGossip(b,g)}),this.gossipsub._sendGraftPrune(c,f,h),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}};xi.Heartbeat=_g});var Uu=R(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.ERR_INVALID_PEER_SCORE_THRESHOLDS=Js.ERR_INVALID_PEER_SCORE_PARAMS=void 0;Js.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS";Js.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"});var zu=R(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.validateTopicScoreParams=rr.validatePeerScoreParams=rr.createTopicScoreParams=rr.createPeerScoreParams=rr.defaultTopicScoreParams=rr.defaultPeerScoreParams=void 0;var Pe=Uu(),Me=We();rr.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:3600*1e3};rr.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3};function e7(t={}){return Object.assign(Object.assign(Object.assign({},rr.defaultPeerScoreParams),t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=Sg(i),e),{}):{}})}rr.createPeerScoreParams=e7;function Sg(t={}){return Object.assign(Object.assign({},rr.defaultTopicScoreParams),t)}rr.createTopicScoreParams=Sg;function t7(t){for(let[e,r]of Object.entries(t.topics))try{Ag(r)}catch(i){throw Me(new Error(`invalid score parameters for topic ${e}: ${i.message}`),Pe.ERR_INVALID_PEER_SCORE_PARAMS)}if(t.topicScoreCap<0)throw Me(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.appSpecificScore===null||t.appSpecificScore===void 0)throw Me(new Error("missing application specific score function"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight>0)throw Me(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight!==0&&t.IPColocationFactorThreshold<1)throw Me(new Error("invalid IPColocationFactorThreshold; must be at least 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight>0)throw Me(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight!==0&&(t.behaviourPenaltyDecay<=0||t.behaviourPenaltyDecay>=1))throw Me(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayInterval<1e3)throw Me(new Error("invalid DecayInterval; must be at least 1s"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayToZero<=0||t.decayToZero>=1)throw Me(new Error("invalid DecayToZero; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS)}rr.validatePeerScoreParams=t7;function Ag(t){if(t.topicWeight<0)throw Me(new Error("invalid topic weight; must be >= 0"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshQuantum===0)throw Me(new Error("invalid TimeInMeshQuantum; must be non zero"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight<0)throw Me(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshQuantum<=0)throw Me(new Error("invalid TimeInMeshQuantum; must be positive"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshCap<=0)throw Me(new Error("invalid TimeInMeshCap; must be positive"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight<0)throw Me(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&(t.firstMessageDeliveriesDecay<=0||t.firstMessageDeliveriesDecay>=1))throw Me(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&t.firstMessageDeliveriesCap<=0)throw Me(new Error("invalid FirstMessageDeliveriesCap; must be positive"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight>0)throw Me(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&(t.meshMessageDeliveriesDecay<=0||t.meshMessageDeliveriesDecay>=1))throw Me(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesCap<=0)throw Me(new Error("invalid MeshMessageDeliveriesCap; must be positive"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesThreshold<=0)throw Me(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWindow<0)throw Me(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesActivation<1e3)throw Me(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight>0)throw Me(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight!==0&&(t.meshFailurePenaltyDecay<=0||t.meshFailurePenaltyDecay>=1))throw Me(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesWeight>0)throw Me(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),Pe.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesDecay<=0||t.invalidMessageDeliveriesDecay>=1)throw Me(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),Pe.ERR_INVALID_PEER_SCORE_PARAMS)}rr.validateTopicScoreParams=Ag});var Ig=R(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.validatePeerScoreThresholds=Gi.createPeerScoreThresholds=Gi.defaultPeerScoreThresholds=void 0;var io=Uu(),no=We();Gi.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20};function r7(t={}){return Object.assign(Object.assign({},Gi.defaultPeerScoreThresholds),t)}Gi.createPeerScoreThresholds=r7;function i7(t){if(t.gossipThreshold>0)throw no(new Error("invalid gossip threshold; it must be <= 0"),io.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.publishThreshold>0||t.publishThreshold>t.gossipThreshold)throw no(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),io.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.graylistThreshold>0||t.graylistThreshold>t.publishThreshold)throw no(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),io.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.acceptPXThreshold<0)throw no(new Error("invalid accept PX threshold; it must be >= 0"),io.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.opportunisticGraftThreshold<0)throw no(new Error("invalid opportunistic grafting threshold; it must be >= 0"),io.ERR_INVALID_PEER_SCORE_THRESHOLDS)}Gi.validatePeerScoreThresholds=i7});var Bg=R(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.ensureTopicStats=An.createTopicStats=An.createPeerStats=void 0;function n7(t={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=Gu(i),e),{}):{}})}An.createPeerStats=n7;function Gu(t={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},t)}An.createTopicStats=Gu;function s7(t,e,r){let i=e.topics[t];if(i)return i;if(!!r.topics[t])return e.topics[t]=i=Gu(),i}An.ensureTopicStats=s7});var Cg=R(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.computeScore=void 0;function a7(t,e,r,i){let n=0;return Object.entries(e.topics).forEach(([o,u])=>{let c=r.topics[o];if(!c)return;let f=0;if(u.inMesh){let b=u.meshTime/c.timeInMeshQuantum;b>c.timeInMeshCap&&(b=c.timeInMeshCap),f+=b*c.timeInMeshWeight}if(f+=u.firstMessageDeliveries*c.firstMessageDeliveriesWeight,u.meshMessageDeliveriesActive&&u.meshMessageDeliveries<c.meshMessageDeliveriesThreshold){let b=c.meshMessageDeliveriesThreshold-u.meshMessageDeliveries;f+=b*b*c.meshMessageDeliveriesWeight}f+=u.meshFailurePenalty*c.meshFailurePenaltyWeight,f+=u.invalidMessageDeliveries*u.invalidMessageDeliveries*c.invalidMessageDeliveriesWeight,n+=f*c.topicWeight}),r.topicScoreCap>0&&n>r.topicScoreCap&&(n=r.topicScoreCap),n+=r.appSpecificScore(t)*r.appSpecificWeight,e.ips.forEach(o=>{if(r.IPColocationFactorWhitelist.has(o))return;let u=i.get(o),c=u?u.size:0;if(c>r.IPColocationFactorThreshold){let f=c-r.IPColocationFactorThreshold;n+=f*f*r.IPColocationFactorWeight}}),n+=e.behaviourPenalty*e.behaviourPenalty*r.behaviourPenaltyWeight,n}zf.computeScore=a7});var Tg=R((RR,Rg)=>{"use strict";function Ze(t,e){var e=e||{};this._head=0,this._tail=0,this._capacity=e.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}Ze.prototype.peekAt=function(e){var r=e;if(r===(r|0)){var i=this.size();if(!(r>=i||r<-i))return r<0&&(r+=i),r=this._head+r&this._capacityMask,this._list[r]}};Ze.prototype.get=function(e){return this.peekAt(e)};Ze.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Ze.prototype.peekFront=function(){return this.peek()};Ze.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Ze.prototype,"length",{get:function(){return this.size()}});Ze.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ze.prototype.unshift=function(e){if(e===void 0)return this.size();var r=this._list.length;return this._head=this._head-1+r&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ze.prototype.shift=function(){var e=this._head;if(e!==this._tail){var r=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),r}};Ze.prototype.push=function(e){if(e===void 0)return this.size();var r=this._tail;return this._list[r]=e,this._tail=r+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ze.prototype.pop=function(){var e=this._tail;if(e!==this._head){var r=this._list.length;this._tail=e-1+r&this._capacityMask;var i=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=r>>>2&&this._shrinkArray(),i}};Ze.prototype.removeOne=function(e){var r=e;if(r===(r|0)&&this._head!==this._tail){var i=this.size(),n=this._list.length;if(!(r>=i||r<-i)){r<0&&(r+=i),r=this._head+r&this._capacityMask;var s=this._list[r],a;if(e<i/2){for(a=e;a>0;a--)this._list[r]=this._list[r=r-1+n&this._capacityMask];this._list[r]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(a=i-1-e;a>0;a--)this._list[r]=this._list[r=r+1+n&this._capacityMask];this._list[r]=void 0,this._tail=this._tail-1+n&this._capacityMask}return s}}};Ze.prototype.remove=function(e,r){var i=e,n,s=r;if(i===(i|0)&&this._head!==this._tail){var a=this.size(),o=this._list.length;if(!(i>=a||i<-a||r<1)){if(i<0&&(i+=a),r===1||!r)return n=new Array(1),n[0]=this.removeOne(i),n;if(i===0&&i+r>=a)return n=this.toArray(),this.clear(),n;i+r>a&&(r=a-i);var u;for(n=new Array(r),u=0;u<r;u++)n[u]=this._list[this._head+i+u&this._capacityMask];if(i=this._head+i&this._capacityMask,e+r===a){for(this._tail=this._tail-r+o&this._capacityMask,u=r;u>0;u--)this._list[i=i+1+o&this._capacityMask]=void 0;return n}if(e===0){for(this._head=this._head+r+o&this._capacityMask,u=r-1;u>0;u--)this._list[i=i+1+o&this._capacityMask]=void 0;return n}if(i<a/2){for(this._head=this._head+e+r+o&this._capacityMask,u=e;u>0;u--)this.unshift(this._list[i=i-1+o&this._capacityMask]);for(i=this._head-1+o&this._capacityMask;s>0;)this._list[i=i-1+o&this._capacityMask]=void 0,s--;e<0&&(this._tail=i)}else{for(this._tail=i,i=i+r+o&this._capacityMask,u=a-(r+e);u>0;u--)this.push(this._list[i++]);for(i=this._tail;s>0;)this._list[i=i+1+o&this._capacityMask]=void 0,s--}return this._head<2&&this._tail>1e4&&this._tail<=o>>>2&&this._shrinkArray(),n}}};Ze.prototype.splice=function(e,r){var i=e;if(i===(i|0)){var n=this.size();if(i<0&&(i+=n),!(i>n))if(arguments.length>2){var s,a,o,u=arguments.length,c=this._list.length,f=2;if(!n||i<n/2){for(a=new Array(i),s=0;s<i;s++)a[s]=this._list[this._head+s&this._capacityMask];for(r===0?(o=[],i>0&&(this._head=this._head+i+c&this._capacityMask)):(o=this.remove(i,r),this._head=this._head+i+c&this._capacityMask);u>f;)this.unshift(arguments[--u]);for(s=i;s>0;s--)this.unshift(a[s-1])}else{a=new Array(n-(i+r));var h=a.length;for(s=0;s<h;s++)a[s]=this._list[this._head+i+r+s&this._capacityMask];for(r===0?(o=[],i!=n&&(this._tail=this._head+i+c&this._capacityMask)):(o=this.remove(i,r),this._tail=this._tail-h+c&this._capacityMask);f<u;)this.push(arguments[f++]);for(s=0;s<h;s++)this.push(a[s])}return o}else return this.remove(i,r)}};Ze.prototype.clear=function(){this._head=0,this._tail=0};Ze.prototype.isEmpty=function(){return this._head===this._tail};Ze.prototype.toArray=function(){return this._copyArray(!1)};Ze.prototype._fromArray=function(e){for(var r=0;r<e.length;r++)this.push(e[r])};Ze.prototype._copyArray=function(e){var r=[],i=this._list,n=i.length,s;if(e||this._head>this._tail){for(s=this._head;s<n;s++)r.push(i[s]);for(s=0;s<this._tail;s++)r.push(i[s])}else for(s=this._head;s<this._tail;s++)r.push(i[s]);return r};Ze.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length<<=1,this._capacityMask=this._capacityMask<<1|1};Ze.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};Rg.exports=Ze});var Dg=R(Vi=>{"use strict";var o7=Vi&&Vi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.MessageDeliveries=Vi.DeliveryRecordStatus=void 0;var f7=ss(),c7=o7(Tg()),u7=as(),Pg;(function(t){t[t.unknown=0]="unknown",t[t.valid=1]="valid",t[t.invalid=2]="invalid",t[t.ignored=3]="ignored"})(Pg=Vi.DeliveryRecordStatus||(Vi.DeliveryRecordStatus={}));var Mg=class{constructor(){this.records=new Map,this.queue=new c7.default}ensureRecord(e){let r=u7.messageIdToString(e),i=this.records.get(r);if(i)return i;i={status:Pg.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(r,i);let n={msgId:r,expire:Date.now()+f7.TimeCacheDuration};return this.queue.push(n),i}gc(){let e=Date.now(),r=this.queue.peekFront();for(;r&&r.expire<e;)this.records.delete(r.msgId),this.queue.shift(),r=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}};Vi.MessageDeliveries=Mg});var kg=R(In=>{"use strict";var Gf=In&&In.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function u(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):n(f.value).then(o,u)}c((i=i.apply(t,e||[])).next())})},h7=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.PeerScore=void 0;var l7=zu(),Xs=Bg(),d7=Cg(),Yr=Dg(),p7=ss(),y7=h7($s()),b7=Eo(),g7=To(),{ERR_INVALID_SIGNATURE:v7,ERR_MISSING_SIGNATURE:m7}=g7.codes,Qs=b7("libp2p:gossipsub:score"),Og=class{constructor(e,r,i){l7.validatePeerScoreParams(e),this.params=e,this._connectionManager=r,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new Yr.MessageDeliveries,this.msgId=i}start(){if(this._backgroundInterval){Qs("Peer score already running");return}this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),Qs("started")}stop(){if(!this._backgroundInterval){Qs("Peer score already stopped");return}clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),Qs("stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){let e=Date.now(),r=this.params.decayToZero;this.peerStats.forEach((i,n)=>{if(!i.connected){e>i.expire&&(this._removeIPs(n,i.ips),this.peerStats.delete(n));return}Object.entries(i.topics).forEach(([s,a])=>{let o=this.params.topics[s];!o||(a.firstMessageDeliveries*=o.firstMessageDeliveriesDecay,a.firstMessageDeliveries<r&&(a.firstMessageDeliveries=0),a.meshMessageDeliveries*=o.meshMessageDeliveriesDecay,a.meshMessageDeliveries<r&&(a.meshMessageDeliveries=0),a.meshFailurePenalty*=o.meshFailurePenaltyDecay,a.meshFailurePenalty<r&&(a.meshFailurePenalty=0),a.invalidMessageDeliveries*=o.invalidMessageDeliveriesDecay,a.invalidMessageDeliveries<r&&(a.invalidMessageDeliveries=0),a.inMesh&&(a.meshTime=e-a.graftTime,a.meshTime>o.meshMessageDeliveriesActivation&&(a.meshMessageDeliveriesActive=!0)))}),i.behaviourPenalty*=this.params.behaviourPenaltyDecay,i.behaviourPenalty<r&&(i.behaviourPenalty=0)})}score(e){let r=this.peerStats.get(e);return r?d7.computeScore(e,r,this.params,this.peerIPs):0}addPenalty(e,r){let i=this.peerStats.get(e);!i||(i.behaviourPenalty+=r)}addPeer(e){let r=Xs.createPeerStats({connected:!0});this.peerStats.set(e,r);let i=this._getIPs(e);this._setIPs(e,i,r.ips),r.ips=i}removePeer(e){let r=this.peerStats.get(e);if(!!r){if(this.score(e)>0){this._removeIPs(e,r.ips),this.peerStats.delete(e);return}Object.entries(r.topics).forEach(([i,n])=>{n.firstMessageDeliveries=0;let s=this.params.topics[i].meshMessageDeliveriesThreshold;if(n.inMesh&&n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1,n.meshMessageDeliveriesActive=!1}),r.connected=!1,r.expire=Date.now()+this.params.retainScore}}graft(e,r){let i=this.peerStats.get(e);if(!i)return;let n=Xs.ensureTopicStats(r,i,this.params);!n||(n.inMesh=!0,n.graftTime=Date.now(),n.meshTime=0,n.meshMessageDeliveriesActive=!1)}prune(e,r){let i=this.peerStats.get(e);if(!i)return;let n=Xs.ensureTopicStats(r,i,this.params);if(!n)return;let s=this.params.topics[r].meshMessageDeliveriesThreshold;if(n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1,n.meshMessageDeliveriesActive=!1}validateMessage(e){return Gf(this,void 0,void 0,function*(){this.deliveryRecords.ensureRecord(yield this.msgId(e))})}deliverMessage(e){return Gf(this,void 0,void 0,function*(){let r=e.receivedFrom;this._markFirstMessageDelivery(r,e);let i=this.deliveryRecords.ensureRecord(yield this.msgId(e)),n=Date.now();if(i.status!==Yr.DeliveryRecordStatus.unknown){Qs("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",r,n-i.firstSeen,Yr.DeliveryRecordStatus[i.status]);return}i.status=Yr.DeliveryRecordStatus.valid,i.validated=n,i.peers.forEach(s=>{s!==r&&this._markDuplicateMessageDelivery(s,e)})})}rejectMessage(e,r){return Gf(this,void 0,void 0,function*(){let i=e.receivedFrom;switch(r){case m7:case v7:this._markInvalidMessageDelivery(i,e);return}let n=this.deliveryRecords.ensureRecord(yield this.msgId(e));if(n.status!==Yr.DeliveryRecordStatus.unknown){Qs("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",i,Date.now()-n.firstSeen,Yr.DeliveryRecordStatus[n.status]);return}switch(r){case p7.ERR_TOPIC_VALIDATOR_IGNORE:n.status=Yr.DeliveryRecordStatus.ignored;return}n.status=Yr.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(i,e),n.peers.forEach(s=>{this._markInvalidMessageDelivery(s,e)})})}duplicateMessage(e){return Gf(this,void 0,void 0,function*(){let r=e.receivedFrom,i=this.deliveryRecords.ensureRecord(yield this.msgId(e));if(!i.peers.has(r))switch(i.status){case Yr.DeliveryRecordStatus.unknown:i.peers.add(r);break;case Yr.DeliveryRecordStatus.valid:i.peers.add(r),this._markDuplicateMessageDelivery(r,e,i.validated);break;case Yr.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(r,e);break}})}_markInvalidMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=Xs.ensureTopicStats(n,i,this.params);!s||(s.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=Xs.ensureTopicStats(n,i,this.params);if(!s)return;let a=this.params.topics[n].firstMessageDeliveriesCap;s.firstMessageDeliveries+=1,s.firstMessageDeliveries>a&&(s.firstMessageDeliveries=a),!!s.inMesh&&(a=this.params.topics[n].meshMessageDeliveriesCap,s.meshMessageDeliveries+=1,s.meshMessageDeliveries>a&&(s.meshMessageDeliveries=a))})}_markDuplicateMessageDelivery(e,r,i=0){let n=this.peerStats.get(e);if(!n)return;let s=i?Date.now():0;r.topicIDs.forEach(a=>{let o=Xs.ensureTopicStats(a,n,this.params);if(!o||!o.inMesh)return;let u=this.params.topics[a];if(i&&s>i+u.meshMessageDeliveriesWindow)return;let c=u.meshMessageDeliveriesCap;o.meshMessageDeliveries+=1,o.meshMessageDeliveries>c&&(o.meshMessageDeliveries=c)})}_getIPs(e){return this._connectionManager.getAll(y7.default.createFromB58String(e)).map(r=>r.remoteAddr.toOptions().host)}_setIPs(e,r,i){e:for(let n of r){for(let a of i)if(n===a)continue e;let s=this.peerIPs.get(n);s||(s=new Set,this.peerIPs.set(n,s)),s.add(e)}e:for(let n of i){for(let a of r)if(n===a)continue e;let s=this.peerIPs.get(n);!s||(s.delete(e),s.size||this.peerIPs.delete(n))}}_removeIPs(e,r){r.forEach(i=>{let n=this.peerIPs.get(i);!n||(n.delete(e),n.size||this.peerIPs.delete(i))})}_updateIPs(){this.peerStats.forEach((e,r)=>{let i=this._getIPs(r);this._setIPs(r,i,e.ips),e.ips=i})}};In.PeerScore=Og});var Ng=R(Hi=>{"use strict";var x7=Hi&&Hi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Vu=Hi&&Hi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&x7(e,t,r)};Object.defineProperty(Hi,"__esModule",{value:!0});Vu(zu(),Hi);Vu(Ig(),Hi);Vu(kg(),Hi)});var Kg=R(ea=>{"use strict";var Lg=ea&&ea.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function u(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):n(f.value).then(o,u)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(ea,"__esModule",{value:!0});ea.IWantTracer=void 0;var w7=ss(),Hu=as(),_7=To(),{ERR_INVALID_SIGNATURE:E7,ERR_MISSING_SIGNATURE:S7}=_7.codes,qg=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,r){let i=Math.floor(Math.random()*r.length),n=r[i],s=Hu.messageIdToString(n),a=this.promises.get(s);a||(a=new Map,this.promises.set(s,a)),a.has(e)||a.set(e,Date.now()+w7.GossipsubIWantFollowupTime)}getBrokenPromises(){let e=Date.now(),r=new Map;return this.promises.forEach((i,n)=>{i.forEach((s,a)=>{s<e&&(r.set(a,(r.get(a)||0)+1),i.delete(a))}),i.size||this.promises.delete(n)}),r}deliverMessage(e){return Lg(this,void 0,void 0,function*(){let r=yield this.getMsgId(e),i=Hu.messageIdToString(r);this.promises.delete(i)})}rejectMessage(e,r){return Lg(this,void 0,void 0,function*(){switch(r){case E7:case S7:return}let i=yield this.getMsgId(e),n=Hu.messageIdToString(i);this.promises.delete(n)})}clear(){this.promises.clear()}};ea.IWantTracer=qg});var Vg=R((OR,Gg)=>{var Fg="Expected a function",Ug=0/0,A7="[object Symbol]",I7=/^\s+|\s+$/g,B7=/^[-+]0x[0-9a-f]+$/i,C7=/^0b[01]+$/i,R7=/^0o[0-7]+$/i,T7=parseInt,P7=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,M7=typeof self=="object"&&self&&self.Object===Object&&self,D7=P7||M7||Function("return this")(),O7=Object.prototype,k7=O7.toString,N7=Math.max,L7=Math.min,ju=function(){return D7.Date.now()};function q7(t,e,r){var i,n,s,a,o,u,c=0,f=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(Fg);e=zg(e)||0,Vf(r)&&(f=!!r.leading,h="maxWait"in r,s=h?N7(zg(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function g(O){var H=i,z=n;return i=n=void 0,c=O,a=t.apply(z,H),a}function b(O){return c=O,o=setTimeout(S,e),f?g(O):a}function x(O){var H=O-u,z=O-c,Q=e-H;return h?L7(Q,s-z):Q}function I(O){var H=O-u,z=O-c;return u===void 0||H>=e||H<0||h&&z>=s}function S(){var O=ju();if(I(O))return P(O);o=setTimeout(S,x(O))}function P(O){return o=void 0,d&&i?g(O):(i=n=void 0,a)}function M(){o!==void 0&&clearTimeout(o),c=0,i=u=n=o=void 0}function q(){return o===void 0?a:P(ju())}function L(){var O=ju(),H=I(O);if(i=arguments,n=this,u=O,H){if(o===void 0)return b(u);if(h)return o=setTimeout(S,e),g(u)}return o===void 0&&(o=setTimeout(S,e)),a}return L.cancel=M,L.flush=q,L}function K7(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(Fg);return Vf(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),q7(t,e,{leading:i,maxWait:e,trailing:n})}function Vf(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function F7(t){return!!t&&typeof t=="object"}function U7(t){return typeof t=="symbol"||F7(t)&&k7.call(t)==A7}function zg(t){if(typeof t=="number")return t;if(U7(t))return Ug;if(Vf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(I7,"");var r=C7.test(t);return r||R7.test(t)?T7(t.slice(2),r?2:8):B7.test(t)?Ug:+t}Gg.exports=K7});var Wg=R((Hg,jg)=>{"use strict";var z7=Vg();Hg=jg.exports=Wu;function Wu(t){if(!(this instanceof Wu))return new Wu(t);t=t||{};let e=t.validity||30,r=new Map,i=z7(()=>{r.forEach((n,s)=>{let a=n.validity||e;G7(n.timestamp)>a&&r.delete(s)})},200);this.put=(n,s,a)=>{this.has(n)||r.set(n,{value:s,timestamp:new Date,validity:a}),i()},this.get=n=>{if(r.has(n))return r.get(n).value;throw new Error("key does not exist")},this.has=n=>r.has(n)}function G7(t){let r=new Date().getTime()-t.getTime();return Math.floor(r/1e3)}});var jf=R((kR,$g)=>{"use strict";var os=Un(),Hf=os.Reader,Yg=os.Writer,ir=os.util,Tr=os.roots["libp2p-crypto-keys"]||(os.roots["libp2p-crypto-keys"]={});Tr.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();Tr.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=ir.newBuffer([]),t.encode=function(r,i){return i||(i=Yg.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Hf||(r=Hf.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Tr.PublicKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw ir.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw ir.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof Tr.PublicKey)return r;var i=new Tr.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?ir.base64.decode(r.Data,i.Data=ir.newBuffer(ir.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=ir.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Tr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?ir.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,os.util.toJSONOptions)},t}();Tr.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=ir.newBuffer([]),t.encode=function(r,i){return i||(i=Yg.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Hf||(r=Hf.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Tr.PrivateKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw ir.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw ir.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof Tr.PrivateKey)return r;var i=new Tr.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?ir.base64.decode(r.Data,i.Data=ir.newBuffer(ir.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=ir.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?Tr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?ir.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,os.util.toJSONOptions)},t}();$g.exports=Tr});var so=R(Zg=>{"use strict";Zg.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var Yu=R((LR,Xg)=>{"use strict";var{concat:V7}=(Vr(),Gr),{fromString:Jg}=(jt(),Ht),H7=so();function j7({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let a=H7.get();r*=8;async function o(c,f){let h=a.getRandomValues(new Uint8Array(n)),d=a.getRandomValues(new Uint8Array(e)),g={name:t,iv:d},b={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},x=await a.subtle.importKey("raw",Jg(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),I=await a.subtle.deriveKey(b,x,{name:t,length:r},!0,["encrypt"]),S=await a.subtle.encrypt(g,I,c);return V7([h,g.iv,new Uint8Array(S)])}async function u(c,f){let h=c.slice(0,n),d=c.slice(n,n+e),g=c.slice(n+e),b={name:t,iv:d},x={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},I=await a.subtle.importKey("raw",Jg(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),S=await a.subtle.deriveKey(x,I,{name:t,length:r},!0,["decrypt"]),P=await a.subtle.decrypt(b,S,g);return new Uint8Array(P)}return{encrypt:o,decrypt:u}}Xg.exports={create:j7}});var ev=R((qR,Qg)=>{"use strict";var{base64:W7}=($n(),cn),Y7=Yu();Qg.exports={import:async function(t,e){let r=W7.decode(t);return await Y7.create().decrypt(r,e)}}});var tv=R($u=>{var $7=ye();dn();var Kt=$7.asn1;$u.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};$u.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Kt.Class.UNIVERSAL,type:Kt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var nh=R((FR,dv)=>{var Wt=ye();Us();qs();gf();$e();var rv=tv(),Z7=rv.publicKeyValidator,J7=rv.privateKeyValidator;typeof iv=="undefined"&&(iv=Wt.jsbn.BigInteger);var iv,Zu=Wt.util.ByteBuffer,pr=typeof Buffer=="undefined"?Uint8Array:Buffer;Wt.pki=Wt.pki||{};dv.exports=Wt.pki.ed25519=Wt.ed25519=Wt.ed25519||{};var pe=Wt.ed25519;pe.constants={};pe.constants.PUBLIC_KEY_BYTE_LENGTH=32;pe.constants.PRIVATE_KEY_BYTE_LENGTH=64;pe.constants.SEED_BYTE_LENGTH=32;pe.constants.SIGN_BYTE_LENGTH=64;pe.constants.HASH_BYTE_LENGTH=64;pe.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Wt.random.getBytesSync(pe.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==pe.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+pe.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ji({message:e,encoding:"binary"});for(var r=new pr(pe.constants.PUBLIC_KEY_BYTE_LENGTH),i=new pr(pe.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return tE(r,i),{publicKey:r,privateKey:i}};pe.privateKeyFromAsn1=function(t){var e={},r=[],i=Wt.asn1.validate(t,J7,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Wt.asn1.derToOid(e.privateKeyOid),a=Wt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.privateKey,u=ji({message:Wt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:u}};pe.publicKeyFromAsn1=function(t){var e={},r=[],i=Wt.asn1.validate(t,Z7,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Wt.asn1.derToOid(e.publicKeyOid),a=Wt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.ed25519PublicKey;if(o.length!==pe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ji({message:o,encoding:"binary"})};pe.publicKeyFromPrivateKey=function(t){t=t||{};var e=ji({message:t.privateKey,encoding:"binary"});if(e.length!==pe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+pe.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new pr(pe.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=e[32+i];return r};pe.sign=function(t){t=t||{};var e=ji(t),r=ji({message:t.privateKey,encoding:"binary"});if(r.length===pe.constants.SEED_BYTE_LENGTH){var i=pe.generateKeyPair({seed:r});r=i.privateKey}else if(r.length!==pe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+pe.constants.SEED_BYTE_LENGTH+" or "+pe.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new pr(pe.constants.SIGN_BYTE_LENGTH+e.length);rE(n,e,e.length,r);for(var s=new pr(pe.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=n[a];return s};pe.verify=function(t){t=t||{};var e=ji(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ji({message:t.signature,encoding:"binary"});if(r.length!==pe.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+pe.constants.SIGN_BYTE_LENGTH);var i=ji({message:t.publicKey,encoding:"binary"});if(i.length!==pe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+pe.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new pr(pe.constants.SIGN_BYTE_LENGTH+e.length),s=new pr(pe.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<pe.constants.SIGN_BYTE_LENGTH;++a)n[a]=r[a];for(a=0;a<e.length;++a)n[a+pe.constants.SIGN_BYTE_LENGTH]=e[a];return iE(s,n,n.length,i)>=0};function ji(t){var e=t.message;if(e instanceof Uint8Array||e instanceof pr)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new Zu(e,r)}else if(!(e instanceof Zu))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new pr(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var Ju=ee(),Wf=ee([1]),X7=ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Q7=ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),nv=ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),sv=ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Xu=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),eE=ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ao(t,e){var r=Wt.md.sha512.create(),i=new Zu(t);r.update(i.getBytes(e),"binary");var n=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var s=new pr(pe.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=n.charCodeAt(a);return s}function tE(t,e){var r=[ee(),ee(),ee(),ee()],i,n=ao(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,rh(r,n),th(t,r),i=0;i<32;++i)e[i+32]=t[i];return 0}function rE(t,e,r,i){var n,s,a=new Float64Array(64),o=[ee(),ee(),ee(),ee()],u=ao(i,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(n=0;n<r;++n)t[64+n]=e[n];for(n=0;n<32;++n)t[32+n]=u[32+n];var f=ao(t.subarray(32),r+32);for(Qu(f),rh(o,f),th(t,o),n=32;n<64;++n)t[n]=i[n];var h=ao(t,r+64);for(Qu(h),n=32;n<64;++n)a[n]=0;for(n=0;n<32;++n)a[n]=f[n];for(n=0;n<32;++n)for(s=0;s<32;s++)a[n+s]+=h[n]*u[s];return av(t.subarray(32),a),c}function iE(t,e,r,i){var n,s,a=new pr(32),o=[ee(),ee(),ee(),ee()],u=[ee(),ee(),ee(),ee()];if(s=-1,r<64||nE(u,i))return-1;for(n=0;n<r;++n)t[n]=e[n];for(n=0;n<32;++n)t[n+32]=i[n];var c=ao(t,r);if(Qu(c),hv(o,u,c),rh(u,e.subarray(32)),eh(o,u),th(a,o),r-=64,cv(e,0,a,0)){for(n=0;n<r;++n)t[n]=0;return-1}for(n=0;n<r;++n)t[n]=e[n+64];return s=r,s}function av(t,e){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*Xu[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;++n)e[n]+=r-(e[31]>>4)*Xu[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=r*Xu[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function Qu(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;av(t,e)}function eh(t,e){var r=ee(),i=ee(),n=ee(),s=ee(),a=ee(),o=ee(),u=ee(),c=ee(),f=ee();ra(r,t[1],t[0]),ra(f,e[1],e[0]),De(r,r,f),ta(i,t[0],t[1]),ta(f,e[0],e[1]),De(i,i,f),De(n,t[3],e[3]),De(n,n,Q7),De(s,t[2],e[2]),ta(s,s,s),ra(a,i,r),ra(o,s,n),ta(u,s,n),ta(c,i,r),De(t[0],a,o),De(t[1],c,u),De(t[2],u,o),De(t[3],a,c)}function ov(t,e,r){for(var i=0;i<4;++i)lv(t[i],e[i],r)}function th(t,e){var r=ee(),i=ee(),n=ee();fE(n,e[2]),De(r,e[0],n),De(i,e[1],n),Yf(t,i),t[31]^=uv(r)<<7}function Yf(t,e){var r,i,n,s=ee(),a=ee();for(r=0;r<16;++r)a[r]=e[r];for(ih(a),ih(a),ih(a),i=0;i<2;++i){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),n=s[15]>>16&1,s[14]&=65535,lv(a,s,1-n)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}function nE(t,e){var r=ee(),i=ee(),n=ee(),s=ee(),a=ee(),o=ee(),u=ee();return Bn(t[2],Wf),sE(t[1],e),fs(n,t[1]),De(s,n,X7),ra(n,n,t[2]),ta(s,t[2],s),fs(a,s),fs(o,a),De(u,o,a),De(r,u,n),De(r,r,s),aE(r,r),De(r,r,n),De(r,r,s),De(r,r,s),De(t[0],r,s),fs(i,t[0]),De(i,i,s),fv(i,n)&&De(t[0],t[0],eE),fs(i,t[0]),De(i,i,s),fv(i,n)?-1:(uv(t[0])===e[31]>>7&&ra(t[0],Ju,t[0]),De(t[3],t[0],t[1]),0)}function sE(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function aE(t,e){var r=ee(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=250;i>=0;--i)fs(r,r),i!==1&&De(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function fv(t,e){var r=new pr(32),i=new pr(32);return Yf(r,t),Yf(i,e),cv(r,0,i,0)}function cv(t,e,r,i){return oE(t,e,r,i,32)}function oE(t,e,r,i,n){var s,a=0;for(s=0;s<n;++s)a|=t[e+s]^r[i+s];return(1&a-1>>>8)-1}function uv(t){var e=new pr(32);return Yf(e,t),e[0]&1}function hv(t,e,r){var i,n;for(Bn(t[0],Ju),Bn(t[1],Wf),Bn(t[2],Wf),Bn(t[3],Ju),n=255;n>=0;--n)i=r[n/8|0]>>(n&7)&1,ov(t,e,i),eh(e,t),eh(t,t),ov(t,e,i)}function rh(t,e){var r=[ee(),ee(),ee(),ee()];Bn(r[0],nv),Bn(r[1],sv),Bn(r[2],Wf),De(r[3],nv,sv),hv(t,r,e)}function Bn(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function fE(t,e){var r=ee(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=253;i>=0;--i)fs(r,r),i!==2&&i!==4&&De(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function ih(t){var e,r,i=1;for(e=0;e<16;++e)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}function lv(t,e,r){for(var i,n=~(r-1),s=0;s<16;++s)i=n&(t[s]^e[s]),t[s]^=i,e[s]^=i}function ee(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function ta(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]+r[i]}function ra(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]-r[i]}function fs(t,e){De(t,e,e)}function De(t,e,r){var i,n,s=0,a=0,o=0,u=0,c=0,f=0,h=0,d=0,g=0,b=0,x=0,I=0,S=0,P=0,M=0,q=0,L=0,O=0,H=0,z=0,Q=0,A=0,l=0,y=0,v=0,m=0,w=0,C=0,B=0,_=0,p=0,E=r[0],V=r[1],j=r[2],Y=r[3],J=r[4],te=r[5],re=r[6],Ke=r[7],ie=r[8],ae=r[9],Rt=r[10],fe=r[11],ce=r[12],Tt=r[13],ue=r[14],he=r[15];i=e[0],s+=i*E,a+=i*V,o+=i*j,u+=i*Y,c+=i*J,f+=i*te,h+=i*re,d+=i*Ke,g+=i*ie,b+=i*ae,x+=i*Rt,I+=i*fe,S+=i*ce,P+=i*Tt,M+=i*ue,q+=i*he,i=e[1],a+=i*E,o+=i*V,u+=i*j,c+=i*Y,f+=i*J,h+=i*te,d+=i*re,g+=i*Ke,b+=i*ie,x+=i*ae,I+=i*Rt,S+=i*fe,P+=i*ce,M+=i*Tt,q+=i*ue,L+=i*he,i=e[2],o+=i*E,u+=i*V,c+=i*j,f+=i*Y,h+=i*J,d+=i*te,g+=i*re,b+=i*Ke,x+=i*ie,I+=i*ae,S+=i*Rt,P+=i*fe,M+=i*ce,q+=i*Tt,L+=i*ue,O+=i*he,i=e[3],u+=i*E,c+=i*V,f+=i*j,h+=i*Y,d+=i*J,g+=i*te,b+=i*re,x+=i*Ke,I+=i*ie,S+=i*ae,P+=i*Rt,M+=i*fe,q+=i*ce,L+=i*Tt,O+=i*ue,H+=i*he,i=e[4],c+=i*E,f+=i*V,h+=i*j,d+=i*Y,g+=i*J,b+=i*te,x+=i*re,I+=i*Ke,S+=i*ie,P+=i*ae,M+=i*Rt,q+=i*fe,L+=i*ce,O+=i*Tt,H+=i*ue,z+=i*he,i=e[5],f+=i*E,h+=i*V,d+=i*j,g+=i*Y,b+=i*J,x+=i*te,I+=i*re,S+=i*Ke,P+=i*ie,M+=i*ae,q+=i*Rt,L+=i*fe,O+=i*ce,H+=i*Tt,z+=i*ue,Q+=i*he,i=e[6],h+=i*E,d+=i*V,g+=i*j,b+=i*Y,x+=i*J,I+=i*te,S+=i*re,P+=i*Ke,M+=i*ie,q+=i*ae,L+=i*Rt,O+=i*fe,H+=i*ce,z+=i*Tt,Q+=i*ue,A+=i*he,i=e[7],d+=i*E,g+=i*V,b+=i*j,x+=i*Y,I+=i*J,S+=i*te,P+=i*re,M+=i*Ke,q+=i*ie,L+=i*ae,O+=i*Rt,H+=i*fe,z+=i*ce,Q+=i*Tt,A+=i*ue,l+=i*he,i=e[8],g+=i*E,b+=i*V,x+=i*j,I+=i*Y,S+=i*J,P+=i*te,M+=i*re,q+=i*Ke,L+=i*ie,O+=i*ae,H+=i*Rt,z+=i*fe,Q+=i*ce,A+=i*Tt,l+=i*ue,y+=i*he,i=e[9],b+=i*E,x+=i*V,I+=i*j,S+=i*Y,P+=i*J,M+=i*te,q+=i*re,L+=i*Ke,O+=i*ie,H+=i*ae,z+=i*Rt,Q+=i*fe,A+=i*ce,l+=i*Tt,y+=i*ue,v+=i*he,i=e[10],x+=i*E,I+=i*V,S+=i*j,P+=i*Y,M+=i*J,q+=i*te,L+=i*re,O+=i*Ke,H+=i*ie,z+=i*ae,Q+=i*Rt,A+=i*fe,l+=i*ce,y+=i*Tt,v+=i*ue,m+=i*he,i=e[11],I+=i*E,S+=i*V,P+=i*j,M+=i*Y,q+=i*J,L+=i*te,O+=i*re,H+=i*Ke,z+=i*ie,Q+=i*ae,A+=i*Rt,l+=i*fe,y+=i*ce,v+=i*Tt,m+=i*ue,w+=i*he,i=e[12],S+=i*E,P+=i*V,M+=i*j,q+=i*Y,L+=i*J,O+=i*te,H+=i*re,z+=i*Ke,Q+=i*ie,A+=i*ae,l+=i*Rt,y+=i*fe,v+=i*ce,m+=i*Tt,w+=i*ue,C+=i*he,i=e[13],P+=i*E,M+=i*V,q+=i*j,L+=i*Y,O+=i*J,H+=i*te,z+=i*re,Q+=i*Ke,A+=i*ie,l+=i*ae,y+=i*Rt,v+=i*fe,m+=i*ce,w+=i*Tt,C+=i*ue,B+=i*he,i=e[14],M+=i*E,q+=i*V,L+=i*j,O+=i*Y,H+=i*J,z+=i*te,Q+=i*re,A+=i*Ke,l+=i*ie,y+=i*ae,v+=i*Rt,m+=i*fe,w+=i*ce,C+=i*Tt,B+=i*ue,_+=i*he,i=e[15],q+=i*E,L+=i*V,O+=i*j,H+=i*Y,z+=i*J,Q+=i*te,A+=i*re,l+=i*Ke,y+=i*ie,v+=i*ae,m+=i*Rt,w+=i*fe,C+=i*ce,B+=i*Tt,_+=i*ue,p+=i*he,s+=38*L,a+=38*O,o+=38*H,u+=38*z,c+=38*Q,f+=38*A,h+=38*l,d+=38*y,g+=38*v,b+=38*m,x+=38*w,I+=38*C,S+=38*B,P+=38*_,M+=38*p,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=q+n+65535,n=Math.floor(i/65536),q=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=q+n+65535,n=Math.floor(i/65536),q=i-n*65536,s+=n-1+37*(n-1),t[0]=s,t[1]=a,t[2]=o,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=d,t[8]=g,t[9]=b,t[10]=x,t[11]=I,t[12]=S,t[13]=P,t[14]=M,t[15]=q}});var sh=R((UR,pv)=>{"use strict";var cE=P0(),uE=We();pv.exports=function(t){if(isNaN(t)||t<=0)throw uE(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return cE(t)}});var $f=R(oo=>{"use strict";$e();Us();var hE=ye(),{fromString:lE}=(jt(),Ht),{toString:yv}=(Xt(),Jt),{concat:bv}=(Vr(),Gr);oo.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=bv([new Uint8Array(e-r.length),r])}return yv(r,"base64url")};oo.base64urlToBigInteger=t=>{let e=oo.base64urlToBuffer(t);return new hE.jsbn.BigInteger(yv(e,"base16"),16)};oo.base64urlToBuffer=(t,e)=>{let r=lE(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=bv([new Uint8Array(e-r.length),r])}return r}});var mv=R(fo=>{"use strict";dn();zs();var Cn=ye(),{bigIntegerToUintBase64url:wi,base64urlToBigInteger:_i}=$f(),{fromString:gv}=(jt(),Ht),{toString:vv}=(Xt(),Jt);fo.pkcs1ToJwk=function(t){let e=Cn.asn1.fromDer(vv(t,"ascii")),r=Cn.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:wi(r.n),e:wi(r.e),d:wi(r.d),p:wi(r.p),q:wi(r.q),dp:wi(r.dP),dq:wi(r.dQ),qi:wi(r.qInv),alg:"RS256",kid:"2011-04-29"}};fo.jwkToPkcs1=function(t){let e=Cn.pki.privateKeyToAsn1({n:_i(t.n),e:_i(t.e),d:_i(t.d),p:_i(t.p),q:_i(t.q),dP:_i(t.dp),dQ:_i(t.dq),qInv:_i(t.qi)});return gv(Cn.asn1.toDer(e).getBytes(),"ascii")};fo.pkixToJwk=function(t){let e=Cn.asn1.fromDer(vv(t,"ascii")),r=Cn.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:wi(r.n),e:wi(r.e),alg:"RS256",kid:"2011-04-29"}};fo.jwkToPkix=function(t){let e=Cn.pki.publicKeyToAsn1({n:_i(t.n),e:_i(t.e)});return gv(Cn.asn1.toDer(e).getBytes(),"ascii")}});var Ev=R((VR,_v)=>{"use strict";zs();var xv=ye(),{base64urlToBigInteger:dE}=$f();function wv(t,e){return e.map(r=>dE(t[r]))}function pE(t){return xv.pki.setRsaPrivateKey(...wv(t,["n","e","d","p","q","dp","dq","qi"]))}function yE(t){return xv.pki.setRsaPublicKey(...wv(t,["n","e"]))}_v.exports={jwk2pub:yE,jwk2priv:pE}});var Iv=R(Yi=>{"use strict";var Wi=so(),bE=sh(),{toString:gE}=(Xt(),Jt),{fromString:vE}=(jt(),Ht);Yi.utils=mv();Yi.generateKey=async function(t){let e=await Wi.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Sv(e);return{privateKey:r[0],publicKey:r[1]}};Yi.unmarshalPrivateKey=async function(t){let r=[await Wi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await mE(t)],i=await Sv({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};Yi.getRandomValues=bE;Yi.hashAndSign=async function(t,e){let r=await Wi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await Wi.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};Yi.hashAndVerify=async function(t,e,r){let i=await Wi.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Wi.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function Sv(t){return Promise.all([Wi.get().subtle.exportKey("jwk",t.privateKey),Wi.get().subtle.exportKey("jwk",t.publicKey)])}function mE(t){return Wi.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:xE,jwk2priv:wE}=Ev();function Av(t,e,r,i){let n=e?xE(t):wE(t),s=gE(Uint8Array.from(r),"ascii"),a=i(s,n);return vE(a,"ascii")}Yi.encrypt=function(t,e){return Av(t,!0,e,(r,i)=>i.encrypt(r))};Yi.decrypt=function(t,e){return Av(t,!1,e,(r,i)=>i.decrypt(r))}});var Zf=R((jR,Bv)=>{"use strict";var{base64:_E}=($n(),cn),EE=Yu();Bv.exports={export:async function(t,e){let i=await EE.create().encrypt(t,e);return _E.encode(i)}}});var Mv=R((WR,Pv)=>{"use strict";var{sha256:Cv}=(Fr(),_r),Rv=We(),{equals:Tv}=(jr(),Hr),{toString:SE}=(Xt(),Jt);gf();nh();var Jf=ye(),Pr=Iv(),Xf=jf(),AE=Zf(),Qf=class{constructor(e){this._key=e}async verify(e,r){return Pr.hashAndVerify(this._key,r,e)}marshal(){return Pr.utils.jwkToPkix(this._key)}get bytes(){return Xf.PublicKey.encode({Type:Xf.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Pr.encrypt(this._key,e)}equals(e){return Tv(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Cv.digest(this.bytes);return e}},co=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Pr.getRandomValues(16)}async sign(e){return Pr.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw Rv(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Qf(this._publicKey)}decrypt(e){return Pr.decrypt(this._key,e)}marshal(){return Pr.utils.jwkToPkcs1(this._key)}get bytes(){return Xf.PrivateKey.encode({Type:Xf.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return Tv(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Cv.digest(this.bytes);return e}async id(){let e=await this.public.hash();return SE(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new Jf.util.ByteBuffer(this.marshal()),n=Jf.asn1.fromDer(i),s=Jf.pki.privateKeyFromAsn1(n),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Jf.pki.encryptRsaPrivateKey(s,e,a)}else{if(r==="libp2p-key")return AE.export(this.bytes,e);throw Rv(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function IE(t){let e=Pr.utils.pkcs1ToJwk(t),r=await Pr.unmarshalPrivateKey(e);return new co(r.privateKey,r.publicKey)}function BE(t){let e=Pr.utils.pkixToJwk(t);return new Qf(e)}async function CE(t){let e=await Pr.unmarshalPrivateKey(t);return new co(e.privateKey,e.publicKey)}async function RE(t){let e=await Pr.generateKey(t);return new co(e.privateKey,e.publicKey)}Pv.exports={RsaPublicKey:Qf,RsaPrivateKey:co,unmarshalRsaPublicKey:BE,unmarshalRsaPrivateKey:IE,generateKeyPair:RE,fromJwk:CE}});var Dv=R(cs=>{"use strict";nh();var ia=ye();cs.publicKeyLength=ia.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;cs.privateKeyLength=ia.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;cs.generateKey=async function(){return ia.pki.ed25519.generateKeyPair()};cs.generateKeyFromSeed=async function(t){return ia.pki.ed25519.generateKeyPair({seed:t})};cs.hashAndSign=async function(t,e){return ia.pki.ed25519.sign({message:e,privateKey:t})};cs.hashAndVerify=async function(t,e,r){return ia.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var qv=R(($R,Lv)=>{"use strict";var Ov=We(),{equals:kv}=(jr(),Hr),{sha256:Nv}=(Fr(),_r),{base58btc:TE}=(Yn(),Wn),{identity:PE}=(Ta(),Os),nr=Dv(),ec=jf(),ME=Zf(),tc=class{constructor(e){this._key=sa(e,nr.publicKeyLength)}async verify(e,r){return nr.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return ec.PublicKey.encode({Type:ec.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return kv(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Nv.digest(this.bytes);return e}},na=class{constructor(e,r){this._key=sa(e,nr.privateKeyLength),this._publicKey=sa(r,nr.publicKeyLength)}async sign(e){return nr.hashAndSign(this._key,e)}get public(){return new tc(this._publicKey)}marshal(){return this._key}get bytes(){return ec.PrivateKey.encode({Type:ec.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return kv(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Nv.digest(this.bytes);return e}async id(){let e=await PE.digest(this.public.bytes);return TE.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return ME.export(this.bytes,e);throw Ov(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function DE(t){if(t.length>nr.privateKeyLength){t=sa(t,nr.privateKeyLength+nr.publicKeyLength);let i=t.slice(0,nr.privateKeyLength),n=t.slice(nr.privateKeyLength,t.length);return new na(i,n)}t=sa(t,nr.privateKeyLength);let e=t.slice(0,nr.privateKeyLength),r=t.slice(nr.publicKeyLength);return new na(e,r)}function OE(t){return t=sa(t,nr.publicKeyLength),new tc(t)}async function kE(){let{privateKey:t,publicKey:e}=await nr.generateKey();return new na(t,e)}async function NE(t){let{privateKey:e,publicKey:r}=await nr.generateKeyFromSeed(t);return new na(e,r)}function sa(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw Ov(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}Lv.exports={Ed25519PublicKey:tc,Ed25519PrivateKey:na,unmarshalEd25519PrivateKey:DE,unmarshalEd25519PublicKey:OE,generateKeyPair:kE,generateKeyPairFromSeed:NE}});var Fv=R((ZR,Kv)=>{var Se={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Mr(t,e){if(!t)throw new Error(e)}function me(t,e,r){if(Mr(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;Mr(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;Mr(e.length===r,i)}}function us(t){Mr(aa(t)==="Boolean","Expected compressed to be a Boolean")}function $r(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),me("output",t,e),t}function aa(t){return Object.prototype.toString.call(t).slice(8,-1)}Kv.exports=t=>({contextRandomize(e){switch(Mr(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&me("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Se.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return me("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(me("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Se.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(me("private key",e,32),me("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Se.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(me("private key",e,32),me("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Se.TWEAK_MUL)}},publicKeyVerify(e){return me("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(me("private key",e,32),us(r),i=$r(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(Se.SECKEY_INVALID);case 2:throw new Error(Se.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(me("public key",e,[33,65]),us(r),i=$r(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(me("public key",e,[33,65]),us(r),i=$r(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.IMPOSSIBLE_CASE);case 3:throw new Error(Se.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){Mr(Array.isArray(e),"Expected public keys to be an Array"),Mr(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)me("public key",n,[33,65]);switch(us(r),i=$r(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.PUBKEY_COMBINE);case 3:throw new Error(Se.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(me("public key",e,[33,65]),me("tweak",r,32),us(i),n=$r(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(me("public key",e,[33,65]),me("tweak",r,32),us(i),n=$r(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.TWEAK_MUL)}},signatureNormalize(e){switch(me("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Se.SIG_PARSE)}},signatureExport(e,r){me("signature",e,64),r=$r(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(Se.SIG_PARSE);case 2:throw new Error(Se.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(me("signature",e),r=$r(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Se.SIG_PARSE);case 2:throw new Error(Se.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){me("message",e,32),me("private key",r,32),Mr(aa(i)==="Object","Expected options to be an Object"),i.data!==void 0&&me("options.data",i.data),i.noncefn!==void 0&&Mr(aa(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=$r(n,64);let s={signature:n,recid:null};switch(t.ecdsaSign(s,e,r,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(Se.SIGN);case 2:throw new Error(Se.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(me("signature",e,64),me("message",r,32),me("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(Se.SIG_PARSE);case 2:throw new Error(Se.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,s){switch(me("signature",e,64),Mr(aa(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),me("message",i,32),us(n),s=$r(s,n?33:65),t.ecdsaRecover(s,e,r,i)){case 0:return s;case 1:throw new Error(Se.SIG_PARSE);case 2:throw new Error(Se.RECOVER);case 3:throw new Error(Se.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(me("public key",e,[33,65]),me("private key",r,32),Mr(aa(i)==="Object","Expected options to be an Object"),i.data!==void 0&&me("options.data",i.data),i.hashfn!==void 0?(Mr(aa(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&me("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&me("options.ybuf",i.ybuf,32),me("output",n)):n=$r(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(Se.PUBKEY_PARSE);case 2:throw new Error(Se.ECDH)}}})});var Uv=R((JR,LE)=>{LE.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var zv=R(()=>{});var Ei=R((Gv,ah)=>{(function(t,e){"use strict";function r(A,l){if(!A)throw new Error(l||"Assertion failed")}function i(A,l){A.super_=l;var y=function(){};y.prototype=l.prototype,A.prototype=new y,A.prototype.constructor=A}function n(A,l,y){if(n.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((l==="le"||l==="be")&&(y=l,l=10),this._init(A||0,l||10,y||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=zv().Buffer}catch(A){}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,y){return l.cmp(y)>0?l:y},n.min=function(l,y){return l.cmp(y)<0?l:y},n.prototype._init=function(l,y,v){if(typeof l=="number")return this._initNumber(l,y,v);if(typeof l=="object")return this._initArray(l,y,v);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),l=l.toString().replace(/\s+/g,"");var m=0;l[0]==="-"&&(m++,this.negative=1),m<l.length&&(y===16?this._parseHex(l,m,v):(this._parseBase(l,y,m),v==="le"&&this._initArray(this.toArray(),y,v)))},n.prototype._initNumber=function(l,y,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),y,v)},n.prototype._initArray=function(l,y,v){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,C,B=0;if(v==="be")for(m=l.length-1,w=0;m>=0;m-=3)C=l[m]|l[m-1]<<8|l[m-2]<<16,this.words[w]|=C<<B&67108863,this.words[w+1]=C>>>26-B&67108863,B+=24,B>=26&&(B-=26,w++);else if(v==="le")for(m=0,w=0;m<l.length;m+=3)C=l[m]|l[m+1]<<8|l[m+2]<<16,this.words[w]|=C<<B&67108863,this.words[w+1]=C>>>26-B&67108863,B+=24,B>=26&&(B-=26,w++);return this.strip()};function a(A,l){var y=A.charCodeAt(l);return y>=65&&y<=70?y-55:y>=97&&y<=102?y-87:y-48&15}function o(A,l,y){var v=a(A,y);return y-1>=l&&(v|=a(A,y-1)<<4),v}n.prototype._parseHex=function(l,y,v){this.length=Math.ceil((l.length-y)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,C=0,B;if(v==="be")for(m=l.length-1;m>=y;m-=2)B=o(l,y,m)<<w,this.words[C]|=B&67108863,w>=18?(w-=18,C+=1,this.words[C]|=B>>>26):w+=8;else{var _=l.length-y;for(m=_%2==0?y+1:y;m<l.length;m+=2)B=o(l,y,m)<<w,this.words[C]|=B&67108863,w>=18?(w-=18,C+=1,this.words[C]|=B>>>26):w+=8}this.strip()};function u(A,l,y,v){for(var m=0,w=Math.min(A.length,y),C=l;C<w;C++){var B=A.charCodeAt(C)-48;m*=v,B>=49?m+=B-49+10:B>=17?m+=B-17+10:m+=B}return m}n.prototype._parseBase=function(l,y,v){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=y)m++;m--,w=w/y|0;for(var C=l.length-v,B=C%m,_=Math.min(C,C-B)+v,p=0,E=v;E<_;E+=m)p=u(l,E,E+m,y),this.imuln(w),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var V=1;for(p=u(l,E,l.length,y),E=0;E<B;E++)V*=y;this.imuln(V),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var y=0;y<this.length;y++)l.words[y]=this.words[y];l.length=this.length,l.negative=this.negative,l.red=this.red},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,y){l=l||10,y=y|0||1;var v;if(l===16||l==="hex"){v="";for(var m=0,w=0,C=0;C<this.length;C++){var B=this.words[C],_=((B<<m|w)&16777215).toString(16);w=B>>>24-m&16777215,w!==0||C!==this.length-1?v=c[6-_.length]+_+v:v=_+v,m+=2,m>=26&&(m-=26,C--)}for(w!==0&&(v=w.toString(16)+v);v.length%y!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(l===(l|0)&&l>=2&&l<=36){var p=f[l],E=h[l];v="";var V=this.clone();for(V.negative=0;!V.isZero();){var j=V.modn(E).toString(l);V=V.idivn(E),V.isZero()?v=j+v:v=c[p-j.length]+j+v}for(this.isZero()&&(v="0"+v);v.length%y!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(l,y){return r(typeof s!="undefined"),this.toArrayLike(s,l,y)},n.prototype.toArray=function(l,y){return this.toArrayLike(Array,l,y)},n.prototype.toArrayLike=function(l,y,v){var m=this.byteLength(),w=v||Math.max(1,m);r(m<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var C=y==="le",B=new l(w),_,p,E=this.clone();if(C){for(p=0;!E.isZero();p++)_=E.andln(255),E.iushrn(8),B[p]=_;for(;p<w;p++)B[p]=0}else{for(p=0;p<w-m;p++)B[p]=0;for(p=0;!E.isZero();p++)_=E.andln(255),E.iushrn(8),B[w-p-1]=_}return B},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var y=l,v=0;return y>=4096&&(v+=13,y>>>=13),y>=64&&(v+=7,y>>>=7),y>=8&&(v+=4,y>>>=4),y>=2&&(v+=2,y>>>=2),v+y},n.prototype._zeroBits=function(l){if(l===0)return 26;var y=l,v=0;return(y&8191)==0&&(v+=13,y>>>=13),(y&127)==0&&(v+=7,y>>>=7),(y&15)==0&&(v+=4,y>>>=4),(y&3)==0&&(v+=2,y>>>=2),(y&1)==0&&v++,v},n.prototype.bitLength=function(){var l=this.words[this.length-1],y=this._countBits(l);return(this.length-1)*26+y};function d(A){for(var l=new Array(A.bitLength()),y=0;y<l.length;y++){var v=y/26|0,m=y%26;l[y]=(A.words[v]&1<<m)>>>m}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,y=0;y<this.length;y++){var v=this._zeroBits(this.words[y]);if(l+=v,v!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]|l.words[y];return this.strip()},n.prototype.ior=function(l){return r((this.negative|l.negative)==0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var y;this.length>l.length?y=l:y=this;for(var v=0;v<y.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=y.length,this.strip()},n.prototype.iand=function(l){return r((this.negative|l.negative)==0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var y,v;this.length>l.length?(y=this,v=l):(y=l,v=this);for(var m=0;m<v.length;m++)this.words[m]=y.words[m]^v.words[m];if(this!==y)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=y.length,this.strip()},n.prototype.ixor=function(l){return r((this.negative|l.negative)==0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var y=Math.ceil(l/26)|0,v=l%26;this._expand(y),v>0&&y--;for(var m=0;m<y;m++)this.words[m]=~this.words[m]&67108863;return v>0&&(this.words[m]=~this.words[m]&67108863>>26-v),this.strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,y){r(typeof l=="number"&&l>=0);var v=l/26|0,m=l%26;return this._expand(v+1),y?this.words[v]=this.words[v]|1<<m:this.words[v]=this.words[v]&~(1<<m),this.strip()},n.prototype.iadd=function(l){var y;if(this.negative!==0&&l.negative===0)return this.negative=0,y=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,y=this.isub(l),l.negative=1,y._normSign();var v,m;this.length>l.length?(v=this,m=l):(v=l,m=this);for(var w=0,C=0;C<m.length;C++)y=(v.words[C]|0)+(m.words[C]|0)+w,this.words[C]=y&67108863,w=y>>>26;for(;w!==0&&C<v.length;C++)y=(v.words[C]|0)+w,this.words[C]=y&67108863,w=y>>>26;if(this.length=v.length,w!==0)this.words[this.length]=w,this.length++;else if(v!==this)for(;C<v.length;C++)this.words[C]=v.words[C];return this},n.prototype.add=function(l){var y;return l.negative!==0&&this.negative===0?(l.negative=0,y=this.sub(l),l.negative^=1,y):l.negative===0&&this.negative!==0?(this.negative=0,y=l.sub(this),this.negative=1,y):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var y=this.iadd(l);return l.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var v=this.cmp(l);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;v>0?(m=this,w=l):(m=l,w=this);for(var C=0,B=0;B<w.length;B++)y=(m.words[B]|0)-(w.words[B]|0)+C,C=y>>26,this.words[B]=y&67108863;for(;C!==0&&B<m.length;B++)y=(m.words[B]|0)+C,C=y>>26,this.words[B]=y&67108863;if(C===0&&B<m.length&&m!==this)for(;B<m.length;B++)this.words[B]=m.words[B];return this.length=Math.max(this.length,B),m!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function g(A,l,y){y.negative=l.negative^A.negative;var v=A.length+l.length|0;y.length=v,v=v-1|0;var m=A.words[0]|0,w=l.words[0]|0,C=m*w,B=C&67108863,_=C/67108864|0;y.words[0]=B;for(var p=1;p<v;p++){for(var E=_>>>26,V=_&67108863,j=Math.min(p,l.length-1),Y=Math.max(0,p-A.length+1);Y<=j;Y++){var J=p-Y|0;m=A.words[J]|0,w=l.words[Y]|0,C=m*w+V,E+=C/67108864|0,V=C&67108863}y.words[p]=V|0,_=E|0}return _!==0?y.words[p]=_|0:y.length--,y.strip()}var b=function(l,y,v){var m=l.words,w=y.words,C=v.words,B=0,_,p,E,V=m[0]|0,j=V&8191,Y=V>>>13,J=m[1]|0,te=J&8191,re=J>>>13,Ke=m[2]|0,ie=Ke&8191,ae=Ke>>>13,Rt=m[3]|0,fe=Rt&8191,ce=Rt>>>13,Tt=m[4]|0,ue=Tt&8191,he=Tt>>>13,Uh=m[5]|0,Qe=Uh&8191,et=Uh>>>13,zh=m[6]|0,tt=zh&8191,rt=zh>>>13,Gh=m[7]|0,it=Gh&8191,nt=Gh>>>13,Vh=m[8]|0,st=Vh&8191,at=Vh>>>13,Hh=m[9]|0,ot=Hh&8191,ft=Hh>>>13,jh=w[0]|0,ct=jh&8191,ut=jh>>>13,Wh=w[1]|0,ht=Wh&8191,lt=Wh>>>13,Yh=w[2]|0,dt=Yh&8191,pt=Yh>>>13,$h=w[3]|0,yt=$h&8191,bt=$h>>>13,Zh=w[4]|0,gt=Zh&8191,vt=Zh>>>13,Jh=w[5]|0,mt=Jh&8191,xt=Jh>>>13,Xh=w[6]|0,wt=Xh&8191,_t=Xh>>>13,Qh=w[7]|0,Et=Qh&8191,St=Qh>>>13,el=w[8]|0,At=el&8191,It=el>>>13,tl=w[9]|0,Bt=tl&8191,Ct=tl>>>13;v.negative=l.negative^y.negative,v.length=19,_=Math.imul(j,ct),p=Math.imul(j,ut),p=p+Math.imul(Y,ct)|0,E=Math.imul(Y,ut);var wc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(wc>>>26)|0,wc&=67108863,_=Math.imul(te,ct),p=Math.imul(te,ut),p=p+Math.imul(re,ct)|0,E=Math.imul(re,ut),_=_+Math.imul(j,ht)|0,p=p+Math.imul(j,lt)|0,p=p+Math.imul(Y,ht)|0,E=E+Math.imul(Y,lt)|0;var _c=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(_c>>>26)|0,_c&=67108863,_=Math.imul(ie,ct),p=Math.imul(ie,ut),p=p+Math.imul(ae,ct)|0,E=Math.imul(ae,ut),_=_+Math.imul(te,ht)|0,p=p+Math.imul(te,lt)|0,p=p+Math.imul(re,ht)|0,E=E+Math.imul(re,lt)|0,_=_+Math.imul(j,dt)|0,p=p+Math.imul(j,pt)|0,p=p+Math.imul(Y,dt)|0,E=E+Math.imul(Y,pt)|0;var Ec=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,_=Math.imul(fe,ct),p=Math.imul(fe,ut),p=p+Math.imul(ce,ct)|0,E=Math.imul(ce,ut),_=_+Math.imul(ie,ht)|0,p=p+Math.imul(ie,lt)|0,p=p+Math.imul(ae,ht)|0,E=E+Math.imul(ae,lt)|0,_=_+Math.imul(te,dt)|0,p=p+Math.imul(te,pt)|0,p=p+Math.imul(re,dt)|0,E=E+Math.imul(re,pt)|0,_=_+Math.imul(j,yt)|0,p=p+Math.imul(j,bt)|0,p=p+Math.imul(Y,yt)|0,E=E+Math.imul(Y,bt)|0;var Sc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,_=Math.imul(ue,ct),p=Math.imul(ue,ut),p=p+Math.imul(he,ct)|0,E=Math.imul(he,ut),_=_+Math.imul(fe,ht)|0,p=p+Math.imul(fe,lt)|0,p=p+Math.imul(ce,ht)|0,E=E+Math.imul(ce,lt)|0,_=_+Math.imul(ie,dt)|0,p=p+Math.imul(ie,pt)|0,p=p+Math.imul(ae,dt)|0,E=E+Math.imul(ae,pt)|0,_=_+Math.imul(te,yt)|0,p=p+Math.imul(te,bt)|0,p=p+Math.imul(re,yt)|0,E=E+Math.imul(re,bt)|0,_=_+Math.imul(j,gt)|0,p=p+Math.imul(j,vt)|0,p=p+Math.imul(Y,gt)|0,E=E+Math.imul(Y,vt)|0;var Ac=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,_=Math.imul(Qe,ct),p=Math.imul(Qe,ut),p=p+Math.imul(et,ct)|0,E=Math.imul(et,ut),_=_+Math.imul(ue,ht)|0,p=p+Math.imul(ue,lt)|0,p=p+Math.imul(he,ht)|0,E=E+Math.imul(he,lt)|0,_=_+Math.imul(fe,dt)|0,p=p+Math.imul(fe,pt)|0,p=p+Math.imul(ce,dt)|0,E=E+Math.imul(ce,pt)|0,_=_+Math.imul(ie,yt)|0,p=p+Math.imul(ie,bt)|0,p=p+Math.imul(ae,yt)|0,E=E+Math.imul(ae,bt)|0,_=_+Math.imul(te,gt)|0,p=p+Math.imul(te,vt)|0,p=p+Math.imul(re,gt)|0,E=E+Math.imul(re,vt)|0,_=_+Math.imul(j,mt)|0,p=p+Math.imul(j,xt)|0,p=p+Math.imul(Y,mt)|0,E=E+Math.imul(Y,xt)|0;var Ic=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Ic>>>26)|0,Ic&=67108863,_=Math.imul(tt,ct),p=Math.imul(tt,ut),p=p+Math.imul(rt,ct)|0,E=Math.imul(rt,ut),_=_+Math.imul(Qe,ht)|0,p=p+Math.imul(Qe,lt)|0,p=p+Math.imul(et,ht)|0,E=E+Math.imul(et,lt)|0,_=_+Math.imul(ue,dt)|0,p=p+Math.imul(ue,pt)|0,p=p+Math.imul(he,dt)|0,E=E+Math.imul(he,pt)|0,_=_+Math.imul(fe,yt)|0,p=p+Math.imul(fe,bt)|0,p=p+Math.imul(ce,yt)|0,E=E+Math.imul(ce,bt)|0,_=_+Math.imul(ie,gt)|0,p=p+Math.imul(ie,vt)|0,p=p+Math.imul(ae,gt)|0,E=E+Math.imul(ae,vt)|0,_=_+Math.imul(te,mt)|0,p=p+Math.imul(te,xt)|0,p=p+Math.imul(re,mt)|0,E=E+Math.imul(re,xt)|0,_=_+Math.imul(j,wt)|0,p=p+Math.imul(j,_t)|0,p=p+Math.imul(Y,wt)|0,E=E+Math.imul(Y,_t)|0;var Bc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Bc>>>26)|0,Bc&=67108863,_=Math.imul(it,ct),p=Math.imul(it,ut),p=p+Math.imul(nt,ct)|0,E=Math.imul(nt,ut),_=_+Math.imul(tt,ht)|0,p=p+Math.imul(tt,lt)|0,p=p+Math.imul(rt,ht)|0,E=E+Math.imul(rt,lt)|0,_=_+Math.imul(Qe,dt)|0,p=p+Math.imul(Qe,pt)|0,p=p+Math.imul(et,dt)|0,E=E+Math.imul(et,pt)|0,_=_+Math.imul(ue,yt)|0,p=p+Math.imul(ue,bt)|0,p=p+Math.imul(he,yt)|0,E=E+Math.imul(he,bt)|0,_=_+Math.imul(fe,gt)|0,p=p+Math.imul(fe,vt)|0,p=p+Math.imul(ce,gt)|0,E=E+Math.imul(ce,vt)|0,_=_+Math.imul(ie,mt)|0,p=p+Math.imul(ie,xt)|0,p=p+Math.imul(ae,mt)|0,E=E+Math.imul(ae,xt)|0,_=_+Math.imul(te,wt)|0,p=p+Math.imul(te,_t)|0,p=p+Math.imul(re,wt)|0,E=E+Math.imul(re,_t)|0,_=_+Math.imul(j,Et)|0,p=p+Math.imul(j,St)|0,p=p+Math.imul(Y,Et)|0,E=E+Math.imul(Y,St)|0;var Cc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,_=Math.imul(st,ct),p=Math.imul(st,ut),p=p+Math.imul(at,ct)|0,E=Math.imul(at,ut),_=_+Math.imul(it,ht)|0,p=p+Math.imul(it,lt)|0,p=p+Math.imul(nt,ht)|0,E=E+Math.imul(nt,lt)|0,_=_+Math.imul(tt,dt)|0,p=p+Math.imul(tt,pt)|0,p=p+Math.imul(rt,dt)|0,E=E+Math.imul(rt,pt)|0,_=_+Math.imul(Qe,yt)|0,p=p+Math.imul(Qe,bt)|0,p=p+Math.imul(et,yt)|0,E=E+Math.imul(et,bt)|0,_=_+Math.imul(ue,gt)|0,p=p+Math.imul(ue,vt)|0,p=p+Math.imul(he,gt)|0,E=E+Math.imul(he,vt)|0,_=_+Math.imul(fe,mt)|0,p=p+Math.imul(fe,xt)|0,p=p+Math.imul(ce,mt)|0,E=E+Math.imul(ce,xt)|0,_=_+Math.imul(ie,wt)|0,p=p+Math.imul(ie,_t)|0,p=p+Math.imul(ae,wt)|0,E=E+Math.imul(ae,_t)|0,_=_+Math.imul(te,Et)|0,p=p+Math.imul(te,St)|0,p=p+Math.imul(re,Et)|0,E=E+Math.imul(re,St)|0,_=_+Math.imul(j,At)|0,p=p+Math.imul(j,It)|0,p=p+Math.imul(Y,At)|0,E=E+Math.imul(Y,It)|0;var Rc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Rc>>>26)|0,Rc&=67108863,_=Math.imul(ot,ct),p=Math.imul(ot,ut),p=p+Math.imul(ft,ct)|0,E=Math.imul(ft,ut),_=_+Math.imul(st,ht)|0,p=p+Math.imul(st,lt)|0,p=p+Math.imul(at,ht)|0,E=E+Math.imul(at,lt)|0,_=_+Math.imul(it,dt)|0,p=p+Math.imul(it,pt)|0,p=p+Math.imul(nt,dt)|0,E=E+Math.imul(nt,pt)|0,_=_+Math.imul(tt,yt)|0,p=p+Math.imul(tt,bt)|0,p=p+Math.imul(rt,yt)|0,E=E+Math.imul(rt,bt)|0,_=_+Math.imul(Qe,gt)|0,p=p+Math.imul(Qe,vt)|0,p=p+Math.imul(et,gt)|0,E=E+Math.imul(et,vt)|0,_=_+Math.imul(ue,mt)|0,p=p+Math.imul(ue,xt)|0,p=p+Math.imul(he,mt)|0,E=E+Math.imul(he,xt)|0,_=_+Math.imul(fe,wt)|0,p=p+Math.imul(fe,_t)|0,p=p+Math.imul(ce,wt)|0,E=E+Math.imul(ce,_t)|0,_=_+Math.imul(ie,Et)|0,p=p+Math.imul(ie,St)|0,p=p+Math.imul(ae,Et)|0,E=E+Math.imul(ae,St)|0,_=_+Math.imul(te,At)|0,p=p+Math.imul(te,It)|0,p=p+Math.imul(re,At)|0,E=E+Math.imul(re,It)|0,_=_+Math.imul(j,Bt)|0,p=p+Math.imul(j,Ct)|0,p=p+Math.imul(Y,Bt)|0,E=E+Math.imul(Y,Ct)|0;var Tc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Tc>>>26)|0,Tc&=67108863,_=Math.imul(ot,ht),p=Math.imul(ot,lt),p=p+Math.imul(ft,ht)|0,E=Math.imul(ft,lt),_=_+Math.imul(st,dt)|0,p=p+Math.imul(st,pt)|0,p=p+Math.imul(at,dt)|0,E=E+Math.imul(at,pt)|0,_=_+Math.imul(it,yt)|0,p=p+Math.imul(it,bt)|0,p=p+Math.imul(nt,yt)|0,E=E+Math.imul(nt,bt)|0,_=_+Math.imul(tt,gt)|0,p=p+Math.imul(tt,vt)|0,p=p+Math.imul(rt,gt)|0,E=E+Math.imul(rt,vt)|0,_=_+Math.imul(Qe,mt)|0,p=p+Math.imul(Qe,xt)|0,p=p+Math.imul(et,mt)|0,E=E+Math.imul(et,xt)|0,_=_+Math.imul(ue,wt)|0,p=p+Math.imul(ue,_t)|0,p=p+Math.imul(he,wt)|0,E=E+Math.imul(he,_t)|0,_=_+Math.imul(fe,Et)|0,p=p+Math.imul(fe,St)|0,p=p+Math.imul(ce,Et)|0,E=E+Math.imul(ce,St)|0,_=_+Math.imul(ie,At)|0,p=p+Math.imul(ie,It)|0,p=p+Math.imul(ae,At)|0,E=E+Math.imul(ae,It)|0,_=_+Math.imul(te,Bt)|0,p=p+Math.imul(te,Ct)|0,p=p+Math.imul(re,Bt)|0,E=E+Math.imul(re,Ct)|0;var Pc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Pc>>>26)|0,Pc&=67108863,_=Math.imul(ot,dt),p=Math.imul(ot,pt),p=p+Math.imul(ft,dt)|0,E=Math.imul(ft,pt),_=_+Math.imul(st,yt)|0,p=p+Math.imul(st,bt)|0,p=p+Math.imul(at,yt)|0,E=E+Math.imul(at,bt)|0,_=_+Math.imul(it,gt)|0,p=p+Math.imul(it,vt)|0,p=p+Math.imul(nt,gt)|0,E=E+Math.imul(nt,vt)|0,_=_+Math.imul(tt,mt)|0,p=p+Math.imul(tt,xt)|0,p=p+Math.imul(rt,mt)|0,E=E+Math.imul(rt,xt)|0,_=_+Math.imul(Qe,wt)|0,p=p+Math.imul(Qe,_t)|0,p=p+Math.imul(et,wt)|0,E=E+Math.imul(et,_t)|0,_=_+Math.imul(ue,Et)|0,p=p+Math.imul(ue,St)|0,p=p+Math.imul(he,Et)|0,E=E+Math.imul(he,St)|0,_=_+Math.imul(fe,At)|0,p=p+Math.imul(fe,It)|0,p=p+Math.imul(ce,At)|0,E=E+Math.imul(ce,It)|0,_=_+Math.imul(ie,Bt)|0,p=p+Math.imul(ie,Ct)|0,p=p+Math.imul(ae,Bt)|0,E=E+Math.imul(ae,Ct)|0;var Mc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,_=Math.imul(ot,yt),p=Math.imul(ot,bt),p=p+Math.imul(ft,yt)|0,E=Math.imul(ft,bt),_=_+Math.imul(st,gt)|0,p=p+Math.imul(st,vt)|0,p=p+Math.imul(at,gt)|0,E=E+Math.imul(at,vt)|0,_=_+Math.imul(it,mt)|0,p=p+Math.imul(it,xt)|0,p=p+Math.imul(nt,mt)|0,E=E+Math.imul(nt,xt)|0,_=_+Math.imul(tt,wt)|0,p=p+Math.imul(tt,_t)|0,p=p+Math.imul(rt,wt)|0,E=E+Math.imul(rt,_t)|0,_=_+Math.imul(Qe,Et)|0,p=p+Math.imul(Qe,St)|0,p=p+Math.imul(et,Et)|0,E=E+Math.imul(et,St)|0,_=_+Math.imul(ue,At)|0,p=p+Math.imul(ue,It)|0,p=p+Math.imul(he,At)|0,E=E+Math.imul(he,It)|0,_=_+Math.imul(fe,Bt)|0,p=p+Math.imul(fe,Ct)|0,p=p+Math.imul(ce,Bt)|0,E=E+Math.imul(ce,Ct)|0;var Dc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,_=Math.imul(ot,gt),p=Math.imul(ot,vt),p=p+Math.imul(ft,gt)|0,E=Math.imul(ft,vt),_=_+Math.imul(st,mt)|0,p=p+Math.imul(st,xt)|0,p=p+Math.imul(at,mt)|0,E=E+Math.imul(at,xt)|0,_=_+Math.imul(it,wt)|0,p=p+Math.imul(it,_t)|0,p=p+Math.imul(nt,wt)|0,E=E+Math.imul(nt,_t)|0,_=_+Math.imul(tt,Et)|0,p=p+Math.imul(tt,St)|0,p=p+Math.imul(rt,Et)|0,E=E+Math.imul(rt,St)|0,_=_+Math.imul(Qe,At)|0,p=p+Math.imul(Qe,It)|0,p=p+Math.imul(et,At)|0,E=E+Math.imul(et,It)|0,_=_+Math.imul(ue,Bt)|0,p=p+Math.imul(ue,Ct)|0,p=p+Math.imul(he,Bt)|0,E=E+Math.imul(he,Ct)|0;var Oc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Oc>>>26)|0,Oc&=67108863,_=Math.imul(ot,mt),p=Math.imul(ot,xt),p=p+Math.imul(ft,mt)|0,E=Math.imul(ft,xt),_=_+Math.imul(st,wt)|0,p=p+Math.imul(st,_t)|0,p=p+Math.imul(at,wt)|0,E=E+Math.imul(at,_t)|0,_=_+Math.imul(it,Et)|0,p=p+Math.imul(it,St)|0,p=p+Math.imul(nt,Et)|0,E=E+Math.imul(nt,St)|0,_=_+Math.imul(tt,At)|0,p=p+Math.imul(tt,It)|0,p=p+Math.imul(rt,At)|0,E=E+Math.imul(rt,It)|0,_=_+Math.imul(Qe,Bt)|0,p=p+Math.imul(Qe,Ct)|0,p=p+Math.imul(et,Bt)|0,E=E+Math.imul(et,Ct)|0;var kc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(kc>>>26)|0,kc&=67108863,_=Math.imul(ot,wt),p=Math.imul(ot,_t),p=p+Math.imul(ft,wt)|0,E=Math.imul(ft,_t),_=_+Math.imul(st,Et)|0,p=p+Math.imul(st,St)|0,p=p+Math.imul(at,Et)|0,E=E+Math.imul(at,St)|0,_=_+Math.imul(it,At)|0,p=p+Math.imul(it,It)|0,p=p+Math.imul(nt,At)|0,E=E+Math.imul(nt,It)|0,_=_+Math.imul(tt,Bt)|0,p=p+Math.imul(tt,Ct)|0,p=p+Math.imul(rt,Bt)|0,E=E+Math.imul(rt,Ct)|0;var Nc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,_=Math.imul(ot,Et),p=Math.imul(ot,St),p=p+Math.imul(ft,Et)|0,E=Math.imul(ft,St),_=_+Math.imul(st,At)|0,p=p+Math.imul(st,It)|0,p=p+Math.imul(at,At)|0,E=E+Math.imul(at,It)|0,_=_+Math.imul(it,Bt)|0,p=p+Math.imul(it,Ct)|0,p=p+Math.imul(nt,Bt)|0,E=E+Math.imul(nt,Ct)|0;var Lc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,_=Math.imul(ot,At),p=Math.imul(ot,It),p=p+Math.imul(ft,At)|0,E=Math.imul(ft,It),_=_+Math.imul(st,Bt)|0,p=p+Math.imul(st,Ct)|0,p=p+Math.imul(at,Bt)|0,E=E+Math.imul(at,Ct)|0;var qc=(B+_|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(qc>>>26)|0,qc&=67108863,_=Math.imul(ot,Bt),p=Math.imul(ot,Ct),p=p+Math.imul(ft,Bt)|0,E=Math.imul(ft,Ct);var Kc=(B+_|0)+((p&8191)<<13)|0;return B=(E+(p>>>13)|0)+(Kc>>>26)|0,Kc&=67108863,C[0]=wc,C[1]=_c,C[2]=Ec,C[3]=Sc,C[4]=Ac,C[5]=Ic,C[6]=Bc,C[7]=Cc,C[8]=Rc,C[9]=Tc,C[10]=Pc,C[11]=Mc,C[12]=Dc,C[13]=Oc,C[14]=kc,C[15]=Nc,C[16]=Lc,C[17]=qc,C[18]=Kc,B!==0&&(C[19]=B,v.length++),v};Math.imul||(b=g);function x(A,l,y){y.negative=l.negative^A.negative,y.length=A.length+l.length;for(var v=0,m=0,w=0;w<y.length-1;w++){var C=m;m=0;for(var B=v&67108863,_=Math.min(w,l.length-1),p=Math.max(0,w-A.length+1);p<=_;p++){var E=w-p,V=A.words[E]|0,j=l.words[p]|0,Y=V*j,J=Y&67108863;C=C+(Y/67108864|0)|0,J=J+B|0,B=J&67108863,C=C+(J>>>26)|0,m+=C>>>26,C&=67108863}y.words[w]=B,v=C,C=m}return v!==0?y.words[w]=v:y.length--,y.strip()}function I(A,l,y){var v=new S;return v.mulp(A,l,y)}n.prototype.mulTo=function(l,y){var v,m=this.length+l.length;return this.length===10&&l.length===10?v=b(this,l,y):m<63?v=g(this,l,y):m<1024?v=x(this,l,y):v=I(this,l,y),v};function S(A,l){this.x=A,this.y=l}S.prototype.makeRBT=function(l){for(var y=new Array(l),v=n.prototype._countBits(l)-1,m=0;m<l;m++)y[m]=this.revBin(m,v,l);return y},S.prototype.revBin=function(l,y,v){if(l===0||l===v-1)return l;for(var m=0,w=0;w<y;w++)m|=(l&1)<<y-w-1,l>>=1;return m},S.prototype.permute=function(l,y,v,m,w,C){for(var B=0;B<C;B++)m[B]=y[l[B]],w[B]=v[l[B]]},S.prototype.transform=function(l,y,v,m,w,C){this.permute(C,l,y,v,m,w);for(var B=1;B<w;B<<=1)for(var _=B<<1,p=Math.cos(2*Math.PI/_),E=Math.sin(2*Math.PI/_),V=0;V<w;V+=_)for(var j=p,Y=E,J=0;J<B;J++){var te=v[V+J],re=m[V+J],Ke=v[V+J+B],ie=m[V+J+B],ae=j*Ke-Y*ie;ie=j*ie+Y*Ke,Ke=ae,v[V+J]=te+Ke,m[V+J]=re+ie,v[V+J+B]=te-Ke,m[V+J+B]=re-ie,J!==_&&(ae=p*j-E*Y,Y=p*Y+E*j,j=ae)}},S.prototype.guessLen13b=function(l,y){var v=Math.max(y,l)|1,m=v&1,w=0;for(v=v/2|0;v;v=v>>>1)w++;return 1<<w+1+m},S.prototype.conjugate=function(l,y,v){if(!(v<=1))for(var m=0;m<v/2;m++){var w=l[m];l[m]=l[v-m-1],l[v-m-1]=w,w=y[m],y[m]=-y[v-m-1],y[v-m-1]=-w}},S.prototype.normalize13b=function(l,y){for(var v=0,m=0;m<y/2;m++){var w=Math.round(l[2*m+1]/y)*8192+Math.round(l[2*m]/y)+v;l[m]=w&67108863,w<67108864?v=0:v=w/67108864|0}return l},S.prototype.convert13b=function(l,y,v,m){for(var w=0,C=0;C<y;C++)w=w+(l[C]|0),v[2*C]=w&8191,w=w>>>13,v[2*C+1]=w&8191,w=w>>>13;for(C=2*y;C<m;++C)v[C]=0;r(w===0),r((w&~8191)==0)},S.prototype.stub=function(l){for(var y=new Array(l),v=0;v<l;v++)y[v]=0;return y},S.prototype.mulp=function(l,y,v){var m=2*this.guessLen13b(l.length,y.length),w=this.makeRBT(m),C=this.stub(m),B=new Array(m),_=new Array(m),p=new Array(m),E=new Array(m),V=new Array(m),j=new Array(m),Y=v.words;Y.length=m,this.convert13b(l.words,l.length,B,m),this.convert13b(y.words,y.length,E,m),this.transform(B,C,_,p,m,w),this.transform(E,C,V,j,m,w);for(var J=0;J<m;J++){var te=_[J]*V[J]-p[J]*j[J];p[J]=_[J]*j[J]+p[J]*V[J],_[J]=te}return this.conjugate(_,p,m),this.transform(_,p,Y,C,m,w),this.conjugate(Y,C,m),this.normalize13b(Y,m),v.negative=l.negative^y.negative,v.length=l.length+y.length,v.strip()},n.prototype.mul=function(l){var y=new n(null);return y.words=new Array(this.length+l.length),this.mulTo(l,y)},n.prototype.mulf=function(l){var y=new n(null);return y.words=new Array(this.length+l.length),I(this,l,y)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){r(typeof l=="number"),r(l<67108864);for(var y=0,v=0;v<this.length;v++){var m=(this.words[v]|0)*l,w=(m&67108863)+(y&67108863);y>>=26,y+=m/67108864|0,y+=w>>>26,this.words[v]=w&67108863}return y!==0&&(this.words[v]=y,this.length++),this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var y=d(l);if(y.length===0)return new n(1);for(var v=this,m=0;m<y.length&&y[m]===0;m++,v=v.sqr());if(++m<y.length)for(var w=v.sqr();m<y.length;m++,w=w.sqr())y[m]!==0&&(v=v.mul(w));return v},n.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var y=l%26,v=(l-y)/26,m=67108863>>>26-y<<26-y,w;if(y!==0){var C=0;for(w=0;w<this.length;w++){var B=this.words[w]&m,_=(this.words[w]|0)-B<<y;this.words[w]=_|C,C=B>>>26-y}C&&(this.words[w]=C,this.length++)}if(v!==0){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},n.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,y,v){r(typeof l=="number"&&l>=0);var m;y?m=(y-y%26)/26:m=0;var w=l%26,C=Math.min((l-w)/26,this.length),B=67108863^67108863>>>w<<w,_=v;if(m-=C,m=Math.max(0,m),_){for(var p=0;p<C;p++)_.words[p]=this.words[p];_.length=C}if(C!==0)if(this.length>C)for(this.length-=C,p=0;p<this.length;p++)this.words[p]=this.words[p+C];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=m);p--){var V=this.words[p]|0;this.words[p]=E<<26-w|V>>>w,E=V&B}return _&&E!==0&&(_.words[_.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(l,y,v){return r(this.negative===0),this.iushrn(l,y,v)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var y=l%26,v=(l-y)/26,m=1<<y;if(this.length<=v)return!1;var w=this.words[v];return!!(w&m)},n.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var y=l%26,v=(l-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(y!==0&&v++,this.length=Math.min(v,this.length),y!==0){var m=67108863^67108863>>>y<<y;this.words[this.length-1]&=m}return this.strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},n.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,y,v){var m=l.length+v,w;this._expand(m);var C,B=0;for(w=0;w<l.length;w++){C=(this.words[w+v]|0)+B;var _=(l.words[w]|0)*y;C-=_&67108863,B=(C>>26)-(_/67108864|0),this.words[w+v]=C&67108863}for(;w<this.length-v;w++)C=(this.words[w+v]|0)+B,B=C>>26,this.words[w+v]=C&67108863;if(B===0)return this.strip();for(r(B===-1),B=0,w=0;w<this.length;w++)C=-(this.words[w]|0)+B,B=C>>26,this.words[w]=C&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(l,y){var v=this.length-l.length,m=this.clone(),w=l,C=w.words[w.length-1]|0,B=this._countBits(C);v=26-B,v!==0&&(w=w.ushln(v),m.iushln(v),C=w.words[w.length-1]|0);var _=m.length-w.length,p;if(y!=="mod"){p=new n(null),p.length=_+1,p.words=new Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var V=m.clone()._ishlnsubmul(w,1,_);V.negative===0&&(m=V,p&&(p.words[_]=1));for(var j=_-1;j>=0;j--){var Y=(m.words[w.length+j]|0)*67108864+(m.words[w.length+j-1]|0);for(Y=Math.min(Y/C|0,67108863),m._ishlnsubmul(w,Y,j);m.negative!==0;)Y--,m.negative=0,m._ishlnsubmul(w,1,j),m.isZero()||(m.negative^=1);p&&(p.words[j]=Y)}return p&&p.strip(),m.strip(),y!=="div"&&v!==0&&m.iushrn(v),{div:p||null,mod:m}},n.prototype.divmod=function(l,y,v){if(r(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var m,w,C;return this.negative!==0&&l.negative===0?(C=this.neg().divmod(l,y),y!=="mod"&&(m=C.div.neg()),y!=="div"&&(w=C.mod.neg(),v&&w.negative!==0&&w.iadd(l)),{div:m,mod:w}):this.negative===0&&l.negative!==0?(C=this.divmod(l.neg(),y),y!=="mod"&&(m=C.div.neg()),{div:m,mod:C.mod}):(this.negative&l.negative)!=0?(C=this.neg().divmod(l.neg(),y),y!=="div"&&(w=C.mod.neg(),v&&w.negative!==0&&w.isub(l)),{div:C.div,mod:w}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?y==="div"?{div:this.divn(l.words[0]),mod:null}:y==="mod"?{div:null,mod:new n(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modn(l.words[0]))}:this._wordDiv(l,y)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var y=this.divmod(l);if(y.mod.isZero())return y.div;var v=y.div.negative!==0?y.mod.isub(l):y.mod,m=l.ushrn(1),w=l.andln(1),C=v.cmp(m);return C<0||w===1&&C===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},n.prototype.modn=function(l){r(l<=67108863);for(var y=(1<<26)%l,v=0,m=this.length-1;m>=0;m--)v=(y*v+(this.words[m]|0))%l;return v},n.prototype.idivn=function(l){r(l<=67108863);for(var y=0,v=this.length-1;v>=0;v--){var m=(this.words[v]|0)+y*67108864;this.words[v]=m/l|0,y=m%l}return this.strip()},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var y=this,v=l.clone();y.negative!==0?y=y.umod(l):y=y.clone();for(var m=new n(1),w=new n(0),C=new n(0),B=new n(1),_=0;y.isEven()&&v.isEven();)y.iushrn(1),v.iushrn(1),++_;for(var p=v.clone(),E=y.clone();!y.isZero();){for(var V=0,j=1;(y.words[0]&j)==0&&V<26;++V,j<<=1);if(V>0)for(y.iushrn(V);V-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(p),w.isub(E)),m.iushrn(1),w.iushrn(1);for(var Y=0,J=1;(v.words[0]&J)==0&&Y<26;++Y,J<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)(C.isOdd()||B.isOdd())&&(C.iadd(p),B.isub(E)),C.iushrn(1),B.iushrn(1);y.cmp(v)>=0?(y.isub(v),m.isub(C),w.isub(B)):(v.isub(y),C.isub(m),B.isub(w))}return{a:C,b:B,gcd:v.iushln(_)}},n.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var y=this,v=l.clone();y.negative!==0?y=y.umod(l):y=y.clone();for(var m=new n(1),w=new n(0),C=v.clone();y.cmpn(1)>0&&v.cmpn(1)>0;){for(var B=0,_=1;(y.words[0]&_)==0&&B<26;++B,_<<=1);if(B>0)for(y.iushrn(B);B-- >0;)m.isOdd()&&m.iadd(C),m.iushrn(1);for(var p=0,E=1;(v.words[0]&E)==0&&p<26;++p,E<<=1);if(p>0)for(v.iushrn(p);p-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);y.cmp(v)>=0?(y.isub(v),m.isub(w)):(v.isub(y),w.isub(m))}var V;return y.cmpn(1)===0?V=m:V=w,V.cmpn(0)<0&&V.iadd(l),V},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var y=this.clone(),v=l.clone();y.negative=0,v.negative=0;for(var m=0;y.isEven()&&v.isEven();m++)y.iushrn(1),v.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=y.cmp(v);if(w<0){var C=y;y=v,v=C}else if(w===0||v.cmpn(1)===0)break;y.isub(v)}while(!0);return v.iushln(m)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){r(typeof l=="number");var y=l%26,v=(l-y)/26,m=1<<y;if(this.length<=v)return this._expand(v+1),this.words[v]|=m,this;for(var w=m,C=v;w!==0&&C<this.length;C++){var B=this.words[C]|0;B+=w,w=B>>>26,B&=67108863,this.words[C]=B}return w!==0&&(this.words[C]=w,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var y=l<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this.strip();var v;if(this.length>1)v=1;else{y&&(l=-l),r(l<=67108863,"Number is too big");var m=this.words[0]|0;v=m===l?0:m<l?-1:1}return this.negative!==0?-v|0:v},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var y=this.ucmp(l);return this.negative!==0?-y|0:y},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var y=0,v=this.length-1;v>=0;v--){var m=this.words[v]|0,w=l.words[v]|0;if(m!==w){m<w?y=-1:m>w&&(y=1);break}}return y},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new z(l)},n.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var P={k256:null,p224:null,p192:null,p25519:null};function M(A,l){this.name=A,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},M.prototype.ireduce=function(l){var y=l,v;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),v=y.bitLength();while(v>this.n);var m=v<this.n?-1:y.ucmp(this.p);return m===0?(y.words[0]=0,y.length=1):m>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},M.prototype.split=function(l,y){l.iushrn(this.n,0,y)},M.prototype.imulK=function(l){return l.imul(this.k)};function q(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,M),q.prototype.split=function(l,y){for(var v=4194303,m=Math.min(l.length,9),w=0;w<m;w++)y.words[w]=l.words[w];if(y.length=m,l.length<=9){l.words[0]=0,l.length=1;return}var C=l.words[9];for(y.words[y.length++]=C&v,w=10;w<l.length;w++){var B=l.words[w]|0;l.words[w-10]=(B&v)<<4|C>>>22,C=B}C>>>=22,l.words[w-10]=C,C===0&&l.length>10?l.length-=10:l.length-=9},q.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var y=0,v=0;v<l.length;v++){var m=l.words[v]|0;y+=m*977,l.words[v]=y&67108863,y=m*64+(y/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,M);function O(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(O,M);function H(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,M),H.prototype.imulK=function(l){for(var y=0,v=0;v<l.length;v++){var m=(l.words[v]|0)*19+y,w=m&67108863;m>>>=26,l.words[v]=w,y=m}return y!==0&&(l.words[l.length++]=y),l},n._prime=function(l){if(P[l])return P[l];var y;if(l==="k256")y=new q;else if(l==="p224")y=new L;else if(l==="p192")y=new O;else if(l==="p25519")y=new H;else throw new Error("Unknown prime "+l);return P[l]=y,y};function z(A){if(typeof A=="string"){var l=n._prime(A);this.m=l.p,this.prime=l}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}z.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},z.prototype._verify2=function(l,y){r((l.negative|y.negative)==0,"red works only with positives"),r(l.red&&l.red===y.red,"red works only with red numbers")},z.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},z.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},z.prototype.add=function(l,y){this._verify2(l,y);var v=l.add(y);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},z.prototype.iadd=function(l,y){this._verify2(l,y);var v=l.iadd(y);return v.cmp(this.m)>=0&&v.isub(this.m),v},z.prototype.sub=function(l,y){this._verify2(l,y);var v=l.sub(y);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},z.prototype.isub=function(l,y){this._verify2(l,y);var v=l.isub(y);return v.cmpn(0)<0&&v.iadd(this.m),v},z.prototype.shl=function(l,y){return this._verify1(l),this.imod(l.ushln(y))},z.prototype.imul=function(l,y){return this._verify2(l,y),this.imod(l.imul(y))},z.prototype.mul=function(l,y){return this._verify2(l,y),this.imod(l.mul(y))},z.prototype.isqr=function(l){return this.imul(l,l.clone())},z.prototype.sqr=function(l){return this.mul(l,l)},z.prototype.sqrt=function(l){if(l.isZero())return l.clone();var y=this.m.andln(3);if(r(y%2==1),y===3){var v=this.m.add(new n(1)).iushrn(2);return this.pow(l,v)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);r(!m.isZero());var C=new n(1).toRed(this),B=C.redNeg(),_=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new n(2*p*p).toRed(this);this.pow(p,_).cmp(B)!==0;)p.redIAdd(B);for(var E=this.pow(p,m),V=this.pow(l,m.addn(1).iushrn(1)),j=this.pow(l,m),Y=w;j.cmp(C)!==0;){for(var J=j,te=0;J.cmp(C)!==0;te++)J=J.redSqr();r(te<Y);var re=this.pow(E,new n(1).iushln(Y-te-1));V=V.redMul(re),E=re.redSqr(),j=j.redMul(E),Y=te}return V},z.prototype.invm=function(l){var y=l._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},z.prototype.pow=function(l,y){if(y.isZero())return new n(1).toRed(this);if(y.cmpn(1)===0)return l.clone();var v=4,m=new Array(1<<v);m[0]=new n(1).toRed(this),m[1]=l;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],l);var C=m[0],B=0,_=0,p=y.bitLength()%26;for(p===0&&(p=26),w=y.length-1;w>=0;w--){for(var E=y.words[w],V=p-1;V>=0;V--){var j=E>>V&1;if(C!==m[0]&&(C=this.sqr(C)),j===0&&B===0){_=0;continue}B<<=1,B|=j,_++,!(_!==v&&(w!==0||V!==0))&&(C=this.mul(C,m[B]),_=0,B=0)}p=26}return C},z.prototype.convertTo=function(l){var y=l.umod(this.m);return y===l?y.clone():y},z.prototype.convertFrom=function(l){var y=l.clone();return y.red=null,y},n.mont=function(l){return new Q(l)};function Q(A){z.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,z),Q.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Q.prototype.convertFrom=function(l){var y=this.imod(l.mul(this.rinv));return y.red=null,y},Q.prototype.imul=function(l,y){if(l.isZero()||y.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(y),m=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(m).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},Q.prototype.mul=function(l,y){if(l.isZero()||y.isZero())return new n(0)._forceRed(this);var v=l.mul(y),m=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(m).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},Q.prototype.invm=function(l){var y=this.imod(l._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(typeof ah=="undefined"||ah,Gv)});var Rn=R((eT,Hv)=>{Hv.exports=Vv;function Vv(t,e){if(!t)throw new Error(e||"Assertion failed")}Vv.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var oh=R(Yv=>{"use strict";var rc=Yv;function qE(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,a=n&255;s?r.push(s,a):r.push(a)}return r}rc.toArray=qE;function jv(t){return t.length===1?"0"+t:t}rc.zero2=jv;function Wv(t){for(var e="",r=0;r<t.length;r++)e+=jv(t[r].toString(16));return e}rc.toHex=Wv;rc.encode=function(e,r){return r==="hex"?Wv(e):e}});var mr=R($v=>{"use strict";var Zr=$v,KE=Ei(),FE=Rn(),ic=oh();Zr.assert=FE;Zr.toArray=ic.toArray;Zr.zero2=ic.zero2;Zr.toHex=ic.toHex;Zr.encode=ic.encode;function UE(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),a=0;a<i.length;a++){var o,u=s.andln(n-1);s.isOdd()?(u>(n>>1)-1?o=(n>>1)-u:o=u,s.isubn(o)):o=0,i[a]=o,s.iushrn(1)}return i}Zr.getNAF=UE;function zE(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var a=t.andln(3)+i&3,o=e.andln(3)+n&3;a===3&&(a=-1),o===3&&(o=-1);var u;(a&1)==0?u=0:(s=t.andln(7)+i&7,(s===3||s===5)&&o===2?u=-a:u=a),r[0].push(u);var c;(o&1)==0?c=0:(s=e.andln(7)+n&7,(s===3||s===5)&&a===2?c=-o:c=o),r[1].push(c),2*i===u+1&&(i=1-i),2*n===c+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}Zr.getJSF=zE;function GE(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}Zr.cachedProperty=GE;function VE(t){return typeof t=="string"?Zr.toArray(t,"hex"):t}Zr.parseBytes=VE;function HE(t){return new KE(t,"hex","le")}Zr.intFromLE=HE});var hh=R((iT,uh)=>{var fh;uh.exports=function(e){return fh||(fh=new Tn(null)),fh.generate(e)};function Tn(t){this.rand=t}uh.exports.Rand=Tn;Tn.prototype.generate=function(e){return this._rand(e)};Tn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Tn.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Tn.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Tn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(ch=Ls(),typeof ch.randomBytes!="function")throw new Error("Not supported");Tn.prototype._rand=function(e){return ch.randomBytes(e)}}catch(t){}var ch});var ho=R((nT,Zv)=>{"use strict";var hs=Ei(),uo=mr(),nc=uo.getNAF,jE=uo.getJSF,sc=uo.assert;function Pn(t,e){this.type=t,this.p=new hs(e.p,16),this.red=e.prime?hs.red(e.prime):hs.mont(this.p),this.zero=new hs(0).toRed(this.red),this.one=new hs(1).toRed(this.red),this.two=new hs(2).toRed(this.red),this.n=e.n&&new hs(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Zv.exports=Pn;Pn.prototype.point=function(){throw new Error("Not implemented")};Pn.prototype.validate=function(){throw new Error("Not implemented")};Pn.prototype._fixedNafMul=function(e,r){sc(e.precomputed);var i=e._getDoubles(),n=nc(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[],o,u;for(o=0;o<n.length;o+=i.step){u=0;for(var c=o+i.step-1;c>=o;c--)u=(u<<1)+n[c];a.push(u)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=s;d>0;d--){for(o=0;o<a.length;o++)u=a[o],u===d?h=h.mixedAdd(i.points[o]):u===-d&&(h=h.mixedAdd(i.points[o].neg()));f=f.add(h)}return f.toP()};Pn.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,a=nc(r,i,this._bitLength),o=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var c=0;u>=0&&a[u]===0;u--)c++;if(u>=0&&c++,o=o.dblp(c),u<0)break;var f=a[u];sc(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};Pn.prototype._wnafMulAdd=function(e,r,i,n,s){var a=this._wnafT1,o=this._wnafT2,u=this._wnafT3,c=0,f,h,d;for(f=0;f<n;f++){d=r[f];var g=d._getNAFPoints(e);a[f]=g.wnd,o[f]=g.points}for(f=n-1;f>=1;f-=2){var b=f-1,x=f;if(a[b]!==1||a[x]!==1){u[b]=nc(i[b],a[b],this._bitLength),u[x]=nc(i[x],a[x],this._bitLength),c=Math.max(u[b].length,c),c=Math.max(u[x].length,c);continue}var I=[r[b],null,null,r[x]];r[b].y.cmp(r[x].y)===0?(I[1]=r[b].add(r[x]),I[2]=r[b].toJ().mixedAdd(r[x].neg())):r[b].y.cmp(r[x].y.redNeg())===0?(I[1]=r[b].toJ().mixedAdd(r[x]),I[2]=r[b].add(r[x].neg())):(I[1]=r[b].toJ().mixedAdd(r[x]),I[2]=r[b].toJ().mixedAdd(r[x].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],P=jE(i[b],i[x]);for(c=Math.max(P[0].length,c),u[b]=new Array(c),u[x]=new Array(c),h=0;h<c;h++){var M=P[0][h]|0,q=P[1][h]|0;u[b][h]=S[(M+1)*3+(q+1)],u[x][h]=0,o[b]=I}}var L=this.jpoint(null,null,null),O=this._wnafT4;for(f=c;f>=0;f--){for(var H=0;f>=0;){var z=!0;for(h=0;h<n;h++)O[h]=u[h][f]|0,O[h]!==0&&(z=!1);if(!z)break;H++,f--}if(f>=0&&H++,L=L.dblp(H),f<0)break;for(h=0;h<n;h++){var Q=O[h];Q!==0&&(Q>0?d=o[h][Q-1>>1]:Q<0&&(d=o[h][-Q-1>>1].neg()),d.type==="affine"?L=L.mixedAdd(d):L=L.add(d))}}for(f=0;f<n;f++)o[f]=null;return s?L:L.toP()};function Dr(t,e){this.curve=t,this.type=e,this.precomputed=null}Pn.BasePoint=Dr;Dr.prototype.eq=function(){throw new Error("Not implemented")};Dr.prototype.validate=function(){return this.curve.validate(this)};Pn.prototype.decodePoint=function(e,r){e=uo.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?sc(e[e.length-1]%2==0):e[0]===7&&sc(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Dr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Dr.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Dr.prototype.encode=function(e,r){return uo.encode(this._encode(r),e)};Dr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Dr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Dr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)n=n.dbl();i.push(n)}return{step:e,points:i}};Dr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};Dr.prototype._getBeta=function(){return null};Dr.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var lo=R((sT,lh)=>{typeof Object.create=="function"?lh.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:lh.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Xv=R((aT,Jv)=>{"use strict";var WE=mr(),Je=Ei(),dh=lo(),oa=ho(),YE=WE.assert;function Or(t){oa.call(this,"short",t),this.a=new Je(t.a,16).toRed(this.red),this.b=new Je(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}dh(Or,oa);Jv.exports=Or;Or.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Je(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Je(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],YE(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Je(o.a,16),b:new Je(o.b,16)}}):a=this._getEndoBasis(i),{beta:r,lambda:i,basis:a}}};Or.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Je.mont(e),i=new Je(2).toRed(r).redInvm(),n=i.redNeg(),s=new Je(3).toRed(r).redNeg().redSqrt().redMul(i),a=n.redAdd(s).fromRed(),o=n.redSub(s).fromRed();return[a,o]};Or.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Je(1),a=new Je(0),o=new Je(0),u=new Je(1),c,f,h,d,g,b,x,I=0,S,P;i.cmpn(0)!==0;){var M=n.div(i);S=n.sub(M.mul(i)),P=o.sub(M.mul(s));var q=u.sub(M.mul(a));if(!h&&S.cmp(r)<0)c=x.neg(),f=s,h=S.neg(),d=P;else if(h&&++I==2)break;x=S,n=i,i=S,o=s,s=P,u=a,a=q}g=S.neg(),b=P;var L=h.sqr().add(d.sqr()),O=g.sqr().add(b.sqr());return O.cmp(L)>=0&&(g=c,b=f),h.negative&&(h=h.neg(),d=d.neg()),g.negative&&(g=g.neg(),b=b.neg()),[{a:h,b:d},{a:g,b}]};Or.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),o=s.mul(i.a),u=a.mul(n.a),c=s.mul(i.b),f=a.mul(n.b),h=e.sub(o).sub(u),d=c.add(f).neg();return{k1:h,k2:d}};Or.prototype.pointFromX=function(e,r){e=new Je(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};Or.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};Or.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),u=e[a],c=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[a*2]=u,n[a*2+1]=c,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var f=this._wnafMulAdd(1,n,s,a*2,i),h=0;h<a*2;h++)n[h]=null,s[h]=null;return f};function Ft(t,e,r,i){oa.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Je(e,16),this.y=new Je(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}dh(Ft,oa.BasePoint);Or.prototype.point=function(e,r,i){return new Ft(this,e,r,i)};Or.prototype.pointFromJSON=function(e,r){return Ft.fromJSON(this,e,r)};Ft.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};Ft.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ft.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(o){return e.point(o[0],o[1],i)}var a=r[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(s))}},n};Ft.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ft.prototype.isInfinity=function(){return this.inf};Ft.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Ft.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ft.prototype.getX=function(){return this.x.fromRed()};Ft.prototype.getY=function(){return this.y.fromRed()};Ft.prototype.mul=function(e){return e=new Je(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ft.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Ft.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Ft.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ft.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};Ft.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Yt(t,e,r,i){oa.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Je(0)):(this.x=new Je(e,16),this.y=new Je(r,16),this.z=new Je(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}dh(Yt,oa.BasePoint);Or.prototype.jpoint=function(e,r,i){return new Yt(this,e,r,i)};Yt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Yt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Yt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(i.redMul(this.z)),u=n.redSub(s),c=a.redSub(o);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=u.redSqr(),h=f.redMul(u),d=n.redMul(f),g=c.redSqr().redIAdd(h).redISub(d).redISub(d),b=c.redMul(d.redISub(g)).redISub(a.redMul(h)),x=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(g,b,x)};Yt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=i.redSub(n),u=s.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),f=c.redMul(o),h=i.redMul(c),d=u.redSqr().redIAdd(f).redISub(h).redISub(h),g=u.redMul(h.redISub(d)).redISub(s.redMul(f)),b=this.z.redMul(o);return this.curve.jpoint(d,g,b)};Yt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,u=this.z,c=u.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var h=a.redSqr(),d=f.redSqr(),g=d.redSqr(),b=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),x=a.redMul(d),I=b.redSqr().redISub(x.redAdd(x)),S=x.redISub(I),P=b.redMul(S);P=P.redIAdd(P).redISub(g);var M=f.redMul(u);r+1<e&&(c=c.redMul(g)),a=I,u=M,f=P}return this.curve.jpoint(a,f.redMul(s),u)};Yt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Yt.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n),c=u.redSqr().redISub(o).redISub(o),f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),e=c,r=u.redMul(o.redISub(c)).redISub(f),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),g=d.redSqr(),b=this.x.redAdd(d).redSqr().redISub(h).redISub(g);b=b.redIAdd(b);var x=h.redAdd(h).redIAdd(h),I=x.redSqr(),S=g.redIAdd(g);S=S.redIAdd(S),S=S.redIAdd(S),e=I.redISub(b).redISub(b),r=x.redMul(b.redISub(e)).redISub(S),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Yt.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=u.redSqr().redISub(o).redISub(o);e=c;var f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),r=u.redMul(o.redISub(c)).redISub(f),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),g=this.x.redMul(d),b=this.x.redSub(h).redMul(this.x.redAdd(h));b=b.redAdd(b).redIAdd(b);var x=g.redIAdd(g);x=x.redIAdd(x);var I=x.redAdd(x);e=b.redSqr().redISub(I),i=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var S=d.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),r=b.redMul(x.redISub(e)).redISub(S)}return this.curve.jpoint(e,r,i)};Yt.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),a=r.redSqr(),o=i.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var f=c.redMul(o),h=u.redSqr().redISub(f.redAdd(f)),d=f.redISub(h),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=u.redMul(d).redISub(g),x=i.redAdd(i).redMul(n);return this.curve.jpoint(h,b,x)};Yt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var u=o.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var f=s.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(c),h=r.redMul(f);h=h.redIAdd(h),h=h.redIAdd(h);var d=this.x.redMul(u).redISub(h);d=d.redIAdd(d),d=d.redIAdd(d);var g=this.y.redMul(f.redMul(c.redISub(f)).redISub(o.redMul(u)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var b=this.z.redAdd(o).redSqr().redISub(i).redISub(u);return this.curve.jpoint(d,g,b)};Yt.prototype.mul=function(e,r){return e=new Je(e,r),this.curve._wnafMul(this,e)};Yt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Yt.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Yt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Yt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var t3=R((oT,e3)=>{"use strict";var fa=Ei(),Qv=lo(),ac=ho(),$E=mr();function ca(t){ac.call(this,"mont",t),this.a=new fa(t.a,16).toRed(this.red),this.b=new fa(t.b,16).toRed(this.red),this.i4=new fa(4).toRed(this.red).redInvm(),this.two=new fa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Qv(ca,ac);e3.exports=ca;ca.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Ut(t,e,r){ac.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fa(e,16),this.z=new fa(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Qv(Ut,ac.BasePoint);ca.prototype.decodePoint=function(e,r){return this.point($E.toArray(e,r),1)};ca.prototype.point=function(e,r){return new Ut(this,e,r)};ca.prototype.pointFromJSON=function(e){return Ut.fromJSON(this,e)};Ut.prototype.precompute=function(){};Ut.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ut.fromJSON=function(e,r){return new Ut(e,r[0],r[1]||e.one)};Ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ut.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ut.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),a=r.redMul(n),o=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,o)};Ut.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ut.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(i),u=s.redMul(n),c=r.z.redMul(o.redAdd(u).redSqr()),f=r.x.redMul(o.redISub(u).redSqr());return this.curve.point(c,f)};Ut.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Ut.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ut.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ut.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ut.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ut.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var n3=R((fT,i3)=>{"use strict";var ZE=mr(),$i=Ei(),r3=lo(),oc=ho(),JE=ZE.assert;function Si(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,oc.call(this,"edwards",t),this.a=new $i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new $i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new $i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),JE(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}r3(Si,oc);i3.exports=Si;Si.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Si.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Si.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Si.prototype.pointFromX=function(e,r){e=new $i(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=n.redMul(s.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(r&&!u||!r&&u)&&(o=o.redNeg()),this.point(e,o)};Si.prototype.pointFromY=function(e,r){e=new $i(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Si.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function qe(t,e,r,i,n){oc.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new $i(e,16),this.y=new $i(r,16),this.z=i?new $i(i,16):this.curve.one,this.t=n&&new $i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r3(qe,oc.BasePoint);Si.prototype.pointFromJSON=function(e){return qe.fromJSON(this,e)};Si.prototype.point=function(e,r,i,n){return new qe(this,e,r,i,n)};qe.fromJSON=function(e,r){return new qe(e,r[0],r[1],r[2])};qe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};qe.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=n.redAdd(r),o=a.redSub(i),u=n.redSub(r),c=s.redMul(o),f=a.redMul(u),h=s.redMul(u),d=o.redMul(a);return this.curve.point(c,f,d,h)};qe.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,a,o,u,c;if(this.curve.twisted){o=this.curve._mulA(r);var f=o.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(f.redSub(this.curve.two)),s=f.redMul(o.redSub(i)),a=f.redSqr().redSub(f).redSub(f)):(u=this.z.redSqr(),c=f.redSub(u).redISub(u),n=e.redSub(r).redISub(i).redMul(c),s=f.redMul(o.redSub(i)),a=f.redMul(c))}else o=r.redAdd(i),u=this.curve._mulC(this.z).redSqr(),c=o.redSub(u).redSub(u),n=this.curve._mulC(e.redISub(o)).redMul(c),s=this.curve._mulC(o).redMul(r.redISub(i)),a=o.redMul(c);return this.curve.point(n,s,a)};qe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};qe.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(r),o=s.redSub(n),u=s.redAdd(n),c=i.redAdd(r),f=a.redMul(o),h=u.redMul(c),d=a.redMul(c),g=o.redMul(u);return this.curve.point(f,h,g,d)};qe.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(n).redMul(s),o=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),f=r.redMul(o).redMul(c),h,d;return this.curve.twisted?(h=r.redMul(u).redMul(s.redSub(this.curve._mulA(n))),d=o.redMul(u)):(h=r.redMul(u).redMul(s.redSub(n)),d=this.curve._mulC(o).redMul(u)),this.curve.point(f,h,d)};qe.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};qe.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};qe.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};qe.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};qe.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};qe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};qe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};qe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};qe.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};qe.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};qe.prototype.toP=qe.prototype.normalize;qe.prototype.mixedAdd=qe.prototype.add});var ph=R(s3=>{"use strict";var fc=s3;fc.base=ho();fc.short=Xv();fc.mont=t3();fc.edwards=n3()});var Jr=R(Oe=>{"use strict";var XE=Rn(),QE=lo();Oe.inherits=QE;function eS(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function tS(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):eS(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Oe.toArray=tS;function rS(t){for(var e="",r=0;r<t.length;r++)e+=o3(t[r].toString(16));return e}Oe.toHex=rS;function a3(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Oe.htonl=a3;function iS(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=a3(n)),r+=f3(n.toString(16))}return r}Oe.toHex32=iS;function o3(t){return t.length===1?"0"+t:t}Oe.zero2=o3;function f3(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Oe.zero8=f3;function nS(t,e,r,i){var n=r-e;XE(n%4==0);for(var s=new Array(n/4),a=0,o=e;a<s.length;a++,o+=4){var u;i==="big"?u=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:u=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=u>>>0}return s}Oe.join32=nS;function sS(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Oe.split32=sS;function aS(t,e){return t>>>e|t<<32-e}Oe.rotr32=aS;function oS(t,e){return t<<e|t>>>32-e}Oe.rotl32=oS;function fS(t,e){return t+e>>>0}Oe.sum32=fS;function cS(t,e,r){return t+e+r>>>0}Oe.sum32_3=cS;function uS(t,e,r,i){return t+e+r+i>>>0}Oe.sum32_4=uS;function hS(t,e,r,i,n){return t+e+r+i+n>>>0}Oe.sum32_5=hS;function lS(t,e,r,i){var n=t[e],s=t[e+1],a=i+s>>>0,o=(a<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=a}Oe.sum64=lS;function dS(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Oe.sum64_hi=dS;function pS(t,e,r,i){var n=e+i;return n>>>0}Oe.sum64_lo=pS;function yS(t,e,r,i,n,s,a,o){var u=0,c=e;c=c+i>>>0,u+=c<e?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+o>>>0,u+=c<o?1:0;var f=t+r+n+a+u;return f>>>0}Oe.sum64_4_hi=yS;function bS(t,e,r,i,n,s,a,o){var u=e+i+s+o;return u>>>0}Oe.sum64_4_lo=bS;function gS(t,e,r,i,n,s,a,o,u,c){var f=0,h=e;h=h+i>>>0,f+=h<e?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+o>>>0,f+=h<o?1:0,h=h+c>>>0,f+=h<c?1:0;var d=t+r+n+a+u+f;return d>>>0}Oe.sum64_5_hi=gS;function vS(t,e,r,i,n,s,a,o,u,c){var f=e+i+s+o+c;return f>>>0}Oe.sum64_5_lo=vS;function mS(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Oe.rotr64_hi=mS;function xS(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Oe.rotr64_lo=xS;function wS(t,e,r){return t>>>r}Oe.shr64_hi=wS;function _S(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Oe.shr64_lo=_S});var ua=R(u3=>{"use strict";var c3=Jr(),ES=Rn();function cc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}u3.BlockHash=cc;cc.prototype.update=function(e,r){if(e=c3.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=c3.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};cc.prototype.digest=function(e){return this.update(this._pad()),ES(this.pending===null),this._digest(e)};cc.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,a=8;a<this.padLength;a++)n[s++]=0;return n}});var yh=R(Zi=>{"use strict";var SS=Jr(),Ai=SS.rotr32;function AS(t,e,r,i){if(t===0)return h3(e,r,i);if(t===1||t===3)return d3(e,r,i);if(t===2)return l3(e,r,i)}Zi.ft_1=AS;function h3(t,e,r){return t&e^~t&r}Zi.ch32=h3;function l3(t,e,r){return t&e^t&r^e&r}Zi.maj32=l3;function d3(t,e,r){return t^e^r}Zi.p32=d3;function IS(t){return Ai(t,2)^Ai(t,13)^Ai(t,22)}Zi.s0_256=IS;function BS(t){return Ai(t,6)^Ai(t,11)^Ai(t,25)}Zi.s1_256=BS;function CS(t){return Ai(t,7)^Ai(t,18)^t>>>3}Zi.g0_256=CS;function RS(t){return Ai(t,17)^Ai(t,19)^t>>>10}Zi.g1_256=RS});var b3=R((dT,y3)=>{"use strict";var ha=Jr(),TS=ua(),PS=yh(),bh=ha.rotl32,po=ha.sum32,MS=ha.sum32_5,DS=PS.ft_1,p3=TS.BlockHash,OS=[1518500249,1859775393,2400959708,3395469782];function Ii(){if(!(this instanceof Ii))return new Ii;p3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ha.inherits(Ii,p3);y3.exports=Ii;Ii.blockSize=512;Ii.outSize=160;Ii.hmacStrength=80;Ii.padLength=64;Ii.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=bh(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var f=~~(n/20),h=MS(bh(s,5),DS(f,a,o,u),c,i[n],OS[f]);c=u,u=o,o=bh(a,30),a=s,s=h}this.h[0]=po(this.h[0],s),this.h[1]=po(this.h[1],a),this.h[2]=po(this.h[2],o),this.h[3]=po(this.h[3],u),this.h[4]=po(this.h[4],c)};Ii.prototype._digest=function(e){return e==="hex"?ha.toHex32(this.h,"big"):ha.split32(this.h,"big")}});var gh=R((pT,v3)=>{"use strict";var la=Jr(),kS=ua(),da=yh(),NS=Rn(),Xr=la.sum32,LS=la.sum32_4,qS=la.sum32_5,KS=da.ch32,FS=da.maj32,US=da.s0_256,zS=da.s1_256,GS=da.g0_256,VS=da.g1_256,g3=kS.BlockHash,HS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bi(){if(!(this instanceof Bi))return new Bi;g3.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=HS,this.W=new Array(64)}la.inherits(Bi,g3);v3.exports=Bi;Bi.blockSize=512;Bi.outSize=256;Bi.hmacStrength=192;Bi.padLength=64;Bi.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=LS(VS(i[n-2]),i[n-7],GS(i[n-15]),i[n-16]);var s=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4],f=this.h[5],h=this.h[6],d=this.h[7];for(NS(this.k.length===i.length),n=0;n<i.length;n++){var g=qS(d,zS(c),KS(c,f,h),this.k[n],i[n]),b=Xr(US(s),FS(s,a,o));d=h,h=f,f=c,c=Xr(u,g),u=o,o=a,a=s,s=Xr(g,b)}this.h[0]=Xr(this.h[0],s),this.h[1]=Xr(this.h[1],a),this.h[2]=Xr(this.h[2],o),this.h[3]=Xr(this.h[3],u),this.h[4]=Xr(this.h[4],c),this.h[5]=Xr(this.h[5],f),this.h[6]=Xr(this.h[6],h),this.h[7]=Xr(this.h[7],d)};Bi.prototype._digest=function(e){return e==="hex"?la.toHex32(this.h,"big"):la.split32(this.h,"big")}});var w3=R((yT,x3)=>{"use strict";var vh=Jr(),m3=gh();function Ji(){if(!(this instanceof Ji))return new Ji;m3.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}vh.inherits(Ji,m3);x3.exports=Ji;Ji.blockSize=512;Ji.outSize=224;Ji.hmacStrength=192;Ji.padLength=64;Ji.prototype._digest=function(e){return e==="hex"?vh.toHex32(this.h.slice(0,7),"big"):vh.split32(this.h.slice(0,7),"big")}});var wh=R((bT,A3)=>{"use strict";var yr=Jr(),jS=ua(),WS=Rn(),Ci=yr.rotr64_hi,Ri=yr.rotr64_lo,_3=yr.shr64_hi,E3=yr.shr64_lo,Mn=yr.sum64,mh=yr.sum64_hi,xh=yr.sum64_lo,YS=yr.sum64_4_hi,$S=yr.sum64_4_lo,ZS=yr.sum64_5_hi,JS=yr.sum64_5_lo,S3=jS.BlockHash,XS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qr(){if(!(this instanceof Qr))return new Qr;S3.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=XS,this.W=new Array(160)}yr.inherits(Qr,S3);A3.exports=Qr;Qr.blockSize=1024;Qr.outSize=512;Qr.hmacStrength=192;Qr.padLength=128;Qr.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=cA(i[n-4],i[n-3]),a=uA(i[n-4],i[n-3]),o=i[n-14],u=i[n-13],c=oA(i[n-30],i[n-29]),f=fA(i[n-30],i[n-29]),h=i[n-32],d=i[n-31];i[n]=YS(s,a,o,u,c,f,h,d),i[n+1]=$S(s,a,o,u,c,f,h,d)}};Qr.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7],d=this.h[8],g=this.h[9],b=this.h[10],x=this.h[11],I=this.h[12],S=this.h[13],P=this.h[14],M=this.h[15];WS(this.k.length===i.length);for(var q=0;q<i.length;q+=2){var L=P,O=M,H=sA(d,g),z=aA(d,g),Q=QS(d,g,b,x,I,S),A=eA(d,g,b,x,I,S),l=this.k[q],y=this.k[q+1],v=i[q],m=i[q+1],w=ZS(L,O,H,z,Q,A,l,y,v,m),C=JS(L,O,H,z,Q,A,l,y,v,m);L=iA(n,s),O=nA(n,s),H=tA(n,s,a,o,u,c),z=rA(n,s,a,o,u,c);var B=mh(L,O,H,z),_=xh(L,O,H,z);P=I,M=S,I=b,S=x,b=d,x=g,d=mh(f,h,w,C),g=xh(h,h,w,C),f=u,h=c,u=a,c=o,a=n,o=s,n=mh(w,C,B,_),s=xh(w,C,B,_)}Mn(this.h,0,n,s),Mn(this.h,2,a,o),Mn(this.h,4,u,c),Mn(this.h,6,f,h),Mn(this.h,8,d,g),Mn(this.h,10,b,x),Mn(this.h,12,I,S),Mn(this.h,14,P,M)};Qr.prototype._digest=function(e){return e==="hex"?yr.toHex32(this.h,"big"):yr.split32(this.h,"big")};function QS(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function eA(t,e,r,i,n,s){var a=e&i^~e&s;return a<0&&(a+=4294967296),a}function tA(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function rA(t,e,r,i,n,s){var a=e&i^e&s^i&s;return a<0&&(a+=4294967296),a}function iA(t,e){var r=Ci(t,e,28),i=Ci(e,t,2),n=Ci(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function nA(t,e){var r=Ri(t,e,28),i=Ri(e,t,2),n=Ri(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function sA(t,e){var r=Ci(t,e,14),i=Ci(t,e,18),n=Ci(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function aA(t,e){var r=Ri(t,e,14),i=Ri(t,e,18),n=Ri(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function oA(t,e){var r=Ci(t,e,1),i=Ci(t,e,8),n=_3(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function fA(t,e){var r=Ri(t,e,1),i=Ri(t,e,8),n=E3(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function cA(t,e){var r=Ci(t,e,19),i=Ci(e,t,29),n=_3(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function uA(t,e){var r=Ri(t,e,19),i=Ri(e,t,29),n=E3(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var C3=R((gT,B3)=>{"use strict";var _h=Jr(),I3=wh();function Xi(){if(!(this instanceof Xi))return new Xi;I3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_h.inherits(Xi,I3);B3.exports=Xi;Xi.blockSize=1024;Xi.outSize=384;Xi.hmacStrength=192;Xi.padLength=128;Xi.prototype._digest=function(e){return e==="hex"?_h.toHex32(this.h.slice(0,12),"big"):_h.split32(this.h.slice(0,12),"big")}});var R3=R(pa=>{"use strict";pa.sha1=b3();pa.sha224=w3();pa.sha256=gh();pa.sha384=C3();pa.sha512=wh()});var k3=R(O3=>{"use strict";var ls=Jr(),hA=ua(),uc=ls.rotl32,T3=ls.sum32,yo=ls.sum32_3,P3=ls.sum32_4,M3=hA.BlockHash;function Ti(){if(!(this instanceof Ti))return new Ti;M3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ls.inherits(Ti,M3);O3.ripemd160=Ti;Ti.blockSize=512;Ti.outSize=160;Ti.hmacStrength=192;Ti.padLength=64;Ti.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],u=i,c=n,f=s,h=a,d=o,g=0;g<80;g++){var b=T3(uc(P3(i,D3(g,n,s,a),e[pA[g]+r],lA(g)),bA[g]),o);i=o,o=a,a=uc(s,10),s=n,n=b,b=T3(uc(P3(u,D3(79-g,c,f,h),e[yA[g]+r],dA(g)),gA[g]),d),u=d,d=h,h=uc(f,10),f=c,c=b}b=yo(this.h[1],s,h),this.h[1]=yo(this.h[2],a,d),this.h[2]=yo(this.h[3],o,u),this.h[3]=yo(this.h[4],i,c),this.h[4]=yo(this.h[0],n,f),this.h[0]=b};Ti.prototype._digest=function(e){return e==="hex"?ls.toHex32(this.h,"little"):ls.split32(this.h,"little")};function D3(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function lA(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function dA(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var pA=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],yA=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bA=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],gA=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var L3=R((xT,N3)=>{"use strict";var vA=Jr(),mA=Rn();function ya(t,e,r){if(!(this instanceof ya))return new ya(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(vA.toArray(e,r))}N3.exports=ya;ya.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),mA(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};ya.prototype.update=function(e,r){return this.inner.update(e,r),this};ya.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var hc=R(q3=>{var $t=q3;$t.utils=Jr();$t.common=ua();$t.sha=R3();$t.ripemd=k3();$t.hmac=L3();$t.sha1=$t.sha.sha1;$t.sha256=$t.sha.sha256;$t.sha224=$t.sha.sha224;$t.sha384=$t.sha.sha384;$t.sha512=$t.sha.sha512;$t.ripemd160=$t.ripemd.ripemd160});var F3=R((_T,K3)=>{K3.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var lc=R(G3=>{"use strict";var Eh=G3,Dn=hc(),Sh=ph(),xA=mr(),U3=xA.assert;function z3(t){t.type==="short"?this.curve=new Sh.short(t):t.type==="edwards"?this.curve=new Sh.edwards(t):this.curve=new Sh.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,U3(this.g.validate(),"Invalid curve"),U3(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Eh.PresetCurve=z3;function On(t,e){Object.defineProperty(Eh,t,{configurable:!0,enumerable:!0,get:function(){var r=new z3(e);return Object.defineProperty(Eh,t,{configurable:!0,enumerable:!0,value:r}),r}})}On("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Dn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});On("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Dn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});On("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Dn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});On("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Dn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});On("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Dn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});On("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Dn.sha256,gRed:!1,g:["9"]});On("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Dn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ah;try{Ah=F3()}catch(t){Ah=void 0}On("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Dn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ah]})});var j3=R((ST,H3)=>{"use strict";var wA=hc(),ds=oh(),V3=Rn();function kn(t){if(!(this instanceof kn))return new kn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ds.toArray(t.entropy,t.entropyEnc||"hex"),r=ds.toArray(t.nonce,t.nonceEnc||"hex"),i=ds.toArray(t.pers,t.persEnc||"hex");V3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}H3.exports=kn;kn.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};kn.prototype._hmac=function(){return new wA.hmac(this.hash,this.K)};kn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};kn.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=ds.toArray(e,r),i=ds.toArray(i,n),V3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};kn.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=ds.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(i),this._reseed++,ds.encode(a,r)}});var Y3=R((AT,W3)=>{"use strict";var _A=Ei(),EA=mr(),Ih=EA.assert;function sr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}W3.exports=sr;sr.fromPublic=function(e,r,i){return r instanceof sr?r:new sr(e,{pub:r,pubEnc:i})};sr.fromPrivate=function(e,r,i){return r instanceof sr?r:new sr(e,{priv:r,privEnc:i})};sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};sr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};sr.prototype._importPrivate=function(e,r){this.priv=new _A(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};sr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Ih(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ih(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};sr.prototype.derive=function(e){return e.validate()||Ih(e.validate(),"public point not validated"),e.mul(this.priv).getX()};sr.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};sr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var J3=R((IT,Z3)=>{"use strict";var dc=Ei(),Bh=mr(),SA=Bh.assert;function pc(t,e){if(t instanceof pc)return t;this._importDER(t,e)||(SA(t.r&&t.s,"Signature without r or s"),this.r=new dc(t.r,16),this.s=new dc(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Z3.exports=pc;function AA(){this.place=0}function Ch(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,a=e.place;s<i;s++,a++)n<<=8,n|=t[a],n>>>=0;return n<=127?!1:(e.place=a,n)}function $3(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}pc.prototype._importDER=function(e,r){e=Bh.toArray(e,r);var i=new AA;if(e[i.place++]!==48)return!1;var n=Ch(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=Ch(e,i);if(s===!1)return!1;var a=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var o=Ch(e,i);if(o===!1||e.length!==o+i.place)return!1;var u=e.slice(i.place,o+i.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new dc(a),this.s=new dc(u),this.recoveryParam=null,!0};function Rh(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}pc.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=$3(r),i=$3(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];Rh(n,r.length),n=n.concat(r),n.push(2),Rh(n,i.length);var s=n.concat(i),a=[48];return Rh(a,s.length),a=a.concat(s),Bh.encode(a,e)}});var tm=R((BT,em)=>{"use strict";var ps=Ei(),X3=j3(),IA=mr(),Th=lc(),BA=hh(),Q3=IA.assert,Ph=Y3(),yc=J3();function kr(t){if(!(this instanceof kr))return new kr(t);typeof t=="string"&&(Q3(Object.prototype.hasOwnProperty.call(Th,t),"Unknown curve "+t),t=Th[t]),t instanceof Th.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}em.exports=kr;kr.prototype.keyPair=function(e){return new Ph(this,e)};kr.prototype.keyFromPrivate=function(e,r){return Ph.fromPrivate(this,e,r)};kr.prototype.keyFromPublic=function(e,r){return Ph.fromPublic(this,e,r)};kr.prototype.genKeyPair=function(e){e||(e={});for(var r=new X3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||BA(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new ps(2));;){var s=new ps(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};kr.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};kr.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new ps(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),u=new X3({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new ps(1)),f=0;;f++){var h=n.k?n.k(f):new ps(u.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var d=this.g.mul(h);if(!d.isInfinity()){var g=d.getX(),b=g.umod(this.n);if(b.cmpn(0)!==0){var x=h.invm(this.n).mul(b.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var I=(d.getY().isOdd()?1:0)|(g.cmp(b)!==0?2:0);return n.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),I^=1),new yc({r:b,s:x,recoveryParam:I})}}}}}};kr.prototype.verify=function(e,r,i,n){e=this._truncateToN(new ps(e,16)),i=this.keyFromPublic(i,n),r=new yc(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),u=o.mul(e).umod(this.n),c=o.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(u,i.getPublic(),c),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(u,i.getPublic(),c),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};kr.prototype.recoverPubKey=function(t,e,r,i){Q3((3&r)===r,"The recovery param is more than two bits"),e=new yc(e,i);var n=this.n,s=new ps(t),a=e.r,o=e.s,u=r&1,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var f=e.r.invm(n),h=n.sub(s).mul(f).umod(n),d=o.mul(f).umod(n);return this.g.mulAdd(h,a,d)};kr.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new yc(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(a){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var sm=R((CT,nm)=>{"use strict";var bo=mr(),rm=bo.assert,im=bo.parseBytes,ba=bo.cachedProperty;function zt(t,e){this.eddsa=t,this._secret=im(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=im(e.pub)}zt.fromPublic=function(e,r){return r instanceof zt?r:new zt(e,{pub:r})};zt.fromSecret=function(e,r){return r instanceof zt?r:new zt(e,{secret:r})};zt.prototype.secret=function(){return this._secret};ba(zt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ba(zt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ba(zt,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});ba(zt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ba(zt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ba(zt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});zt.prototype.sign=function(e){return rm(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};zt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};zt.prototype.getSecret=function(e){return rm(this._secret,"KeyPair is public only"),bo.encode(this.secret(),e)};zt.prototype.getPublic=function(e){return bo.encode(this.pubBytes(),e)};nm.exports=zt});var om=R((RT,am)=>{"use strict";var CA=Ei(),bc=mr(),RA=bc.assert,gc=bc.cachedProperty,TA=bc.parseBytes;function ys(t,e){this.eddsa=t,typeof e!="object"&&(e=TA(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),RA(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof CA&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}gc(ys,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});gc(ys,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});gc(ys,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});gc(ys,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ys.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ys.prototype.toHex=function(){return bc.encode(this.toBytes(),"hex").toUpperCase()};am.exports=ys});var lm=R((TT,hm)=>{"use strict";var PA=hc(),MA=lc(),ga=mr(),DA=ga.assert,fm=ga.parseBytes,cm=sm(),um=om();function br(t){if(DA(t==="ed25519","only tested with ed25519 so far"),!(this instanceof br))return new br(t);t=MA[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=PA.sha512}hm.exports=br;br.prototype.sign=function(e,r){e=fm(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),a=this.encodePoint(s),o=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:a})};br.prototype.verify=function(e,r,i){e=fm(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(n.pub().mul(s));return o.eq(a)};br.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ga.intFromLE(e.digest()).umod(this.curve.n)};br.prototype.keyFromPublic=function(e){return cm.fromPublic(this,e)};br.prototype.keyFromSecret=function(e){return cm.fromSecret(this,e)};br.prototype.makeSignature=function(e){return e instanceof um?e:new um(this,e)};br.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};br.prototype.decodePoint=function(e){e=ga.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&~128),n=(e[r]&128)!=0,s=ga.intFromLE(i);return this.curve.pointFromY(s,n)};br.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};br.prototype.decodeInt=function(e){return ga.intFromLE(e)};br.prototype.isPoint=function(e){return e instanceof this.pointClass}});var pm=R(dm=>{"use strict";var bs=dm;bs.version=Uv().version;bs.utils=mr();bs.rand=hh();bs.curve=ph();bs.curves=lc();bs.ec=tm();bs.eddsa=lm()});var bm=R((MT,ym)=>{var OA=pm().ec,Pi=new OA("secp256k1"),ge=Pi.curve,ke=ge.n.constructor;function kA(t,e){let r=new ke(e);if(r.cmp(ge.p)>=0)return null;r=r.toRed(ge.red);let i=r.redSqr().redIMul(r).redIAdd(ge.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),Pi.keyPair({pub:{x:r,y:i}})}function NA(t,e,r){let i=new ke(e),n=new ke(r);if(i.cmp(ge.p)>=0||n.cmp(ge.p)>=0||(i=i.toRed(ge.red),n=n.toRed(ge.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(ge.b)).isZero()?Pi.keyPair({pub:{x:i,y:n}}):null}function Nn(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:kA(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:NA(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function gs(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}ym.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new ke(t);return e.cmp(ge.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new ke(t),r=ge.n.sub(e).umod(ge.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new ke(e);if(r.cmp(ge.n)>=0||(r.iadd(new ke(t)),r.cmp(ge.n)>=0&&r.isub(ge.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new ke(e);if(r.cmp(ge.n)>=0||r.isZero())return 1;r.imul(new ke(t)),r.cmp(ge.n)>=0&&(r=r.umod(ge.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return Nn(t)===null?1:0},publicKeyCreate(t,e){let r=new ke(e);if(r.cmp(ge.n)>=0||r.isZero())return 1;let i=Pi.keyFromPrivate(e).getPublic();return gs(t,i),0},publicKeyConvert(t,e){let r=Nn(e);if(r===null)return 1;let i=r.getPublic();return gs(t,i),0},publicKeyNegate(t,e){let r=Nn(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),gs(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=Nn(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(gs(t,i),0)},publicKeyTweakAdd(t,e,r){let i=Nn(e);if(i===null)return 1;if(r=new ke(r),r.cmp(ge.n)>=0)return 2;let n=i.getPublic().add(ge.g.mul(r));return n.isInfinity()?2:(gs(t,n),0)},publicKeyTweakMul(t,e,r){let i=Nn(e);if(i===null)return 1;if(r=new ke(r),r.cmp(ge.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return gs(t,n),0},signatureNormalize(t){let e=new ke(t.subarray(0,32)),r=new ke(t.subarray(32,64));return e.cmp(ge.n)>=0||r.cmp(ge.n)>=0?1:(r.cmp(Pi.nh)===1&&t.set(ge.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new ke(r).cmp(ge.n)>=0||new ke(i).cmp(ge.n)>=0)return 1;let{output:n}=t,s=n.subarray(4,4+33);s[0]=0,s.set(r,1);let a=33,o=0;for(;a>1&&s[o]===0&&!(s[o+1]&128);--a,++o);if(s=s.subarray(o),s[0]&128||a>1&&s[0]===0&&!(s[1]&128))return 1;let u=n.subarray(6+33,6+33+33);u[0]=0,u.set(i,1);let c=33,f=0;for(;c>1&&u[f]===0&&!(u[f+1]&128);--c,++f);return u=u.subarray(f),u[0]&128||c>1&&u[0]===0&&!(u[1]&128)?1:(t.outputlen=6+a+c,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+a]=2,n[5+a]=u.length,n.set(u,6+a),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let a=new ke(n);a.cmp(ge.n)>=0&&(a=new ke(0));let o=new ke(e.subarray(6+r));return o.cmp(ge.n)>=0&&(o=new ke(0)),t.set(a.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let o=n;n=u=>{let c=o(e,r,null,i,u);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new ke(c)}}let s=new ke(r);if(s.cmp(ge.n)>=0||s.isZero())return 1;let a;try{a=Pi.sign(e,r,{canonical:!0,k:n,pers:i})}catch(o){return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new ke(i.r),s=new ke(i.s);if(n.cmp(ge.n)>=0||s.cmp(ge.n)>=0)return 1;if(s.cmp(Pi.nh)===1||n.isZero()||s.isZero())return 3;let a=Nn(r);if(a===null)return 2;let o=a.getPublic();return Pi.verify(e,i,o)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new ke(n.r),a=new ke(n.s);if(s.cmp(ge.n)>=0||a.cmp(ge.n)>=0)return 1;if(s.isZero()||a.isZero())return 2;let o;try{o=Pi.recoverPubKey(i,n,r)}catch(u){return 2}return gs(t,o),0},ecdh(t,e,r,i,n,s,a){let o=Nn(e);if(o===null)return 1;let u=new ke(r);if(u.cmp(ge.n)>=0||u.isZero())return 2;let c=o.getPublic().mul(u);if(n===void 0){let f=c.encode(null,!0),h=Pi.hash().update(f).digest();for(let d=0;d<32;++d)t[d]=h[d]}else{s||(s=new Uint8Array(32));let f=c.getX().toArray("be",32);for(let b=0;b<32;++b)s[b]=f[b];a||(a=new Uint8Array(32));let h=c.getY().toArray("be",32);for(let b=0;b<32;++b)a[b]=h[b];let d=n(s,a,i);if(!(d instanceof Uint8Array&&d.length===t.length))return 2;t.set(d)}return 0}}});var vm=R((DT,gm)=>{gm.exports=Fv()(bm())});var wm=R((OT,xm)=>{"use strict";var ei=vm(),{sha256:mm}=(Fr(),_r);xm.exports=t=>{let e=32;function r(){let f;do f=t(32);while(!ei.privateKeyVerify(f));return f}async function i(f,h){let{digest:d}=await mm.digest(h),g=ei.ecdsaSign(d,f);return ei.signatureExport(g.signature)}async function n(f,h,d){let{digest:g}=await mm.digest(d);return h=ei.signatureImport(h),ei.ecdsaVerify(h,g,f)}function s(f){if(!ei.publicKeyVerify(f))throw new Error("Invalid public key");return ei.publicKeyConvert(f,!0)}function a(f){return ei.publicKeyConvert(f,!1)}function o(f){if(!ei.privateKeyVerify(f))throw new Error("Invalid private key")}function u(f){if(!ei.publicKeyVerify(f))throw new Error("Invalid public key")}function c(f){return o(f),ei.publicKeyCreate(f)}return{generateKey:r,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:s,decompressPublicKey:a,validatePrivateKey:o,validatePublicKey:u,computePublicKey:c}}});var Am=R((kT,Sm)=>{"use strict";var{sha256:_m}=(Fr(),_r),LA=We(),{equals:Em}=(jr(),Hr),{toString:qA}=(Xt(),Jt),KA=Zf();Sm.exports=(t,e,r)=>{r=r||wm()(e);class i{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,f){return r.hashAndVerify(this._key,f,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return Em(this.bytes,c.bytes)}async hash(){let{bytes:c}=await _m.digest(this.bytes);return c}}class n{constructor(c,f){this._key=c,this._publicKey=f||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return Em(this.bytes,c.bytes)}async hash(){let{bytes:c}=await _m.digest(this.bytes);return c}async id(){let c=await this.public.hash();return qA(c,"base58btc")}async export(c,f="libp2p-key"){if(f==="libp2p-key")return KA.export(this.bytes,c);throw LA(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(u){return new n(u)}function a(u){return new i(u)}async function o(){let u=await r.generateKey();return new n(u)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:o}}});var Bm=R((NT,Im)=>{"use strict";Im.exports={SHA1:20,SHA256:32,SHA512:64}});var Tm=R(Rm=>{"use strict";var Cm=so(),FA=Bm(),UA={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},zA=async(t,e)=>{let r=await Cm.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};Rm.create=async function(t,e){let r=UA[t],i=await Cm.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return zA(i,n)},length:FA[t]}}});var km=R((qT,Om)=>{"use strict";var Pm=We(),{concat:Mm}=(Vr(),Gr),{fromString:GA}=(jt(),Ht),VA=Tm(),Dm={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Om.exports=async(t,e,r)=>{let i=Dm[t];if(!i){let P=Object.keys(Dm).join(" / ");throw Pm(new Error(`unknown cipher type '${t}'. Must be ${P}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw Pm(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,a=20,o=GA("key expansion"),u=2*(s+n+a),c=await VA.create(e,r),f=await c.digest(o),h=[],d=0;for(;d<u;){let P=await c.digest(Mm([f,o])),M=P.length;d+M>u&&(M=u-d),h.push(P),d+=M,f=await c.digest(f)}let g=u/2,b=Mm(h),x=b.slice(0,g),I=b.slice(g,u),S=P=>({iv:P.slice(0,s),cipherKey:P.slice(s,s+n),macKey:P.slice(s+n)});return{k1:S(x),k2:S(I)}}});var Lm=R((KT,Nm)=>{"use strict";var HA=We();Nm.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw HA(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var Gm=R(zm=>{"use strict";var jA=We(),go=so(),{base64urlToBuffer:qm}=$f(),WA=Lm(),{toString:Mh}=(Xt(),Jt),{concat:YA}=(Vr(),Gr),{equals:$A}=(jr(),Hr),Km={"P-256":256,"P-384":384,"P-521":521};zm.generateEphmeralKeyPair=async function(t){WA(Object.keys(Km),t);let e=await go.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,s)=>{let a;s?a=await go.get().subtle.importKey("jwk",JA(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):a=e.privateKey;let o=[await go.get().subtle.importKey("jwk",Um(t,n),{name:"ECDH",namedCurve:t},!1,[]),a],u=await go.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],Km[t]);return new Uint8Array(u,u.byteOffset,u.byteLength)},i=await go.get().subtle.exportKey("jwk",e.publicKey);return{key:ZA(i),genSharedKey:r}};var Fm={"P-256":32,"P-384":48,"P-521":66};function ZA(t){let e=Fm[t.crv];return YA([Uint8Array.from([4]),qm(t.x,e),qm(t.y,e)],1+e*2)}function Um(t,e){let r=Fm[t];if($A(!e.slice(0,1),Uint8Array.from([4])))throw jA(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Mh(e.slice(1,r+1),"base64url"),y:Mh(e.slice(1+r),"base64url"),ext:!0}}var JA=(t,e)=>({...Um(t,e.public),d:Mh(e.private,"base64url")})});var Hm=R((UT,Vm)=>{"use strict";var XA=Gm();Vm.exports=async t=>XA.generateEphmeralKeyPair(t)});var Ym=R((zT,Wm)=>{"use strict";var Mi=jf();dn();yu();var Dh=ye(),vo=We(),{fromString:QA}=(jt(),Ht),eI=ev(),Nr={rsa:Mv(),ed25519:qv(),secp256k1:Am()(Mi,sh())},vc={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function va(t){let e=Nr[t.toLowerCase()];if(!e){let r=Object.keys(Nr).join(" / ");throw vo(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var tI=async(t,e)=>va(t).generateKeyPair(e),rI=async(t,e,r)=>{let i=va(t);if(t.toLowerCase()!=="ed25519")throw vo(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},iI=t=>{let e=Mi.PublicKey.decode(t),r=e.Data;switch(e.Type){case Mi.KeyType.RSA:return Nr.rsa.unmarshalRsaPublicKey(r);case Mi.KeyType.Ed25519:return Nr.ed25519.unmarshalEd25519PublicKey(r);case Mi.KeyType.Secp256k1:if(Nr.secp256k1)return Nr.secp256k1.unmarshalSecp256k1PublicKey(r);throw vo(new Error(vc.message),vc.code);default:va(e.Type)}},nI=(t,e)=>(e=(e||"rsa").toLowerCase(),va(e),t.bytes),jm=async t=>{let e=Mi.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Mi.KeyType.RSA:return Nr.rsa.unmarshalRsaPrivateKey(r);case Mi.KeyType.Ed25519:return Nr.ed25519.unmarshalEd25519PrivateKey(r);case Mi.KeyType.Secp256k1:if(Nr.secp256k1)return Nr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw vo(new Error(vc.message),vc.code);default:va(e.Type)}},sI=(t,e)=>(e=(e||"rsa").toLowerCase(),va(e),t.bytes),aI=async(t,e)=>{try{let n=await eI.import(t,e);return jm(n)}catch(n){}let r=Dh.pki.decryptRsaPrivateKey(t,e);if(r===null)throw vo(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=Dh.asn1.toDer(Dh.pki.privateKeyToAsn1(r));return i=QA(i.getBytes(),"ascii"),Nr.rsa.unmarshalRsaPrivateKey(i)};Wm.exports={supportedKeys:Nr,keysPBM:Mi,keyStretcher:km(),generateEphemeralKeyPair:Hm(),generateKeyPair:tI,generateKeyPairFromSeed:rI,unmarshalPublicKey:iI,marshalPublicKey:nI,unmarshalPrivateKey:jm,marshalPrivateKey:sI,import:aI}});var $m=R(Oh=>{"use strict";Oh.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"};Oh.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_TOO_MANY_ADDRESSES:"ERR_TOO_MANY_ADDRESSES",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}});var Xm=R((VT,Jm)=>{"use strict";var ma=Un(),Zm=ma.Reader,oI=ma.Writer,He=ma.util,mo=ma.roots["libp2p-envelope"]||(ma.roots["libp2p-envelope"]={});mo.Envelope=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.publicKey=He.newBuffer([]),t.prototype.payloadType=He.newBuffer([]),t.prototype.payload=He.newBuffer([]),t.prototype.signature=He.newBuffer([]),t.encode=function(r,i){return i||(i=oI.create()),r.publicKey!=null&&Object.hasOwnProperty.call(r,"publicKey")&&i.uint32(10).bytes(r.publicKey),r.payloadType!=null&&Object.hasOwnProperty.call(r,"payloadType")&&i.uint32(18).bytes(r.payloadType),r.payload!=null&&Object.hasOwnProperty.call(r,"payload")&&i.uint32(26).bytes(r.payload),r.signature!=null&&Object.hasOwnProperty.call(r,"signature")&&i.uint32(42).bytes(r.signature),i},t.decode=function(r,i){r instanceof Zm||(r=Zm.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new mo.Envelope;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.publicKey=r.bytes();break;case 2:s.payloadType=r.bytes();break;case 3:s.payload=r.bytes();break;case 5:s.signature=r.bytes();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof mo.Envelope)return r;var i=new mo.Envelope;return r.publicKey!=null&&(typeof r.publicKey=="string"?He.base64.decode(r.publicKey,i.publicKey=He.newBuffer(He.base64.length(r.publicKey)),0):r.publicKey.length&&(i.publicKey=r.publicKey)),r.payloadType!=null&&(typeof r.payloadType=="string"?He.base64.decode(r.payloadType,i.payloadType=He.newBuffer(He.base64.length(r.payloadType)),0):r.payloadType.length&&(i.payloadType=r.payloadType)),r.payload!=null&&(typeof r.payload=="string"?He.base64.decode(r.payload,i.payload=He.newBuffer(He.base64.length(r.payload)),0):r.payload.length&&(i.payload=r.payload)),r.signature!=null&&(typeof r.signature=="string"?He.base64.decode(r.signature,i.signature=He.newBuffer(He.base64.length(r.signature)),0):r.signature.length&&(i.signature=r.signature)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.publicKey="":(n.publicKey=[],i.bytes!==Array&&(n.publicKey=He.newBuffer(n.publicKey))),i.bytes===String?n.payloadType="":(n.payloadType=[],i.bytes!==Array&&(n.payloadType=He.newBuffer(n.payloadType))),i.bytes===String?n.payload="":(n.payload=[],i.bytes!==Array&&(n.payload=He.newBuffer(n.payload))),i.bytes===String?n.signature="":(n.signature=[],i.bytes!==Array&&(n.signature=He.newBuffer(n.signature)))),r.publicKey!=null&&r.hasOwnProperty("publicKey")&&(n.publicKey=i.bytes===String?He.base64.encode(r.publicKey,0,r.publicKey.length):i.bytes===Array?Array.prototype.slice.call(r.publicKey):r.publicKey),r.payloadType!=null&&r.hasOwnProperty("payloadType")&&(n.payloadType=i.bytes===String?He.base64.encode(r.payloadType,0,r.payloadType.length):i.bytes===Array?Array.prototype.slice.call(r.payloadType):r.payloadType),r.payload!=null&&r.hasOwnProperty("payload")&&(n.payload=i.bytes===String?He.base64.encode(r.payload,0,r.payload.length):i.bytes===Array?Array.prototype.slice.call(r.payload):r.payload),r.signature!=null&&r.hasOwnProperty("signature")&&(n.signature=i.bytes===String?He.base64.encode(r.signature,0,r.signature.length):i.bytes===Array?Array.prototype.slice.call(r.signature):r.signature),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ma.util.toJSONOptions)},t}();Jm.exports=mo});var r6=R((HT,t6)=>{"use strict";var fI=We(),{concat:cI}=(Vr(),Gr),{fromString:uI}=(jt(),Ht),hI=Ym(),lI=$s(),kh=qo(),{equals:mc}=(jr(),Hr),{codes:dI}=$m(),{Envelope:Qm}=Xm(),Ln=class{constructor({peerId:e,payloadType:r,payload:i,signature:n}){this.peerId=e,this.payloadType=r,this.payload=i,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;let e=hI.marshalPublicKey(this.peerId.pubKey);return this._marshal=Qm.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return mc(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&mc(this.payloadType,e.payloadType)&&mc(this.payload,e.payload)&&mc(this.signature,e.signature)}validate(e){let r=e6(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(r,this.signature)}},e6=(t,e,r)=>{let i=uI(t),n=kh.encode(i.byteLength),s=kh.encode(e.length),a=kh.encode(r.length);return cI([new Uint8Array(n),i,new Uint8Array(s),e,new Uint8Array(a),r])};Ln.createFromProtobuf=async t=>{let e=Qm.decode(t),r=await lI.createFromPubKey(e.publicKey);return new Ln({peerId:r,payloadType:e.payloadType,payload:e.payload,signature:e.signature})};Ln.seal=async(t,e)=>{let r=t.domain,i=t.codec,n=t.marshal(),s=e6(r,i,n),a=await e.privKey.sign(s);return new Ln({peerId:e,payloadType:i,payload:n,signature:a})};Ln.openAndCertify=async(t,e)=>{let r=await Ln.createFromProtobuf(t);if(!await r.validate(e))throw fI(new Error("envelope signature is not valid for the given domain"),dI.ERR_SIGNATURE_NOT_VALID);return r};t6.exports=Ln});var wI=R((Qi,n6)=>{"use strict";var pI=Qi&&Qi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),yI=Qi&&Qi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i6=Qi&&Qi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pI(e,t,r);return yI(e,t),e},xa=Qi&&Qi.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(i.next(f))}catch(h){a(h)}}function u(f){try{c(i.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):n(f.value).then(o,u)}c((i=i.apply(t,e||[])).next())})},Nh=i6(hg()),bI=vg(),Lh=xg(),be=i6(ss()),gI=Eg(),xc=Ku(),Gt=as(),qh=Ng(),vI=Kg(),mI=Wg(),Kh=$s(),xI=r6(),Fh=class extends Nh.default{constructor(e,r={}){let i=[be.GossipsubIDv11,be.GossipsubIDv10],n=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:be.GossipsubD,Dlo:be.GossipsubDlo,Dhi:be.GossipsubDhi,Dscore:be.GossipsubDscore,Dout:be.GossipsubDout,Dlazy:be.GossipsubDlazy,heartbeatInterval:be.GossipsubHeartbeatInterval,fanoutTTL:be.GossipsubFanoutTTL,mcacheLength:be.GossipsubHistoryLength,mcacheGossip:be.GossipsubHistoryGossip,seenTTL:be.GossipsubSeenTTL},r),{scoreParams:qh.createPeerScoreParams(r.scoreParams),scoreThresholds:qh.createPeerScoreThresholds(r.scoreThresholds)});n.fallbackToFloodsub&&i.push(be.FloodsubID);super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:i,libp2p:e},n));this._options=n,this.direct=new Set(n.directPeers.map(s=>s.id.toB58String())),n.directPeers.forEach(s=>{e.peerStore.addressBook.add(s.id,s.addrs)}),this.seenCache=new mI({validity:n.seenTTL/1e3}),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=r.messageCache||new bI.MessageCache(n.mcacheGossip,n.mcacheLength,this.getMsgId.bind(this)),this.heartbeat=new gI.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new vI.IWantTracer(this.getMsgId.bind(this)),this._libp2p=e,this.score=new qh.PeerScore(this._options.scoreParams,e.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return Lh.RPC.decode(e)}_encodeRpc(e){return Lh.RPC.encode(e).finish()}_addPeer(e,r){let i=super._addPeer(e,r);this.score.addPeer(e.toB58String());let n=!1;for(let s of this._libp2p.connectionManager.getAll(e))if(s.stat.direction==="outbound"&&Array.from(s.registry.values()).some(a=>r===a.protocol)){n=!0;break}return this.outbound.set(i.id.toB58String(),n),i}_removePeer(e){let r=super._removePeer(e),i=e.toB58String();for(let n of this.mesh.values())n.delete(i);for(let n of this.fanout.values())n.delete(i);return this.gossip.delete(i),this.control.delete(i),this.outbound.delete(i),this.score.removePeer(i),r}_processRpc(e,r,i){let n=Object.create(null,{_processRpc:{get:()=>super._processRpc}});return xa(this,void 0,void 0,function*(){return(yield n._processRpc.call(this,e,r,i))?(i.control&&this._processRpcControlMessage(e,i.control),!0):!1})}_processRpcControlMessage(e,r){if(!r)return;let i=r.ihave?this._handleIHave(e,r.ihave):[],n=r.iwant?this._handleIWant(e,r.iwant):[],s=r.graft?this._handleGraft(e,r.graft):[];if(r.prune&&this._handlePrune(e,r.prune),!i.length&&!n.length&&!s.length)return;let a=Gt.createGossipRpc(n,{iwant:i,prune:s});this._sendRpc(e,a)}_processRpcMessage(e){let r=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return xa(this,void 0,void 0,function*(){let i=yield this.getMsgId(e),n=Gt.messageIdToString(i);if(this.seenCache.has(n)){this.score.duplicateMessage(e);return}this.seenCache.put(n),yield this.score.validateMessage(e),yield r._processRpcMessage.call(this,e)})}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(e){let r=Object.create(null,{validate:{get:()=>super.validate}});return xa(this,void 0,void 0,function*(){try{yield r.validate.call(this,e)}catch(i){throw this.score.rejectMessage(e,i.code),this.gossipTracer.rejectMessage(e,i.code),i}})}_handleIHave(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,i),[];let n=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,n),n>be.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,n),[];let s=this.iasked.get(e)||0;if(s>=be.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,s),[];let a=new Map;if(r.forEach(({topicID:c,messageIDs:f})=>{!c||!f||!this.mesh.has(c)||f.forEach(h=>{let d=Gt.messageIdToString(h);this.seenCache.has(d)||a.set(d,h)})}),!a.size)return[];let o=a.size;o+s>be.GossipsubMaxIHaveLength&&(o=be.GossipsubMaxIHaveLength-s),this.log("IHAVE: Asking for %d out of %d messages from %s",o,a.size,e);let u=Array.from(a.values());return Gt.shuffle(u),u=u.slice(0,o),this.iasked.set(e,s+o),this.gossipTracer.addPromise(e,u),[{messageIDs:u}]}_handleIWant(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,i),[];let n=new Map;return r.forEach(({messageIDs:s})=>{s&&s.forEach(a=>{let[o,u]=this.messageCache.getForPeer(a,e);if(!!o){if(u>be.GossipsubGossipRetransmission){this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,a);return}n.set(Gt.messageIdToString(a),o)}})}),n.size?(this.log("IWANT: Sending %d messages to %s",n.size,e),Array.from(n.values()).map(Nh.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,r){let i=[],n=this.score.score(e),s=this._now(),a=this._options.doPX;return r.forEach(({topicID:o})=>{var u;if(!o)return;let c=this.mesh.get(o);if(!c){a=!1;return}if(c.has(e))return;if(this.direct.has(e)){this.log("GRAFT: ignoring request from direct peer %s",e),i.push(o),a=!1;return}let f=(u=this.backoff.get(o))===null||u===void 0?void 0:u.get(e);if(typeof f=="number"&&s<f){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),a=!1;let h=f+be.GossipsubGraftFloodThreshold-be.GossipsubPruneBackoff;s<h&&this.score.addPenalty(e,1),this._addBackoff(e,o),i.push(o);return}if(n<0){this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,n,o),i.push(o),a=!1,this._addBackoff(e,o);return}if(c.size>=this._options.Dhi&&!this.outbound.get(e)){i.push(o),this._addBackoff(e,o);return}this.log("GRAFT: Add mesh link from %s in %s",e,o),this.score.graft(e,o),c.add(e)}),i.length?i.map(o=>this._makePrune(e,o,a)):[]}_handlePrune(e,r){let i=this.score.score(e);r.forEach(({topicID:n,backoff:s,peers:a})=>{if(!n)return;let o=this.mesh.get(n);if(!!o&&(this.log("PRUNE: Remove mesh link to %s in %s",e,n),this.score.prune(e,n),o.delete(e),typeof s=="number"&&s>0?this._doAddBackoff(e,n,s*1e3):this._addBackoff(e,n),a&&a.length)){if(i<this._options.scoreThresholds.acceptPXThreshold){this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,i,n);return}this._pxConnect(a)}})}_addBackoff(e,r){this._doAddBackoff(e,r,be.GossipsubPruneBackoff)}_doAddBackoff(e,r,i){let n=this.backoff.get(r);n||(n=new Map,this.backoff.set(r,n));let s=this._now()+i;(n.get(e)||0)<s&&n.set(e,s)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,r)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",r,e),this.score.addPenalty(r,e)})}_clearBackoff(){if(this.heartbeatTicks%be.GossipsubPruneBackoffTicks!=0)return;let e=this._now();this.backoff.forEach((r,i)=>{r.forEach((n,s)=>{n<e&&r.delete(s)}),r.size===0&&this.backoff.delete(i)})}_directConnect(){if(this.heartbeatTicks%be.GossipsubDirectConnectTicks!=0)return;let e=[];this.direct.forEach(r=>{let i=this.peers.get(r);(!i||!i.isWritable)&&e.push(r)}),e.length&&e.forEach(r=>{this._connect(r)})}_pxConnect(e){return xa(this,void 0,void 0,function*(){e.length>be.GossipsubPrunePeers&&(Gt.shuffle(e),e=e.slice(0,be.GossipsubPrunePeers));let r=[];yield Promise.all(e.map(i=>xa(this,void 0,void 0,function*(){if(!i.peerID)return;let s=Kh.createFromBytes(i.peerID).toB58String();if(!this.peers.has(s)){if(!i.signedPeerRecord){r.push(s);return}try{let a=yield xI.openAndCertify(i.signedPeerRecord,"libp2p-peer-record"),o=a.peerId.toB58String();if(s!==o){this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",o,s);return}if(!this._libp2p.peerStore.addressBook.consumePeerRecord(a)){this.log("bogus peer record obtained through px: could not add peer record to address book");return}r.push(s)}catch(a){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}}}))),!!r.length&&r.forEach(i=>this._connect(i))})}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},be.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(Kh.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);let r=this.fanout.get(e);if(r)r.forEach(i=>{this.score.score(i)<0&&r.delete(i)}),r.size<this._options.D&&xc.getGossipPeers(this,e,this._options.D-r.size,i=>!r.has(i)&&!this.direct.has(i)&&this.score.score(i)>=0).forEach(i=>r.add(i)),this.mesh.set(e,r),this.fanout.delete(e),this.lastpub.delete(e);else{let i=xc.getGossipPeers(this,e,this._options.D,n=>!this.direct.has(n)&&this.score.score(n)>=0);this.mesh.set(e,i)}this.mesh.get(e).forEach(i=>{this.log("JOIN: Add mesh link to %s in %s",i,e),this._sendGraft(i,e)})}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);let r=this.mesh.get(e);r&&(r.forEach(i=>{this.log("LEAVE: Remove mesh link to %s in %s",i,e),this._sendPrune(i,e)}),this.mesh.delete(e))}_publish(e){return xa(this,void 0,void 0,function*(){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));let r=yield this.getMsgId(e),i=Gt.messageIdToString(r);this.seenCache.put(i),this.messageCache.put(e);let n=new Set;e.topicIDs.forEach(a=>{let o=this.topics.get(a);if(!!o)if(this._options.floodPublish&&e.receivedFrom===this.peerId.toB58String())o.forEach(u=>{(this.direct.has(u)||this.score.score(u)>=this._options.scoreThresholds.publishThreshold)&&n.add(u)});else{this.direct.forEach(c=>{n.add(c)}),o.forEach(c=>{let f=this.score.score(c),h=this.peers.get(c);!h||h.protocol===be.FloodsubID&&f>=this._options.scoreThresholds.publishThreshold&&n.add(c)});let u=this.mesh.get(a);if(!u||!u.size){if(u=this.fanout.get(a),!u){let c=xc.getGossipPeers(this,a,this._options.D,f=>this.score.score(f)>=this._options.scoreThresholds.publishThreshold);c.size>0?(u=c,this.fanout.set(a,c)):u=new Set}this.lastpub.set(a,this._now())}u.forEach(c=>{n.add(c)})}});let s=Gt.createGossipRpc([Nh.utils.normalizeOutRpcMessage(e)]);n.forEach(a=>{a===e.receivedFrom||a===e.from||this._sendRpc(a,s)})})}_sendGraft(e,r){let i=[{topicID:r}],n=Gt.createGossipRpc([],{graft:i});this._sendRpc(e,n)}_sendPrune(e,r){let i=[this._makePrune(e,r,this._options.doPX)],n=Gt.createGossipRpc([],{prune:i});this._sendRpc(e,n)}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable)return;let n=this.control.get(e);n&&(this._piggybackControl(e,r,n),this.control.delete(e));let s=this.gossip.get(e);s&&(this._piggybackGossip(e,r,s),this.gossip.delete(e)),i.write(Lh.RPC.encode(r).finish())}_piggybackControl(e,r,i){let n=(i.graft||[]).filter(({topicID:a})=>(a&&this.mesh.get(a)||new Set).has(e)),s=(i.prune||[]).filter(({topicID:a})=>!(a&&this.mesh.get(a)||new Set).has(e));!n.length&&!s.length||(r.control?(r.control.graft=r.control.graft&&r.control.graft.concat(n),r.control.prune=r.control.prune&&r.control.prune.concat(s)):r.control={ihave:[],iwant:[],graft:n,prune:s})}_piggybackGossip(e,r,i){r.control||(r.control={ihave:[],iwant:[],graft:[],prune:[]}),r.control.ihave=i}_sendGraftPrune(e,r,i){let n=this._options.doPX;for(let[s,a]of e){let o=a.map(h=>({topicID:h})),u=[],c=r.get(s);c&&(u=c.map(h=>this._makePrune(s,h,n&&!i.get(s))),r.delete(s));let f=Gt.createGossipRpc([],{graft:o,prune:u});this._sendRpc(s,f)}for(let[s,a]of r){let o=a.map(c=>this._makePrune(s,c,n&&!i.get(s))),u=Gt.createGossipRpc([],{prune:o});this._sendRpc(s,u)}}_emitGossip(e,r){let i=this.messageCache.getGossipIDs(e);if(!i.length)return;Gt.shuffle(i),i.length>be.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",i.length);let n=[],s=this.topics.get(e);if(!s)return;s.forEach(u=>{let c=this.peers.get(u);!c||!r.has(u)&&!this.direct.has(u)&&Gt.hasGossipProtocol(c.protocol)&&this.score.score(u)>=this._options.scoreThresholds.gossipThreshold&&n.push(u)});let a=this._options.Dlazy,o=be.GossipsubGossipFactor*n.length;o>a&&(a=o),a>n.length?a=n.length:Gt.shuffle(n),n.slice(0,a).forEach(u=>{let c=i;i.length>be.GossipsubMaxIHaveLength&&(c=Gt.shuffle(c.slice()).slice(0,be.GossipsubMaxIHaveLength)),this._pushGossip(u,{topicID:e,messageIDs:c})})}_flush(){for(let[e,r]of this.gossip.entries()){this.gossip.delete(e);let i=Gt.createGossipRpc([],{ihave:r});this._sendRpc(e,i)}for(let[e,r]of this.control.entries()){this.control.delete(e);let i=Gt.createGossipRpc([],{graft:r.graft,prune:r.prune});this._sendRpc(e,i)}}_pushGossip(e,r){this.log("Add gossip to %s",e);let i=this.gossip.get(e)||[];this.gossip.set(e,i.concat(r))}_now(){return Date.now()}_makePrune(e,r,i){if(this.peers.get(e).protocol===be.GossipsubIDv10)return{topicID:r,peers:[]};let n=be.GossipsubPruneBackoff/1e3,s=[];return i&&xc.getGossipPeers(this,r,be.GossipsubPrunePeers,o=>o!==e&&this.score.score(o)>=0).forEach(o=>{let u=Kh.createFromB58String(o);s.push({peerID:u.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(u)})}),{topicID:r,peers:s,backoff:n}}};Fh.multicodec=be.GossipsubIDv11;n6.exports=Fh});return wI();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) Paul Miller (paulmillr.com) */
return Libp2pGossipsub}));
